(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))c(b);new MutationObserver(b=>{for(const h of b)if(h.type==="childList")for(const y of h.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&c(y)}).observe(document,{childList:!0,subtree:!0});function u(b){const h={};return b.integrity&&(h.integrity=b.integrity),b.referrerPolicy&&(h.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?h.credentials="include":b.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(b){if(b.ep)return;b.ep=!0;const h=u(b);fetch(b.href,h)}})();function eb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gu={exports:{}},Ji={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf;function ig(){if(hf)return Ji;hf=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function u(c,b,h){var y=null;if(h!==void 0&&(y=""+h),b.key!==void 0&&(y=""+b.key),"key"in b){h={};for(var j in b)j!=="key"&&(h[j]=b[j])}else h=b;return b=h.ref,{$$typeof:r,type:c,key:y,ref:b!==void 0?b:null,props:h}}return Ji.Fragment=i,Ji.jsx=u,Ji.jsxs=u,Ji}var ff;function dg(){return ff||(ff=1,gu.exports=ig()),gu.exports}var e=dg(),yu={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf;function og(){if(bf)return it;bf=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),y=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.iterator;function z(C){return C===null||typeof C!="object"?null:(C=M&&C[M]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,B={};function J(C,Y,he){this.props=C,this.context=Y,this.refs=B,this.updater=he||w}J.prototype.isReactComponent={},J.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},J.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function L(){}L.prototype=J.prototype;function U(C,Y,he){this.props=C,this.context=Y,this.refs=B,this.updater=he||w}var D=U.prototype=new L;D.constructor=U,O(D,J.prototype),D.isPureReactComponent=!0;var q=Array.isArray;function Z(){}var P={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function I(C,Y,he){var le=he.ref;return{$$typeof:r,type:C,key:Y,ref:le!==void 0?le:null,props:he}}function ae(C,Y){return I(C.type,Y,C.props)}function xe(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function ve(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(he){return Y[he]})}var Ue=/\/+/g;function st(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?ve(""+C.key):Y.toString(36)}function Ye(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Z,Z):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function T(C,Y,he,le,je){var Ee=typeof C;(Ee==="undefined"||Ee==="boolean")&&(C=null);var me=!1;if(C===null)me=!0;else switch(Ee){case"bigint":case"string":case"number":me=!0;break;case"object":switch(C.$$typeof){case r:case i:me=!0;break;case k:return me=C._init,T(me(C._payload),Y,he,le,je)}}if(me)return je=je(C),me=le===""?"."+st(C,0):le,q(je)?(he="",me!=null&&(he=me.replace(Ue,"$&/")+"/"),T(je,Y,he,"",function(Qe){return Qe})):je!=null&&(xe(je)&&(je=ae(je,he+(je.key==null||C&&C.key===je.key?"":(""+je.key).replace(Ue,"$&/")+"/")+me)),Y.push(je)),1;me=0;var ie=le===""?".":le+":";if(q(C))for(var Ce=0;Ce<C.length;Ce++)le=C[Ce],Ee=ie+st(le,Ce),me+=T(le,Y,he,Ee,je);else if(Ce=z(C),typeof Ce=="function")for(C=Ce.call(C),Ce=0;!(le=C.next()).done;)le=le.value,Ee=ie+st(le,Ce++),me+=T(le,Y,he,Ee,je);else if(Ee==="object"){if(typeof C.then=="function")return T(Ye(C),Y,he,le,je);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return me}function F(C,Y,he){if(C==null)return C;var le=[],je=0;return T(C,le,"","",function(Ee){return Y.call(he,Ee,je++)}),le}function ne(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(he){(C._status===0||C._status===-1)&&(C._status=1,C._result=he)},function(he){(C._status===0||C._status===-1)&&(C._status=2,C._result=he)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var be=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},ce={map:F,forEach:function(C,Y,he){F(C,function(){Y.apply(this,arguments)},he)},count:function(C){var Y=0;return F(C,function(){Y++}),Y},toArray:function(C){return F(C,function(Y){return Y})||[]},only:function(C){if(!xe(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return it.Activity=N,it.Children=ce,it.Component=J,it.Fragment=u,it.Profiler=b,it.PureComponent=U,it.StrictMode=c,it.Suspense=f,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,it.__COMPILER_RUNTIME={__proto__:null,c:function(C){return P.H.useMemoCache(C)}},it.cache=function(C){return function(){return C.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(C,Y,he){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var le=O({},C.props),je=C.key;if(Y!=null)for(Ee in Y.key!==void 0&&(je=""+Y.key),Y)!ee.call(Y,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&Y.ref===void 0||(le[Ee]=Y[Ee]);var Ee=arguments.length-2;if(Ee===1)le.children=he;else if(1<Ee){for(var me=Array(Ee),ie=0;ie<Ee;ie++)me[ie]=arguments[ie+2];le.children=me}return I(C.type,je,le)},it.createContext=function(C){return C={$$typeof:y,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},it.createElement=function(C,Y,he){var le,je={},Ee=null;if(Y!=null)for(le in Y.key!==void 0&&(Ee=""+Y.key),Y)ee.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(je[le]=Y[le]);var me=arguments.length-2;if(me===1)je.children=he;else if(1<me){for(var ie=Array(me),Ce=0;Ce<me;Ce++)ie[Ce]=arguments[Ce+2];je.children=ie}if(C&&C.defaultProps)for(le in me=C.defaultProps,me)je[le]===void 0&&(je[le]=me[le]);return I(C,Ee,je)},it.createRef=function(){return{current:null}},it.forwardRef=function(C){return{$$typeof:j,render:C}},it.isValidElement=xe,it.lazy=function(C){return{$$typeof:k,_payload:{_status:-1,_result:C},_init:ne}},it.memo=function(C,Y){return{$$typeof:p,type:C,compare:Y===void 0?null:Y}},it.startTransition=function(C){var Y=P.T,he={};P.T=he;try{var le=C(),je=P.S;je!==null&&je(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Z,be)}catch(Ee){be(Ee)}finally{Y!==null&&he.types!==null&&(Y.types=he.types),P.T=Y}},it.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},it.use=function(C){return P.H.use(C)},it.useActionState=function(C,Y,he){return P.H.useActionState(C,Y,he)},it.useCallback=function(C,Y){return P.H.useCallback(C,Y)},it.useContext=function(C){return P.H.useContext(C)},it.useDebugValue=function(){},it.useDeferredValue=function(C,Y){return P.H.useDeferredValue(C,Y)},it.useEffect=function(C,Y){return P.H.useEffect(C,Y)},it.useEffectEvent=function(C){return P.H.useEffectEvent(C)},it.useId=function(){return P.H.useId()},it.useImperativeHandle=function(C,Y,he){return P.H.useImperativeHandle(C,Y,he)},it.useInsertionEffect=function(C,Y){return P.H.useInsertionEffect(C,Y)},it.useLayoutEffect=function(C,Y){return P.H.useLayoutEffect(C,Y)},it.useMemo=function(C,Y){return P.H.useMemo(C,Y)},it.useOptimistic=function(C,Y){return P.H.useOptimistic(C,Y)},it.useReducer=function(C,Y,he){return P.H.useReducer(C,Y,he)},it.useRef=function(C){return P.H.useRef(C)},it.useState=function(C){return P.H.useState(C)},it.useSyncExternalStore=function(C,Y,he){return P.H.useSyncExternalStore(C,Y,he)},it.useTransition=function(){return P.H.useTransition()},it.version="19.2.3",it}var pf;function Vu(){return pf||(pf=1,yu.exports=og()),yu.exports}var x=Vu();const tb=eb(x);var vu={exports:{}},Zi={},ju={exports:{}},ku={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf;function cg(){return gf||(gf=1,(function(r){function i(T,F){var ne=T.length;T.push(F);e:for(;0<ne;){var be=ne-1>>>1,ce=T[be];if(0<b(ce,F))T[be]=F,T[ne]=ce,ne=be;else break e}}function u(T){return T.length===0?null:T[0]}function c(T){if(T.length===0)return null;var F=T[0],ne=T.pop();if(ne!==F){T[0]=ne;e:for(var be=0,ce=T.length,C=ce>>>1;be<C;){var Y=2*(be+1)-1,he=T[Y],le=Y+1,je=T[le];if(0>b(he,ne))le<ce&&0>b(je,he)?(T[be]=je,T[le]=ne,be=le):(T[be]=he,T[Y]=ne,be=Y);else if(le<ce&&0>b(je,ne))T[be]=je,T[le]=ne,be=le;else break e}}return F}function b(T,F){var ne=T.sortIndex-F.sortIndex;return ne!==0?ne:T.id-F.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var y=Date,j=y.now();r.unstable_now=function(){return y.now()-j}}var f=[],p=[],k=1,N=null,M=3,z=!1,w=!1,O=!1,B=!1,J=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function D(T){for(var F=u(p);F!==null;){if(F.callback===null)c(p);else if(F.startTime<=T)c(p),F.sortIndex=F.expirationTime,i(f,F);else break;F=u(p)}}function q(T){if(O=!1,D(T),!w)if(u(f)!==null)w=!0,Z||(Z=!0,ve());else{var F=u(p);F!==null&&Ye(q,F.startTime-T)}}var Z=!1,P=-1,ee=5,I=-1;function ae(){return B?!0:!(r.unstable_now()-I<ee)}function xe(){if(B=!1,Z){var T=r.unstable_now();I=T;var F=!0;try{e:{w=!1,O&&(O=!1,L(P),P=-1),z=!0;var ne=M;try{t:{for(D(T),N=u(f);N!==null&&!(N.expirationTime>T&&ae());){var be=N.callback;if(typeof be=="function"){N.callback=null,M=N.priorityLevel;var ce=be(N.expirationTime<=T);if(T=r.unstable_now(),typeof ce=="function"){N.callback=ce,D(T),F=!0;break t}N===u(f)&&c(f),D(T)}else c(f);N=u(f)}if(N!==null)F=!0;else{var C=u(p);C!==null&&Ye(q,C.startTime-T),F=!1}}break e}finally{N=null,M=ne,z=!1}F=void 0}}finally{F?ve():Z=!1}}}var ve;if(typeof U=="function")ve=function(){U(xe)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,st=Ue.port2;Ue.port1.onmessage=xe,ve=function(){st.postMessage(null)}}else ve=function(){J(xe,0)};function Ye(T,F){P=J(function(){T(r.unstable_now())},F)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(T){T.callback=null},r.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<T?Math.floor(1e3/T):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(T){switch(M){case 1:case 2:case 3:var F=3;break;default:F=M}var ne=M;M=F;try{return T()}finally{M=ne}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(T,F){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var ne=M;M=T;try{return F()}finally{M=ne}},r.unstable_scheduleCallback=function(T,F,ne){var be=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?be+ne:be):ne=be,T){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ne+ce,T={id:k++,callback:F,priorityLevel:T,startTime:ne,expirationTime:ce,sortIndex:-1},ne>be?(T.sortIndex=ne,i(p,T),u(f)===null&&T===u(p)&&(O?(L(P),P=-1):O=!0,Ye(q,ne-be))):(T.sortIndex=ce,i(f,T),w||z||(w=!0,Z||(Z=!0,ve()))),T},r.unstable_shouldYield=ae,r.unstable_wrapCallback=function(T){var F=M;return function(){var ne=M;M=F;try{return T.apply(this,arguments)}finally{M=ne}}}})(ku)),ku}var yf;function ug(){return yf||(yf=1,ju.exports=cg()),ju.exports}var Nu={exports:{}},La={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf;function xg(){if(vf)return La;vf=1;var r=Vu();function i(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)p+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var c={d:{f:u,r:function(){throw Error(i(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},b=Symbol.for("react.portal");function h(f,p,k){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:N==null?null:""+N,children:f,containerInfo:p,implementation:k}}var y=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function j(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return La.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,La.createPortal=function(f,p){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(i(299));return h(f,p,null,k)},La.flushSync=function(f){var p=y.T,k=c.p;try{if(y.T=null,c.p=2,f)return f()}finally{y.T=p,c.p=k,c.d.f()}},La.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,c.d.C(f,p))},La.prefetchDNS=function(f){typeof f=="string"&&c.d.D(f)},La.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var k=p.as,N=j(k,p.crossOrigin),M=typeof p.integrity=="string"?p.integrity:void 0,z=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;k==="style"?c.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:N,integrity:M,fetchPriority:z}):k==="script"&&c.d.X(f,{crossOrigin:N,integrity:M,fetchPriority:z,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},La.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var k=j(p.as,p.crossOrigin);c.d.M(f,{crossOrigin:k,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&c.d.M(f)},La.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var k=p.as,N=j(k,p.crossOrigin);c.d.L(f,k,{crossOrigin:N,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},La.preloadModule=function(f,p){if(typeof f=="string")if(p){var k=j(p.as,p.crossOrigin);c.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:k,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else c.d.m(f)},La.requestFormReset=function(f){c.d.r(f)},La.unstable_batchedUpdates=function(f,p){return f(p)},La.useFormState=function(f,p,k){return y.H.useFormState(f,p,k)},La.useFormStatus=function(){return y.H.useHostTransitionStatus()},La.version="19.2.3",La}var jf;function mg(){if(jf)return Nu.exports;jf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),Nu.exports=xg(),Nu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf;function hg(){if(kf)return Zi;kf=1;var r=ug(),i=Vu(),u=mg();function c(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function y(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function j(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function f(t){if(h(t)!==t)throw Error(c(188))}function p(t){var a=t.alternate;if(!a){if(a=h(t),a===null)throw Error(c(188));return a!==t?null:t}for(var s=t,l=a;;){var n=s.return;if(n===null)break;var d=n.alternate;if(d===null){if(l=n.return,l!==null){s=l;continue}break}if(n.child===d.child){for(d=n.child;d;){if(d===s)return f(n),t;if(d===l)return f(n),a;d=d.sibling}throw Error(c(188))}if(s.return!==l.return)s=n,l=d;else{for(var m=!1,g=n.child;g;){if(g===s){m=!0,s=n,l=d;break}if(g===l){m=!0,l=n,s=d;break}g=g.sibling}if(!m){for(g=d.child;g;){if(g===s){m=!0,s=d,l=n;break}if(g===l){m=!0,l=d,s=n;break}g=g.sibling}if(!m)throw Error(c(189))}}if(s.alternate!==l)throw Error(c(190))}if(s.tag!==3)throw Error(c(188));return s.stateNode.current===s?t:a}function k(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=k(t),a!==null)return a;t=t.sibling}return null}var N=Object.assign,M=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),U=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function ve(t){return t===null||typeof t!="object"?null:(t=xe&&t[xe]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ue?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case J:return"Profiler";case B:return"StrictMode";case q:return"Suspense";case Z:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case U:return t.displayName||"Context";case L:return(t._context.displayName||"Context")+".Consumer";case D:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return a=t.displayName||null,a!==null?a:st(t.type)||"Memo";case ee:a=t._payload,t=t._init;try{return st(t(a))}catch{}}return null}var Ye=Array.isArray,T=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},be=[],ce=-1;function C(t){return{current:t}}function Y(t){0>ce||(t.current=be[ce],be[ce]=null,ce--)}function he(t,a){ce++,be[ce]=t.current,t.current=a}var le=C(null),je=C(null),Ee=C(null),me=C(null);function ie(t,a){switch(he(Ee,a),he(je,t),he(le,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?$h(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=$h(a),t=Oh(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(le),he(le,t)}function Ce(){Y(le),Y(je),Y(Ee)}function Qe(t){t.memoizedState!==null&&he(me,t);var a=le.current,s=Oh(a,t.type);a!==s&&(he(je,t),he(le,s))}function at(t){je.current===t&&(Y(le),Y(je)),me.current===t&&(Y(me),Gi._currentValue=ne)}var ge,Se;function ye(t){if(ge===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);ge=a&&a[1]||"",Se=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+t+Se}var Ge=!1;function Re(t,a){if(!t||Ge)return"";Ge=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(K){var X=K}Reflect.construct(t,[],de)}else{try{de.call()}catch(K){X=K}t.call(de.prototype)}}else{try{throw Error()}catch(K){X=K}(de=t())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(K){if(K&&X&&typeof K.stack=="string")return[K.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),m=d[0],g=d[1];if(m&&g){var E=m.split(`
`),G=g.split(`
`);for(n=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;n<G.length&&!G[n].includes("DetermineComponentFrameRoot");)n++;if(l===E.length||n===G.length)for(l=E.length-1,n=G.length-1;1<=l&&0<=n&&E[l]!==G[n];)n--;for(;1<=l&&0<=n;l--,n--)if(E[l]!==G[n]){if(l!==1||n!==1)do if(l--,n--,0>n||E[l]!==G[n]){var te=`
`+E[l].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=l&&0<=n);break}}}finally{Ge=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ye(s):""}function Ae(t,a){switch(t.tag){case 26:case 27:case 5:return ye(t.type);case 16:return ye("Lazy");case 13:return t.child!==a&&a!==null?ye("Suspense Fallback"):ye("Suspense");case 19:return ye("SuspenseList");case 0:case 15:return Re(t.type,!1);case 11:return Re(t.type.render,!1);case 1:return Re(t.type,!0);case 31:return ye("Activity");default:return""}}function Q(t){try{var a="",s=null;do a+=Ae(t,s),s=t,t=t.return;while(t);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,R=r.unstable_scheduleCallback,fe=r.unstable_cancelCallback,_e=r.unstable_shouldYield,He=r.unstable_requestPaint,Ze=r.unstable_now,Ke=r.unstable_getCurrentPriorityLevel,We=r.unstable_ImmediatePriority,At=r.unstable_UserBlockingPriority,Oe=r.unstable_NormalPriority,jt=r.unstable_LowPriority,_t=r.unstable_IdlePriority,W=r.log,Le=r.unstable_setDisableYieldValue,ke=null,se=null;function $e(t){if(typeof W=="function"&&Le(t),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(ke,t)}catch{}}var S=Math.clz32?Math.clz32:Ot,we=Math.log,Nt=Math.LN2;function Ot(t){return t>>>=0,t===0?32:31-(we(t)/Nt|0)|0}var Jt=256,Zt=262144,ue=4194304;function Me(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dt(t,a,s){var l=t.pendingLanes;if(l===0)return 0;var n=0,d=t.suspendedLanes,m=t.pingedLanes;t=t.warmLanes;var g=l&134217727;return g!==0?(l=g&~d,l!==0?n=Me(l):(m&=g,m!==0?n=Me(m):s||(s=g&~t,s!==0&&(n=Me(s))))):(g=l&~d,g!==0?n=Me(g):m!==0?n=Me(m):s||(s=l&~t,s!==0&&(n=Me(s)))),n===0?0:a!==0&&a!==n&&(a&d)===0&&(d=n&-n,s=a&-a,d>=s||d===32&&(s&4194048)!==0)?a:n}function wt(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function lt(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xa(){var t=ue;return ue<<=1,(ue&62914560)===0&&(ue=4194304),t}function Ua(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function ja(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function br(t,a,s,l,n,d){var m=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var g=t.entanglements,E=t.expirationTimes,G=t.hiddenUpdates;for(s=m&~s;0<s;){var te=31-S(s),de=1<<te;g[te]=0,E[te]=-1;var X=G[te];if(X!==null)for(G[te]=null,te=0;te<X.length;te++){var K=X[te];K!==null&&(K.lane&=-536870913)}s&=~de}l!==0&&pr(t,l,0),d!==0&&n===0&&t.tag!==0&&(t.suspendedLanes|=d&~(m&~a))}function pr(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var l=31-S(a);t.entangledLanes|=a,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Wa(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var l=31-S(s),n=1<<l;n&a|t[l]&a&&(t[l]|=a),s&=~n}}function gr(t,a){var s=a&-a;return s=(s&42)!==0?1:yr(s),(s&(t.suspendedLanes|a))!==0?0:s}function yr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function an(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vr(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:nf(t.type))}function ia(t,a){var s=F.p;try{return F.p=t,a()}finally{F.p=s}}var Ie=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Ie,Fe="__reactProps$"+Ie,H="__reactContainer$"+Ie,Xe="__reactEvents$"+Ie,dt="__reactListeners$"+Ie,ta="__reactHandles$"+Ie,Yt="__reactResources$"+Ie,ya="__reactMarker$"+Ie;function da(t){delete t[Ft],delete t[Fe],delete t[Xe],delete t[dt],delete t[ta]}function Gt(t){var a=t[Ft];if(a)return a;for(var s=t.parentNode;s;){if(a=s[H]||s[Ft]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=Vh(t);t!==null;){if(s=t[Ft])return s;t=Vh(t)}return a}t=s,s=t.parentNode}return null}function Ea(t){if(t=t[Ft]||t[H]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function Vs(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(c(33))}function Al(t){var a=t[Yt];return a||(a=t[Yt]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function la(t){t[ya]=!0}var ei=new Set,Ml={};function xs(t,a){Gs(t,a),Gs(t+"Capture",a)}function Gs(t,a){for(Ml[t]=a,t=0;t<a.length;t++)ei.add(a[t])}var vd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ti={},jd={};function ms(t){return pe.call(jd,t)?!0:pe.call(ti,t)?!1:vd.test(t)?jd[t]=!0:(ti[t]=!0,!1)}function As(t,a,s){if(ms(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function hs(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function fs(t,a,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+l)}}function St(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ma(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Pe(t,a,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,d=l.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return n.call(this)},set:function(m){s=""+m,d.call(this,m)}}),Object.defineProperty(t,a,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Tl(t){if(!t._valueTracker){var a=ma(t)?"checked":"value";t._valueTracker=Pe(t,a,""+t[a])}}function Ms(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),l="";return t&&(l=ma(t)?t.checked?"true":"false":t.value),t=l,t!==s?(a.setValue(t),!0):!1}function jr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ct=/[\n"\\]/g;function Da(t){return t.replace(ct,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function sn(t,a,s,l,n,d,m,g){t.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.type=m:t.removeAttribute("type"),a!=null?m==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+St(a)):t.value!==""+St(a)&&(t.value=""+St(a)):m!=="submit"&&m!=="reset"||t.removeAttribute("value"),a!=null?ai(t,m,St(a)):s!=null?ai(t,m,St(s)):l!=null&&t.removeAttribute("value"),n==null&&d!=null&&(t.defaultChecked=!!d),n!=null&&(t.checked=n&&typeof n!="function"&&typeof n!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.name=""+St(g):t.removeAttribute("name")}function Qs(t,a,s,l,n,d,m,g){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),a!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||a!=null)){Tl(t);return}s=s!=null?""+St(s):"",a=a!=null?""+St(a):s,g||a===t.value||(t.value=a),t.defaultValue=a}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=g?t.checked:!!l,t.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.name=m),Tl(t)}function ai(t,a,s){a==="number"&&jr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Xs(t,a,s,l){if(t=t.options,a){a={};for(var n=0;n<s.length;n++)a["$"+s[n]]=!0;for(s=0;s<t.length;s++)n=a.hasOwnProperty("$"+t[s].value),t[s].selected!==n&&(t[s].selected=n),n&&l&&(t[s].defaultSelected=!0)}else{for(s=""+St(s),a=null,n=0;n<t.length;n++){if(t[n].value===s){t[n].selected=!0,l&&(t[n].defaultSelected=!0);return}a!==null||t[n].disabled||(a=t[n])}a!==null&&(a.selected=!0)}}function kd(t,a,s){if(a!=null&&(a=""+St(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+St(s):""}function ln(t,a,s,l){if(a==null){if(l!=null){if(s!=null)throw Error(c(92));if(Ye(l)){if(1<l.length)throw Error(c(93));l=l[0]}s=l}s==null&&(s=""),a=s}s=St(a),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Tl(t)}function _l(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var si=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rn(t,a,s){var l=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":l?t.setProperty(a,s):typeof s!="number"||s===0||si.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function Nd(t,a,s){if(a!=null&&typeof a!="object")throw Error(c(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var n in a)l=a[n],a.hasOwnProperty(n)&&s[n]!==l&&rn(t,n,l)}else for(var d in a)a.hasOwnProperty(d)&&rn(t,d,a[d])}function kr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),li=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nr(t){return li.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function bs(){}var wr=null;function Ps(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dl=null,ps=null;function nl(t){var a=Ea(t);if(a&&(t=a.stateNode)){var s=t[Fe]||null;e:switch(t=a.stateNode,a.type){case"input":if(sn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Da(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var l=s[a];if(l!==t&&l.form===t.form){var n=l[Fe]||null;if(!n)throw Error(c(90));sn(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(a=0;a<s.length;a++)l=s[a],l.form===t.form&&Ms(l)}break e;case"textarea":kd(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&Xs(t,!!s.multiple,a,!1)}}}var nn=!1;function dn(t,a,s){if(nn)return t(a,s);nn=!0;try{var l=t(a);return l}finally{if(nn=!1,(Dl!==null||ps!==null)&&(go(),Dl&&(a=Dl,t=ps,ps=Dl=null,nl(a),t)))for(a=0;a<t.length;a++)nl(t[a])}}function Rl(t,a){var s=t.stateNode;if(s===null)return null;var l=s[Fe]||null;if(l===null)return null;s=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(c(231,a,typeof s));return s}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ll=!1;if(gs)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){Ll=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{Ll=!1}var Ut=null,ri=null,on=null;function wd(){if(on)return on;var t,a=ri,s=a.length,l,n="value"in Ut?Ut.value:Ut.textContent,d=n.length;for(t=0;t<s&&a[t]===n[t];t++);var m=s-t;for(l=1;l<=m&&a[s-l]===n[d-l];l++);return on=n.slice(t,1<l?1-l:void 0)}function Ts(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Js(){return!0}function ni(){return!1}function Ra(t){function a(s,l,n,d,m){this._reactName=s,this._targetInst=n,this.type=l,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var g in t)t.hasOwnProperty(g)&&(s=t[g],this[g]=s?s(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Js:ni,this.isPropagationStopped=ni,this}return N(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Js)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Js)},persist:function(){},isPersistent:Js}),a}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=Ra(_s),Sr=N({},_s,{view:0,detail:0}),uc=Ra(Sr),ii,cn,Cr,un=N({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ui,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cr&&(Cr&&t.type==="mousemove"?(ii=t.screenX-Cr.screenX,cn=t.screenY-Cr.screenY):cn=ii=0,Cr=t),ii)},movementY:function(t){return"movementY"in t?t.movementY:cn}}),di=Ra(un),Sd=N({},un,{dataTransfer:0}),xn=Ra(Sd),xc=N({},Sr,{relatedTarget:0}),oi=Ra(xc),mc=N({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),hc=Ra(mc),Cd=N({},_s,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mn=Ra(Cd),fc=N({},_s,{data:0}),Ed=Ra(fc),bc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ci={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gc(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=ci[t])?!!a[t]:!1}function ui(){return gc}var yc=N({},Sr,{key:function(t){if(t.key){var a=bc[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Ts(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ui,charCode:function(t){return t.type==="keypress"?Ts(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ts(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vc=Ra(yc),Er=N({},un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zd=Ra(Er),hn=N({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ui}),Ad=Ra(hn),jc=N({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),zr=Ra(jc),kc=N({},un,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nc=Ra(kc),wc=N({},_s,{newState:0,oldState:0}),Sc=Ra(wc),Md=[9,13,27,32],xi=gs&&"CompositionEvent"in window,Ar=null;gs&&"documentMode"in document&&(Ar=document.documentMode);var Cc=gs&&"TextEvent"in window&&!Ar,Td=gs&&(!xi||Ar&&8<Ar&&11>=Ar),_d=" ",Dd=!1;function Mr(t,a){switch(t){case"keyup":return Md.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mi(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var il=!1;function Rd(t,a){switch(t){case"compositionend":return mi(a);case"keypress":return a.which!==32?null:(Dd=!0,_d);case"textInput":return t=a.data,t===_d&&Dd?null:t;default:return null}}function Ld(t,a){if(il)return t==="compositionend"||!xi&&Mr(t,a)?(t=wd(),on=ri=Ut=null,il=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Td&&a.locale!=="ko"?null:a.data;default:return null}}var $d={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hi(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!$d[t.type]:a==="textarea"}function fi(t,a,s,l){Dl?ps?ps.push(l):ps=[l]:Dl=l,a=So(a,"onChange"),0<a.length&&(s=new $l("onChange","change",null,s,l),t.push({event:s,listeners:a}))}var Ol=null,Ul=null;function o(t){Mh(t,0)}function v(t){var a=Vs(t);if(Ms(a))return t}function A(t,a){if(t==="change")return a}var Ne=!1;if(gs){var rt;if(gs){var tt="oninput"in document;if(!tt){var Qt=document.createElement("div");Qt.setAttribute("oninput","return;"),tt=typeof Qt.oninput=="function"}rt=tt}else rt=!1;Ne=rt&&(!document.documentMode||9<document.documentMode)}function nt(){Ol&&(Ol.detachEvent("onpropertychange",Na),Ul=Ol=null)}function Na(t){if(t.propertyName==="value"&&v(Ul)){var a=[];fi(a,Ul,t,Ps(t)),dn(o,a)}}function Ct(t,a,s){t==="focusin"?(nt(),Ol=a,Ul=s,Ol.attachEvent("onpropertychange",Na)):t==="focusout"&&nt()}function wa(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return v(Ul)}function Et(t,a){if(t==="click")return v(a)}function Ds(t,a){if(t==="input"||t==="change")return v(a)}function es(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var zt=typeof Object.is=="function"?Object.is:es;function Rs(t,a){if(zt(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),l=Object.keys(a);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var n=s[l];if(!pe.call(a,n)||!zt(t[n],a[n]))return!1}return!0}function Va(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ls(t,a){var s=Va(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=a&&l>=a)return{node:s,offset:a-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Va(s)}}function ax(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?ax(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function sx(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=jr(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=jr(t.document)}return a}function Ec(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var Ib=gs&&"documentMode"in document&&11>=document.documentMode,fn=null,zc=null,bi=null,Ac=!1;function lx(t,a,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ac||fn==null||fn!==jr(l)||(l=fn,"selectionStart"in l&&Ec(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bi&&Rs(bi,l)||(bi=l,l=So(zc,"onSelect"),0<l.length&&(a=new $l("onSelect","select",null,a,s),t.push({event:a,listeners:l}),a.target=fn)))}function Tr(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var bn={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},Mc={},rx={};gs&&(rx=document.createElement("div").style,"AnimationEvent"in window||(delete bn.animationend.animation,delete bn.animationiteration.animation,delete bn.animationstart.animation),"TransitionEvent"in window||delete bn.transitionend.transition);function _r(t){if(Mc[t])return Mc[t];if(!bn[t])return t;var a=bn[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in rx)return Mc[t]=a[s];return t}var nx=_r("animationend"),ix=_r("animationiteration"),dx=_r("animationstart"),Bb=_r("transitionrun"),qb=_r("transitionstart"),Yb=_r("transitioncancel"),ox=_r("transitionend"),cx=new Map,Tc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tc.push("scrollEnd");function $s(t,a){cx.set(t,a),xs(a,[t])}var Od=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ys=[],pn=0,_c=0;function Ud(){for(var t=pn,a=_c=pn=0;a<t;){var s=ys[a];ys[a++]=null;var l=ys[a];ys[a++]=null;var n=ys[a];ys[a++]=null;var d=ys[a];if(ys[a++]=null,l!==null&&n!==null){var m=l.pending;m===null?n.next=n:(n.next=m.next,m.next=n),l.pending=n}d!==0&&ux(s,n,d)}}function Hd(t,a,s,l){ys[pn++]=t,ys[pn++]=a,ys[pn++]=s,ys[pn++]=l,_c|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Dc(t,a,s,l){return Hd(t,a,s,l),Id(t)}function Dr(t,a){return Hd(t,null,null,a),Id(t)}function ux(t,a,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var n=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(n=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,n&&a!==null&&(n=31-S(s),t=d.hiddenUpdates,l=t[n],l===null?t[n]=[a]:l.push(a),a.lane=s|536870912),d):null}function Id(t){if(50<Ui)throw Ui=0,q0=null,Error(c(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var gn={};function Vb(t,a,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(t,a,s,l){return new Vb(t,a,s,l)}function Rc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dl(t,a){var s=t.alternate;return s===null?(s=ts(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function xx(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Bd(t,a,s,l,n,d){var m=0;if(l=t,typeof t=="function")Rc(t)&&(m=1);else if(typeof t=="string")m=Jp(t,s,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=ts(31,s,a,n),t.elementType=I,t.lanes=d,t;case O:return Rr(s.children,n,d,a);case B:m=8,n|=24;break;case J:return t=ts(12,s,a,n|2),t.elementType=J,t.lanes=d,t;case q:return t=ts(13,s,a,n),t.elementType=q,t.lanes=d,t;case Z:return t=ts(19,s,a,n),t.elementType=Z,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:m=10;break e;case L:m=9;break e;case D:m=11;break e;case P:m=14;break e;case ee:m=16,l=null;break e}m=29,s=Error(c(130,t===null?"null":typeof t,"")),l=null}return a=ts(m,s,a,n),a.elementType=t,a.type=l,a.lanes=d,a}function Rr(t,a,s,l){return t=ts(7,t,l,a),t.lanes=s,t}function Lc(t,a,s){return t=ts(6,t,null,a),t.lanes=s,t}function mx(t){var a=ts(18,null,null,0);return a.stateNode=t,a}function $c(t,a,s){return a=ts(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var hx=new WeakMap;function vs(t,a){if(typeof t=="object"&&t!==null){var s=hx.get(t);return s!==void 0?s:(a={value:t,source:a,stack:Q(a)},hx.set(t,a),a)}return{value:t,source:a,stack:Q(a)}}var yn=[],vn=0,qd=null,pi=0,js=[],ks=0,Hl=null,Zs=1,Fs="";function ol(t,a){yn[vn++]=pi,yn[vn++]=qd,qd=t,pi=a}function fx(t,a,s){js[ks++]=Zs,js[ks++]=Fs,js[ks++]=Hl,Hl=t;var l=Zs;t=Fs;var n=32-S(l)-1;l&=~(1<<n),s+=1;var d=32-S(a)+n;if(30<d){var m=n-n%5;d=(l&(1<<m)-1).toString(32),l>>=m,n-=m,Zs=1<<32-S(a)+n|s<<n|l,Fs=d+t}else Zs=1<<d|s<<n|l,Fs=t}function Oc(t){t.return!==null&&(ol(t,1),fx(t,1,0))}function Uc(t){for(;t===qd;)qd=yn[--vn],yn[vn]=null,pi=yn[--vn],yn[vn]=null;for(;t===Hl;)Hl=js[--ks],js[ks]=null,Fs=js[--ks],js[ks]=null,Zs=js[--ks],js[ks]=null}function bx(t,a){js[ks++]=Zs,js[ks++]=Fs,js[ks++]=Hl,Zs=a.id,Fs=a.overflow,Hl=t}var za=null,Xt=null,kt=!1,Il=null,Ns=!1,Hc=Error(c(519));function Bl(t){var a=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gi(vs(a,t)),Hc}function px(t){var a=t.stateNode,s=t.type,l=t.memoizedProps;switch(a[Ft]=t,a[Fe]=l,s){case"dialog":ft("cancel",a),ft("close",a);break;case"iframe":case"object":case"embed":ft("load",a);break;case"video":case"audio":for(s=0;s<Ii.length;s++)ft(Ii[s],a);break;case"source":ft("error",a);break;case"img":case"image":case"link":ft("error",a),ft("load",a);break;case"details":ft("toggle",a);break;case"input":ft("invalid",a),Qs(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ft("invalid",a);break;case"textarea":ft("invalid",a),ln(a,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||l.suppressHydrationWarning===!0||Rh(a.textContent,s)?(l.popover!=null&&(ft("beforetoggle",a),ft("toggle",a)),l.onScroll!=null&&ft("scroll",a),l.onScrollEnd!=null&&ft("scrollend",a),l.onClick!=null&&(a.onclick=bs),a=!0):a=!1,a||Bl(t,!0)}function gx(t){for(za=t.return;za;)switch(za.tag){case 5:case 31:case 13:Ns=!1;return;case 27:case 3:Ns=!0;return;default:za=za.return}}function jn(t){if(t!==za)return!1;if(!kt)return gx(t),kt=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||su(t.type,t.memoizedProps)),s=!s),s&&Xt&&Bl(t),gx(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));Xt=Yh(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));Xt=Yh(t)}else a===27?(a=Xt,tr(t.type)?(t=du,du=null,Xt=t):Xt=a):Xt=za?Ss(t.stateNode.nextSibling):null;return!0}function Lr(){Xt=za=null,kt=!1}function Ic(){var t=Il;return t!==null&&(Pa===null?Pa=t:Pa.push.apply(Pa,t),Il=null),t}function gi(t){Il===null?Il=[t]:Il.push(t)}var Bc=C(null),$r=null,cl=null;function ql(t,a,s){he(Bc,a._currentValue),a._currentValue=s}function ul(t){t._currentValue=Bc.current,Y(Bc)}function qc(t,a,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),t===s)break;t=t.return}}function Yc(t,a,s,l){var n=t.child;for(n!==null&&(n.return=t);n!==null;){var d=n.dependencies;if(d!==null){var m=n.child;d=d.firstContext;e:for(;d!==null;){var g=d;d=n;for(var E=0;E<a.length;E++)if(g.context===a[E]){d.lanes|=s,g=d.alternate,g!==null&&(g.lanes|=s),qc(d.return,s,t),l||(m=null);break e}d=g.next}}else if(n.tag===18){if(m=n.return,m===null)throw Error(c(341));m.lanes|=s,d=m.alternate,d!==null&&(d.lanes|=s),qc(m,s,t),m=null}else m=n.child;if(m!==null)m.return=n;else for(m=n;m!==null;){if(m===t){m=null;break}if(n=m.sibling,n!==null){n.return=m.return,m=n;break}m=m.return}n=m}}function kn(t,a,s,l){t=null;for(var n=a,d=!1;n!==null;){if(!d){if((n.flags&524288)!==0)d=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var m=n.alternate;if(m===null)throw Error(c(387));if(m=m.memoizedProps,m!==null){var g=n.type;zt(n.pendingProps.value,m.value)||(t!==null?t.push(g):t=[g])}}else if(n===me.current){if(m=n.alternate,m===null)throw Error(c(387));m.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(t!==null?t.push(Gi):t=[Gi])}n=n.return}t!==null&&Yc(a,t,s,l),a.flags|=262144}function Yd(t){for(t=t.firstContext;t!==null;){if(!zt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Or(t){$r=t,cl=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Aa(t){return yx($r,t)}function Vd(t,a){return $r===null&&Or(t),yx(t,a)}function yx(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},cl===null){if(t===null)throw Error(c(308));cl=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else cl=cl.next=a;return s}var Gb=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},Qb=r.unstable_scheduleCallback,Xb=r.unstable_NormalPriority,ha={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vc(){return{controller:new Gb,data:new Map,refCount:0}}function yi(t){t.refCount--,t.refCount===0&&Qb(Xb,function(){t.controller.abort()})}var vi=null,Gc=0,Nn=0,wn=null;function Pb(t,a){if(vi===null){var s=vi=[];Gc=0,Nn=P0(),wn={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Gc++,a.then(vx,vx),a}function vx(){if(--Gc===0&&vi!==null){wn!==null&&(wn.status="fulfilled");var t=vi;vi=null,Nn=0,wn=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function Jb(t,a){var s=[],l={status:"pending",value:null,reason:null,then:function(n){s.push(n)}};return t.then(function(){l.status="fulfilled",l.value=a;for(var n=0;n<s.length;n++)(0,s[n])(a)},function(n){for(l.status="rejected",l.reason=n,n=0;n<s.length;n++)(0,s[n])(void 0)}),l}var jx=T.S;T.S=function(t,a){lh=Ze(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Pb(t,a),jx!==null&&jx(t,a)};var Ur=C(null);function Qc(){var t=Ur.current;return t!==null?t:Vt.pooledCache}function Gd(t,a){a===null?he(Ur,Ur.current):he(Ur,a.pool)}function kx(){var t=Qc();return t===null?null:{parent:ha._currentValue,pool:t}}var Sn=Error(c(460)),Xc=Error(c(474)),Qd=Error(c(542)),Xd={then:function(){}};function Nx(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wx(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(bs,bs),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Cx(t),t;default:if(typeof a.status=="string")a.then(bs,bs);else{if(t=Vt,t!==null&&100<t.shellSuspendCounter)throw Error(c(482));t=a,t.status="pending",t.then(function(l){if(a.status==="pending"){var n=a;n.status="fulfilled",n.value=l}},function(l){if(a.status==="pending"){var n=a;n.status="rejected",n.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Cx(t),t}throw Ir=a,Sn}}function Hr(t){try{var a=t._init;return a(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ir=s,Sn):s}}var Ir=null;function Sx(){if(Ir===null)throw Error(c(459));var t=Ir;return Ir=null,t}function Cx(t){if(t===Sn||t===Qd)throw Error(c(483))}var Cn=null,ji=0;function Pd(t){var a=ji;return ji+=1,Cn===null&&(Cn=[]),wx(Cn,t,a)}function ki(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Jd(t,a){throw a.$$typeof===M?Error(c(525)):(t=Object.prototype.toString.call(a),Error(c(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Ex(t){function a($,_){if(t){var V=$.deletions;V===null?($.deletions=[_],$.flags|=16):V.push(_)}}function s($,_){if(!t)return null;for(;_!==null;)a($,_),_=_.sibling;return null}function l($){for(var _=new Map;$!==null;)$.key!==null?_.set($.key,$):_.set($.index,$),$=$.sibling;return _}function n($,_){return $=dl($,_),$.index=0,$.sibling=null,$}function d($,_,V){return $.index=V,t?(V=$.alternate,V!==null?(V=V.index,V<_?($.flags|=67108866,_):V):($.flags|=67108866,_)):($.flags|=1048576,_)}function m($){return t&&$.alternate===null&&($.flags|=67108866),$}function g($,_,V,re){return _===null||_.tag!==6?(_=Lc(V,$.mode,re),_.return=$,_):(_=n(_,V),_.return=$,_)}function E($,_,V,re){var Je=V.type;return Je===O?te($,_,V.props.children,re,V.key):_!==null&&(_.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===ee&&Hr(Je)===_.type)?(_=n(_,V.props),ki(_,V),_.return=$,_):(_=Bd(V.type,V.key,V.props,null,$.mode,re),ki(_,V),_.return=$,_)}function G($,_,V,re){return _===null||_.tag!==4||_.stateNode.containerInfo!==V.containerInfo||_.stateNode.implementation!==V.implementation?(_=$c(V,$.mode,re),_.return=$,_):(_=n(_,V.children||[]),_.return=$,_)}function te($,_,V,re,Je){return _===null||_.tag!==7?(_=Rr(V,$.mode,re,Je),_.return=$,_):(_=n(_,V),_.return=$,_)}function de($,_,V){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Lc(""+_,$.mode,V),_.return=$,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case z:return V=Bd(_.type,_.key,_.props,null,$.mode,V),ki(V,_),V.return=$,V;case w:return _=$c(_,$.mode,V),_.return=$,_;case ee:return _=Hr(_),de($,_,V)}if(Ye(_)||ve(_))return _=Rr(_,$.mode,V,null),_.return=$,_;if(typeof _.then=="function")return de($,Pd(_),V);if(_.$$typeof===U)return de($,Vd($,_),V);Jd($,_)}return null}function X($,_,V,re){var Je=_!==null?_.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Je!==null?null:g($,_,""+V,re);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case z:return V.key===Je?E($,_,V,re):null;case w:return V.key===Je?G($,_,V,re):null;case ee:return V=Hr(V),X($,_,V,re)}if(Ye(V)||ve(V))return Je!==null?null:te($,_,V,re,null);if(typeof V.then=="function")return X($,_,Pd(V),re);if(V.$$typeof===U)return X($,_,Vd($,V),re);Jd($,V)}return null}function K($,_,V,re,Je){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return $=$.get(V)||null,g(_,$,""+re,Je);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case z:return $=$.get(re.key===null?V:re.key)||null,E(_,$,re,Je);case w:return $=$.get(re.key===null?V:re.key)||null,G(_,$,re,Je);case ee:return re=Hr(re),K($,_,V,re,Je)}if(Ye(re)||ve(re))return $=$.get(V)||null,te(_,$,re,Je,null);if(typeof re.then=="function")return K($,_,V,Pd(re),Je);if(re.$$typeof===U)return K($,_,V,Vd(_,re),Je);Jd(_,re)}return null}function Be($,_,V,re){for(var Je=null,Mt=null,Ve=_,ut=_=0,pt=null;Ve!==null&&ut<V.length;ut++){Ve.index>ut?(pt=Ve,Ve=null):pt=Ve.sibling;var Tt=X($,Ve,V[ut],re);if(Tt===null){Ve===null&&(Ve=pt);break}t&&Ve&&Tt.alternate===null&&a($,Ve),_=d(Tt,_,ut),Mt===null?Je=Tt:Mt.sibling=Tt,Mt=Tt,Ve=pt}if(ut===V.length)return s($,Ve),kt&&ol($,ut),Je;if(Ve===null){for(;ut<V.length;ut++)Ve=de($,V[ut],re),Ve!==null&&(_=d(Ve,_,ut),Mt===null?Je=Ve:Mt.sibling=Ve,Mt=Ve);return kt&&ol($,ut),Je}for(Ve=l(Ve);ut<V.length;ut++)pt=K(Ve,$,ut,V[ut],re),pt!==null&&(t&&pt.alternate!==null&&Ve.delete(pt.key===null?ut:pt.key),_=d(pt,_,ut),Mt===null?Je=pt:Mt.sibling=pt,Mt=pt);return t&&Ve.forEach(function(nr){return a($,nr)}),kt&&ol($,ut),Je}function et($,_,V,re){if(V==null)throw Error(c(151));for(var Je=null,Mt=null,Ve=_,ut=_=0,pt=null,Tt=V.next();Ve!==null&&!Tt.done;ut++,Tt=V.next()){Ve.index>ut?(pt=Ve,Ve=null):pt=Ve.sibling;var nr=X($,Ve,Tt.value,re);if(nr===null){Ve===null&&(Ve=pt);break}t&&Ve&&nr.alternate===null&&a($,Ve),_=d(nr,_,ut),Mt===null?Je=nr:Mt.sibling=nr,Mt=nr,Ve=pt}if(Tt.done)return s($,Ve),kt&&ol($,ut),Je;if(Ve===null){for(;!Tt.done;ut++,Tt=V.next())Tt=de($,Tt.value,re),Tt!==null&&(_=d(Tt,_,ut),Mt===null?Je=Tt:Mt.sibling=Tt,Mt=Tt);return kt&&ol($,ut),Je}for(Ve=l(Ve);!Tt.done;ut++,Tt=V.next())Tt=K(Ve,$,ut,Tt.value,re),Tt!==null&&(t&&Tt.alternate!==null&&Ve.delete(Tt.key===null?ut:Tt.key),_=d(Tt,_,ut),Mt===null?Je=Tt:Mt.sibling=Tt,Mt=Tt);return t&&Ve.forEach(function(ng){return a($,ng)}),kt&&ol($,ut),Je}function Bt($,_,V,re){if(typeof V=="object"&&V!==null&&V.type===O&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case z:e:{for(var Je=V.key;_!==null;){if(_.key===Je){if(Je=V.type,Je===O){if(_.tag===7){s($,_.sibling),re=n(_,V.props.children),re.return=$,$=re;break e}}else if(_.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===ee&&Hr(Je)===_.type){s($,_.sibling),re=n(_,V.props),ki(re,V),re.return=$,$=re;break e}s($,_);break}else a($,_);_=_.sibling}V.type===O?(re=Rr(V.props.children,$.mode,re,V.key),re.return=$,$=re):(re=Bd(V.type,V.key,V.props,null,$.mode,re),ki(re,V),re.return=$,$=re)}return m($);case w:e:{for(Je=V.key;_!==null;){if(_.key===Je)if(_.tag===4&&_.stateNode.containerInfo===V.containerInfo&&_.stateNode.implementation===V.implementation){s($,_.sibling),re=n(_,V.children||[]),re.return=$,$=re;break e}else{s($,_);break}else a($,_);_=_.sibling}re=$c(V,$.mode,re),re.return=$,$=re}return m($);case ee:return V=Hr(V),Bt($,_,V,re)}if(Ye(V))return Be($,_,V,re);if(ve(V)){if(Je=ve(V),typeof Je!="function")throw Error(c(150));return V=Je.call(V),et($,_,V,re)}if(typeof V.then=="function")return Bt($,_,Pd(V),re);if(V.$$typeof===U)return Bt($,_,Vd($,V),re);Jd($,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,_!==null&&_.tag===6?(s($,_.sibling),re=n(_,V),re.return=$,$=re):(s($,_),re=Lc(V,$.mode,re),re.return=$,$=re),m($)):s($,_)}return function($,_,V,re){try{ji=0;var Je=Bt($,_,V,re);return Cn=null,Je}catch(Ve){if(Ve===Sn||Ve===Qd)throw Ve;var Mt=ts(29,Ve,null,$.mode);return Mt.lanes=re,Mt.return=$,Mt}finally{}}}var Br=Ex(!0),zx=Ex(!1),Yl=!1;function Pc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jc(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gl(t,a,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Rt&2)!==0){var n=l.pending;return n===null?a.next=a:(a.next=n.next,n.next=a),l.pending=a,a=Id(t),ux(t,null,s),a}return Hd(t,l,a,s),Id(t)}function Ni(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var l=a.lanes;l&=t.pendingLanes,s|=l,a.lanes=s,Wa(t,s)}}function Zc(t,a){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var n=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var m={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?n=d=m:d=d.next=m,s=s.next}while(s!==null);d===null?n=d=a:d=d.next=a}else n=d=a;s={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var Fc=!1;function wi(){if(Fc){var t=wn;if(t!==null)throw t}}function Si(t,a,s,l){Fc=!1;var n=t.updateQueue;Yl=!1;var d=n.firstBaseUpdate,m=n.lastBaseUpdate,g=n.shared.pending;if(g!==null){n.shared.pending=null;var E=g,G=E.next;E.next=null,m===null?d=G:m.next=G,m=E;var te=t.alternate;te!==null&&(te=te.updateQueue,g=te.lastBaseUpdate,g!==m&&(g===null?te.firstBaseUpdate=G:g.next=G,te.lastBaseUpdate=E))}if(d!==null){var de=n.baseState;m=0,te=G=E=null,g=d;do{var X=g.lane&-536870913,K=X!==g.lane;if(K?(bt&X)===X:(l&X)===X){X!==0&&X===Nn&&(Fc=!0),te!==null&&(te=te.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var Be=t,et=g;X=a;var Bt=s;switch(et.tag){case 1:if(Be=et.payload,typeof Be=="function"){de=Be.call(Bt,de,X);break e}de=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=et.payload,X=typeof Be=="function"?Be.call(Bt,de,X):Be,X==null)break e;de=N({},de,X);break e;case 2:Yl=!0}}X=g.callback,X!==null&&(t.flags|=64,K&&(t.flags|=8192),K=n.callbacks,K===null?n.callbacks=[X]:K.push(X))}else K={lane:X,tag:g.tag,payload:g.payload,callback:g.callback,next:null},te===null?(G=te=K,E=de):te=te.next=K,m|=X;if(g=g.next,g===null){if(g=n.shared.pending,g===null)break;K=g,g=K.next,K.next=null,n.lastBaseUpdate=K,n.shared.pending=null}}while(!0);te===null&&(E=de),n.baseState=E,n.firstBaseUpdate=G,n.lastBaseUpdate=te,d===null&&(n.shared.lanes=0),Zl|=m,t.lanes=m,t.memoizedState=de}}function Ax(t,a){if(typeof t!="function")throw Error(c(191,t));t.call(a)}function Mx(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Ax(s[t],a)}var En=C(null),Zd=C(0);function Tx(t,a){t=vl,he(Zd,t),he(En,a),vl=t|a.baseLanes}function Kc(){he(Zd,vl),he(En,En.current)}function Wc(){vl=Zd.current,Y(En),Y(Zd)}var as=C(null),ws=null;function Ql(t){var a=t.alternate;he(oa,oa.current&1),he(as,t),ws===null&&(a===null||En.current!==null||a.memoizedState!==null)&&(ws=t)}function e0(t){he(oa,oa.current),he(as,t),ws===null&&(ws=t)}function _x(t){t.tag===22?(he(oa,oa.current),he(as,t),ws===null&&(ws=t)):Xl()}function Xl(){he(oa,oa.current),he(as,as.current)}function ss(t){Y(as),ws===t&&(ws=null),Y(oa)}var oa=C(0);function Fd(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||nu(s)||iu(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var xl=0,ot=null,Ht=null,fa=null,Kd=!1,zn=!1,qr=!1,Wd=0,Ci=0,An=null,Zb=0;function ra(){throw Error(c(321))}function t0(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!zt(t[s],a[s]))return!1;return!0}function a0(t,a,s,l,n,d){return xl=d,ot=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,T.H=t===null||t.memoizedState===null?fm:p0,qr=!1,d=s(l,n),qr=!1,zn&&(d=Rx(a,s,l,n)),Dx(t),d}function Dx(t){T.H=Ai;var a=Ht!==null&&Ht.next!==null;if(xl=0,fa=Ht=ot=null,Kd=!1,Ci=0,An=null,a)throw Error(c(300));t===null||ba||(t=t.dependencies,t!==null&&Yd(t)&&(ba=!0))}function Rx(t,a,s,l){ot=t;var n=0;do{if(zn&&(An=null),Ci=0,zn=!1,25<=n)throw Error(c(301));if(n+=1,fa=Ht=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}T.H=bm,d=a(s,l)}while(zn);return d}function Fb(){var t=T.H,a=t.useState()[0];return a=typeof a.then=="function"?Ei(a):a,t=t.useState()[0],(Ht!==null?Ht.memoizedState:null)!==t&&(ot.flags|=1024),a}function s0(){var t=Wd!==0;return Wd=0,t}function l0(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function r0(t){if(Kd){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Kd=!1}xl=0,fa=Ht=ot=null,zn=!1,Ci=Wd=0,An=null}function Ha(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fa===null?ot.memoizedState=fa=t:fa=fa.next=t,fa}function ca(){if(Ht===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=Ht.next;var a=fa===null?ot.memoizedState:fa.next;if(a!==null)fa=a,Ht=t;else{if(t===null)throw ot.alternate===null?Error(c(467)):Error(c(310));Ht=t,t={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},fa===null?ot.memoizedState=fa=t:fa=fa.next=t}return fa}function eo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ei(t){var a=Ci;return Ci+=1,An===null&&(An=[]),t=wx(An,t,a),a=ot,(fa===null?a.memoizedState:fa.next)===null&&(a=a.alternate,T.H=a===null||a.memoizedState===null?fm:p0),t}function to(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ei(t);if(t.$$typeof===U)return Aa(t)}throw Error(c(438,String(t)))}function n0(t){var a=null,s=ot.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var l=ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(n){return n.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=eo(),ot.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),l=0;l<t;l++)s[l]=ae;return a.index++,s}function ml(t,a){return typeof a=="function"?a(t):a}function ao(t){var a=ca();return i0(a,Ht,t)}function i0(t,a,s){var l=t.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=s;var n=t.baseQueue,d=l.pending;if(d!==null){if(n!==null){var m=n.next;n.next=d.next,d.next=m}a.baseQueue=n=d,l.pending=null}if(d=t.baseState,n===null)t.memoizedState=d;else{a=n.next;var g=m=null,E=null,G=a,te=!1;do{var de=G.lane&-536870913;if(de!==G.lane?(bt&de)===de:(xl&de)===de){var X=G.revertLane;if(X===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),de===Nn&&(te=!0);else if((xl&X)===X){G=G.next,X===Nn&&(te=!0);continue}else de={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},E===null?(g=E=de,m=d):E=E.next=de,ot.lanes|=X,Zl|=X;de=G.action,qr&&s(d,de),d=G.hasEagerState?G.eagerState:s(d,de)}else X={lane:de,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},E===null?(g=E=X,m=d):E=E.next=X,ot.lanes|=de,Zl|=de;G=G.next}while(G!==null&&G!==a);if(E===null?m=d:E.next=g,!zt(d,t.memoizedState)&&(ba=!0,te&&(s=wn,s!==null)))throw s;t.memoizedState=d,t.baseState=m,t.baseQueue=E,l.lastRenderedState=d}return n===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function d0(t){var a=ca(),s=a.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=t;var l=s.dispatch,n=s.pending,d=a.memoizedState;if(n!==null){s.pending=null;var m=n=n.next;do d=t(d,m.action),m=m.next;while(m!==n);zt(d,a.memoizedState)||(ba=!0),a.memoizedState=d,a.baseQueue===null&&(a.baseState=d),s.lastRenderedState=d}return[d,l]}function Lx(t,a,s){var l=ot,n=ca(),d=kt;if(d){if(s===void 0)throw Error(c(407));s=s()}else s=a();var m=!zt((Ht||n).memoizedState,s);if(m&&(n.memoizedState=s,ba=!0),n=n.queue,u0(Ux.bind(null,l,n,t),[t]),n.getSnapshot!==a||m||fa!==null&&fa.memoizedState.tag&1){if(l.flags|=2048,Mn(9,{destroy:void 0},Ox.bind(null,l,n,s,a),null),Vt===null)throw Error(c(349));d||(xl&127)!==0||$x(l,a,s)}return s}function $x(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=ot.updateQueue,a===null?(a=eo(),ot.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function Ox(t,a,s,l){a.value=s,a.getSnapshot=l,Hx(a)&&Ix(t)}function Ux(t,a,s){return s(function(){Hx(a)&&Ix(t)})}function Hx(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!zt(t,s)}catch{return!0}}function Ix(t){var a=Dr(t,2);a!==null&&Ja(a,t,2)}function o0(t){var a=Ha();if(typeof t=="function"){var s=t;if(t=s(),qr){$e(!0);try{s()}finally{$e(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:t},a}function Bx(t,a,s,l){return t.baseState=s,i0(t,Ht,typeof l=="function"?l:ml)}function Kb(t,a,s,l,n){if(ro(t))throw Error(c(485));if(t=a.action,t!==null){var d={payload:n,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};T.T!==null?s(!0):d.isTransition=!1,l(d),s=a.pending,s===null?(d.next=a.pending=d,qx(a,d)):(d.next=s.next,a.pending=s.next=d)}}function qx(t,a){var s=a.action,l=a.payload,n=t.state;if(a.isTransition){var d=T.T,m={};T.T=m;try{var g=s(n,l),E=T.S;E!==null&&E(m,g),Yx(t,a,g)}catch(G){c0(t,a,G)}finally{d!==null&&m.types!==null&&(d.types=m.types),T.T=d}}else try{d=s(n,l),Yx(t,a,d)}catch(G){c0(t,a,G)}}function Yx(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Vx(t,a,l)},function(l){return c0(t,a,l)}):Vx(t,a,s)}function Vx(t,a,s){a.status="fulfilled",a.value=s,Gx(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,qx(t,s)))}function c0(t,a,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=s,Gx(a),a=a.next;while(a!==l)}t.action=null}function Gx(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Qx(t,a){return a}function Xx(t,a){if(kt){var s=Vt.formState;if(s!==null){e:{var l=ot;if(kt){if(Xt){t:{for(var n=Xt,d=Ns;n.nodeType!==8;){if(!d){n=null;break t}if(n=Ss(n.nextSibling),n===null){n=null;break t}}d=n.data,n=d==="F!"||d==="F"?n:null}if(n){Xt=Ss(n.nextSibling),l=n.data==="F!";break e}}Bl(l)}l=!1}l&&(a=s[0])}}return s=Ha(),s.memoizedState=s.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qx,lastRenderedState:a},s.queue=l,s=xm.bind(null,ot,l),l.dispatch=s,l=o0(!1),d=b0.bind(null,ot,!1,l.queue),l=Ha(),n={state:a,dispatch:null,action:t,pending:null},l.queue=n,s=Kb.bind(null,ot,n,d,s),n.dispatch=s,l.memoizedState=t,[a,s,!1]}function Px(t){var a=ca();return Jx(a,Ht,t)}function Jx(t,a,s){if(a=i0(t,a,Qx)[0],t=ao(ml)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Ei(a)}catch(m){throw m===Sn?Qd:m}else l=a;a=ca();var n=a.queue,d=n.dispatch;return s!==a.memoizedState&&(ot.flags|=2048,Mn(9,{destroy:void 0},Wb.bind(null,n,s),null)),[l,d,t]}function Wb(t,a){t.action=a}function Zx(t){var a=ca(),s=Ht;if(s!==null)return Jx(a,s,t);ca(),a=a.memoizedState,s=ca();var l=s.queue.dispatch;return s.memoizedState=t,[a,l,!1]}function Mn(t,a,s,l){return t={tag:t,create:s,deps:l,inst:a,next:null},a=ot.updateQueue,a===null&&(a=eo(),ot.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,a.lastEffect=t),t}function Fx(){return ca().memoizedState}function so(t,a,s,l){var n=Ha();ot.flags|=t,n.memoizedState=Mn(1|a,{destroy:void 0},s,l===void 0?null:l)}function lo(t,a,s,l){var n=ca();l=l===void 0?null:l;var d=n.memoizedState.inst;Ht!==null&&l!==null&&t0(l,Ht.memoizedState.deps)?n.memoizedState=Mn(a,d,s,l):(ot.flags|=t,n.memoizedState=Mn(1|a,d,s,l))}function Kx(t,a){so(8390656,8,t,a)}function u0(t,a){lo(2048,8,t,a)}function ep(t){ot.flags|=4;var a=ot.updateQueue;if(a===null)a=eo(),ot.updateQueue=a,a.events=[t];else{var s=a.events;s===null?a.events=[t]:s.push(t)}}function Wx(t){var a=ca().memoizedState;return ep({ref:a,nextImpl:t}),function(){if((Rt&2)!==0)throw Error(c(440));return a.impl.apply(void 0,arguments)}}function em(t,a){return lo(4,2,t,a)}function tm(t,a){return lo(4,4,t,a)}function am(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function sm(t,a,s){s=s!=null?s.concat([t]):null,lo(4,4,am.bind(null,a,t),s)}function x0(){}function lm(t,a){var s=ca();a=a===void 0?null:a;var l=s.memoizedState;return a!==null&&t0(a,l[1])?l[0]:(s.memoizedState=[t,a],t)}function rm(t,a){var s=ca();a=a===void 0?null:a;var l=s.memoizedState;if(a!==null&&t0(a,l[1]))return l[0];if(l=t(),qr){$e(!0);try{t()}finally{$e(!1)}}return s.memoizedState=[l,a],l}function m0(t,a,s){return s===void 0||(xl&1073741824)!==0&&(bt&261930)===0?t.memoizedState=a:(t.memoizedState=s,t=nh(),ot.lanes|=t,Zl|=t,s)}function nm(t,a,s,l){return zt(s,a)?s:En.current!==null?(t=m0(t,s,l),zt(t,a)||(ba=!0),t):(xl&42)===0||(xl&1073741824)!==0&&(bt&261930)===0?(ba=!0,t.memoizedState=s):(t=nh(),ot.lanes|=t,Zl|=t,a)}function im(t,a,s,l,n){var d=F.p;F.p=d!==0&&8>d?d:8;var m=T.T,g={};T.T=g,b0(t,!1,a,s);try{var E=n(),G=T.S;if(G!==null&&G(g,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var te=Jb(E,l);zi(t,a,te,ns(t))}else zi(t,a,l,ns(t))}catch(de){zi(t,a,{then:function(){},status:"rejected",reason:de},ns())}finally{F.p=d,m!==null&&g.types!==null&&(m.types=g.types),T.T=m}}function tp(){}function h0(t,a,s,l){if(t.tag!==5)throw Error(c(476));var n=dm(t).queue;im(t,n,a,ne,s===null?tp:function(){return om(t),s(l)})}function dm(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:ne},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function om(t){var a=dm(t);a.next===null&&(a=t.alternate.memoizedState),zi(t,a.next.queue,{},ns())}function f0(){return Aa(Gi)}function cm(){return ca().memoizedState}function um(){return ca().memoizedState}function ap(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=ns();t=Vl(s);var l=Gl(a,t,s);l!==null&&(Ja(l,a,s),Ni(l,a,s)),a={cache:Vc()},t.payload=a;return}a=a.return}}function sp(t,a,s){var l=ns();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ro(t)?mm(a,s):(s=Dc(t,a,s,l),s!==null&&(Ja(s,t,l),hm(s,a,l)))}function xm(t,a,s){var l=ns();zi(t,a,s,l)}function zi(t,a,s,l){var n={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ro(t))mm(a,n);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=a.lastRenderedReducer,d!==null))try{var m=a.lastRenderedState,g=d(m,s);if(n.hasEagerState=!0,n.eagerState=g,zt(g,m))return Hd(t,a,n,0),Vt===null&&Ud(),!1}catch{}finally{}if(s=Dc(t,a,n,l),s!==null)return Ja(s,t,l),hm(s,a,l),!0}return!1}function b0(t,a,s,l){if(l={lane:2,revertLane:P0(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ro(t)){if(a)throw Error(c(479))}else a=Dc(t,s,l,2),a!==null&&Ja(a,t,2)}function ro(t){var a=t.alternate;return t===ot||a!==null&&a===ot}function mm(t,a){zn=Kd=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function hm(t,a,s){if((s&4194048)!==0){var l=a.lanes;l&=t.pendingLanes,s|=l,a.lanes=s,Wa(t,s)}}var Ai={readContext:Aa,use:to,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useLayoutEffect:ra,useInsertionEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useDeferredValue:ra,useTransition:ra,useSyncExternalStore:ra,useId:ra,useHostTransitionStatus:ra,useFormState:ra,useActionState:ra,useOptimistic:ra,useMemoCache:ra,useCacheRefresh:ra};Ai.useEffectEvent=ra;var fm={readContext:Aa,use:to,useCallback:function(t,a){return Ha().memoizedState=[t,a===void 0?null:a],t},useContext:Aa,useEffect:Kx,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,so(4194308,4,am.bind(null,a,t),s)},useLayoutEffect:function(t,a){return so(4194308,4,t,a)},useInsertionEffect:function(t,a){so(4,2,t,a)},useMemo:function(t,a){var s=Ha();a=a===void 0?null:a;var l=t();if(qr){$e(!0);try{t()}finally{$e(!1)}}return s.memoizedState=[l,a],l},useReducer:function(t,a,s){var l=Ha();if(s!==void 0){var n=s(a);if(qr){$e(!0);try{s(a)}finally{$e(!1)}}}else n=a;return l.memoizedState=l.baseState=n,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},l.queue=t,t=t.dispatch=sp.bind(null,ot,t),[l.memoizedState,t]},useRef:function(t){var a=Ha();return t={current:t},a.memoizedState=t},useState:function(t){t=o0(t);var a=t.queue,s=xm.bind(null,ot,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:x0,useDeferredValue:function(t,a){var s=Ha();return m0(s,t,a)},useTransition:function(){var t=o0(!1);return t=im.bind(null,ot,t.queue,!0,!1),Ha().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var l=ot,n=Ha();if(kt){if(s===void 0)throw Error(c(407));s=s()}else{if(s=a(),Vt===null)throw Error(c(349));(bt&127)!==0||$x(l,a,s)}n.memoizedState=s;var d={value:s,getSnapshot:a};return n.queue=d,Kx(Ux.bind(null,l,d,t),[t]),l.flags|=2048,Mn(9,{destroy:void 0},Ox.bind(null,l,d,s,a),null),s},useId:function(){var t=Ha(),a=Vt.identifierPrefix;if(kt){var s=Fs,l=Zs;s=(l&~(1<<32-S(l)-1)).toString(32)+s,a="_"+a+"R_"+s,s=Wd++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=Zb++,a="_"+a+"r_"+s.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:f0,useFormState:Xx,useActionState:Xx,useOptimistic:function(t){var a=Ha();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=b0.bind(null,ot,!0,s),s.dispatch=a,[t,a]},useMemoCache:n0,useCacheRefresh:function(){return Ha().memoizedState=ap.bind(null,ot)},useEffectEvent:function(t){var a=Ha(),s={impl:t};return a.memoizedState=s,function(){if((Rt&2)!==0)throw Error(c(440));return s.impl.apply(void 0,arguments)}}},p0={readContext:Aa,use:to,useCallback:lm,useContext:Aa,useEffect:u0,useImperativeHandle:sm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:rm,useReducer:ao,useRef:Fx,useState:function(){return ao(ml)},useDebugValue:x0,useDeferredValue:function(t,a){var s=ca();return nm(s,Ht.memoizedState,t,a)},useTransition:function(){var t=ao(ml)[0],a=ca().memoizedState;return[typeof t=="boolean"?t:Ei(t),a]},useSyncExternalStore:Lx,useId:cm,useHostTransitionStatus:f0,useFormState:Px,useActionState:Px,useOptimistic:function(t,a){var s=ca();return Bx(s,Ht,t,a)},useMemoCache:n0,useCacheRefresh:um};p0.useEffectEvent=Wx;var bm={readContext:Aa,use:to,useCallback:lm,useContext:Aa,useEffect:u0,useImperativeHandle:sm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:rm,useReducer:d0,useRef:Fx,useState:function(){return d0(ml)},useDebugValue:x0,useDeferredValue:function(t,a){var s=ca();return Ht===null?m0(s,t,a):nm(s,Ht.memoizedState,t,a)},useTransition:function(){var t=d0(ml)[0],a=ca().memoizedState;return[typeof t=="boolean"?t:Ei(t),a]},useSyncExternalStore:Lx,useId:cm,useHostTransitionStatus:f0,useFormState:Zx,useActionState:Zx,useOptimistic:function(t,a){var s=ca();return Ht!==null?Bx(s,Ht,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:n0,useCacheRefresh:um};bm.useEffectEvent=Wx;function g0(t,a,s,l){a=t.memoizedState,s=s(l,a),s=s==null?a:N({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var y0={enqueueSetState:function(t,a,s){t=t._reactInternals;var l=ns(),n=Vl(l);n.payload=a,s!=null&&(n.callback=s),a=Gl(t,n,l),a!==null&&(Ja(a,t,l),Ni(a,t,l))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var l=ns(),n=Vl(l);n.tag=1,n.payload=a,s!=null&&(n.callback=s),a=Gl(t,n,l),a!==null&&(Ja(a,t,l),Ni(a,t,l))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=ns(),l=Vl(s);l.tag=2,a!=null&&(l.callback=a),a=Gl(t,l,s),a!==null&&(Ja(a,t,s),Ni(a,t,s))}};function pm(t,a,s,l,n,d,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,m):a.prototype&&a.prototype.isPureReactComponent?!Rs(s,l)||!Rs(n,d):!0}function gm(t,a,s,l){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,l),a.state!==t&&y0.enqueueReplaceState(a,a.state,null)}function Yr(t,a){var s=a;if("ref"in a){s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}if(t=t.defaultProps){s===a&&(s=N({},s));for(var n in t)s[n]===void 0&&(s[n]=t[n])}return s}function ym(t){Od(t)}function vm(t){console.error(t)}function jm(t){Od(t)}function no(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function km(t,a,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function v0(t,a,s){return s=Vl(s),s.tag=3,s.payload={element:null},s.callback=function(){no(t,a)},s}function Nm(t){return t=Vl(t),t.tag=3,t}function wm(t,a,s,l){var n=s.type.getDerivedStateFromError;if(typeof n=="function"){var d=l.value;t.payload=function(){return n(d)},t.callback=function(){km(a,s,l)}}var m=s.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(t.callback=function(){km(a,s,l),typeof n!="function"&&(Fl===null?Fl=new Set([this]):Fl.add(this));var g=l.stack;this.componentDidCatch(l.value,{componentStack:g!==null?g:""})})}function lp(t,a,s,l,n){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=s.alternate,a!==null&&kn(a,s,n,!0),s=as.current,s!==null){switch(s.tag){case 31:case 13:return ws===null?yo():s.alternate===null&&na===0&&(na=3),s.flags&=-257,s.flags|=65536,s.lanes=n,l===Xd?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([l]):a.add(l),G0(t,l,n)),!1;case 22:return s.flags|=65536,l===Xd?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([l]):s.add(l)),G0(t,l,n)),!1}throw Error(c(435,s.tag))}return G0(t,l,n),yo(),!1}if(kt)return a=as.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=n,l!==Hc&&(t=Error(c(422),{cause:l}),gi(vs(t,s)))):(l!==Hc&&(a=Error(c(423),{cause:l}),gi(vs(a,s))),t=t.current.alternate,t.flags|=65536,n&=-n,t.lanes|=n,l=vs(l,s),n=v0(t.stateNode,l,n),Zc(t,n),na!==4&&(na=2)),!1;var d=Error(c(520),{cause:l});if(d=vs(d,s),Oi===null?Oi=[d]:Oi.push(d),na!==4&&(na=2),a===null)return!0;l=vs(l,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=n&-n,s.lanes|=t,t=v0(s.stateNode,l,t),Zc(s,t),!1;case 1:if(a=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fl===null||!Fl.has(d))))return s.flags|=65536,n&=-n,s.lanes|=n,n=Nm(n),wm(n,t,s,l),Zc(s,n),!1}s=s.return}while(s!==null);return!1}var j0=Error(c(461)),ba=!1;function Ma(t,a,s,l){a.child=t===null?zx(a,null,s,l):Br(a,t.child,s,l)}function Sm(t,a,s,l,n){s=s.render;var d=a.ref;if("ref"in l){var m={};for(var g in l)g!=="ref"&&(m[g]=l[g])}else m=l;return Or(a),l=a0(t,a,s,m,d,n),g=s0(),t!==null&&!ba?(l0(t,a,n),hl(t,a,n)):(kt&&g&&Oc(a),a.flags|=1,Ma(t,a,l,n),a.child)}function Cm(t,a,s,l,n){if(t===null){var d=s.type;return typeof d=="function"&&!Rc(d)&&d.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=d,Em(t,a,d,l,n)):(t=Bd(s.type,null,l,a,a.mode,n),t.ref=a.ref,t.return=a,a.child=t)}if(d=t.child,!A0(t,n)){var m=d.memoizedProps;if(s=s.compare,s=s!==null?s:Rs,s(m,l)&&t.ref===a.ref)return hl(t,a,n)}return a.flags|=1,t=dl(d,l),t.ref=a.ref,t.return=a,a.child=t}function Em(t,a,s,l,n){if(t!==null){var d=t.memoizedProps;if(Rs(d,l)&&t.ref===a.ref)if(ba=!1,a.pendingProps=l=d,A0(t,n))(t.flags&131072)!==0&&(ba=!0);else return a.lanes=t.lanes,hl(t,a,n)}return k0(t,a,s,l,n)}function zm(t,a,s,l){var n=l.children,d=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=a.child=t.child,n=0;l!==null;)n=n|l.lanes|l.childLanes,l=l.sibling;l=n&~d}else l=0,a.child=null;return Am(t,a,d,s,l)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gd(a,d!==null?d.cachePool:null),d!==null?Tx(a,d):Kc(),_x(a);else return l=a.lanes=536870912,Am(t,a,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(Gd(a,d.cachePool),Tx(a,d),Xl(),a.memoizedState=null):(t!==null&&Gd(a,null),Kc(),Xl());return Ma(t,a,n,s),a.child}function Mi(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Am(t,a,s,l,n){var d=Qc();return d=d===null?null:{parent:ha._currentValue,pool:d},a.memoizedState={baseLanes:s,cachePool:d},t!==null&&Gd(a,null),Kc(),_x(a),t!==null&&kn(t,a,l,!0),a.childLanes=n,null}function io(t,a){return a=co({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function Mm(t,a,s){return Br(a,t.child,null,s),t=io(a,a.pendingProps),t.flags|=2,ss(a),a.memoizedState=null,t}function rp(t,a,s){var l=a.pendingProps,n=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(kt){if(l.mode==="hidden")return t=io(a,l),a.lanes=536870912,Mi(null,t);if(e0(a),(t=Xt)?(t=qh(t,Ns),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Hl!==null?{id:Zs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},s=mx(t),s.return=a,a.child=s,za=a,Xt=null)):t=null,t===null)throw Bl(a);return a.lanes=536870912,null}return io(a,l)}var d=t.memoizedState;if(d!==null){var m=d.dehydrated;if(e0(a),n)if(a.flags&256)a.flags&=-257,a=Mm(t,a,s);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(c(558));else if(ba||kn(t,a,s,!1),n=(s&t.childLanes)!==0,ba||n){if(l=Vt,l!==null&&(m=gr(l,s),m!==0&&m!==d.retryLane))throw d.retryLane=m,Dr(t,m),Ja(l,t,m),j0;yo(),a=Mm(t,a,s)}else t=d.treeContext,Xt=Ss(m.nextSibling),za=a,kt=!0,Il=null,Ns=!1,t!==null&&bx(a,t),a=io(a,l),a.flags|=4096;return a}return t=dl(t.child,{mode:l.mode,children:l.children}),t.ref=a.ref,a.child=t,t.return=a,t}function oo(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(c(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function k0(t,a,s,l,n){return Or(a),s=a0(t,a,s,l,void 0,n),l=s0(),t!==null&&!ba?(l0(t,a,n),hl(t,a,n)):(kt&&l&&Oc(a),a.flags|=1,Ma(t,a,s,n),a.child)}function Tm(t,a,s,l,n,d){return Or(a),a.updateQueue=null,s=Rx(a,l,s,n),Dx(t),l=s0(),t!==null&&!ba?(l0(t,a,d),hl(t,a,d)):(kt&&l&&Oc(a),a.flags|=1,Ma(t,a,s,d),a.child)}function _m(t,a,s,l,n){if(Or(a),a.stateNode===null){var d=gn,m=s.contextType;typeof m=="object"&&m!==null&&(d=Aa(m)),d=new s(l,d),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=y0,a.stateNode=d,d._reactInternals=a,d=a.stateNode,d.props=l,d.state=a.memoizedState,d.refs={},Pc(a),m=s.contextType,d.context=typeof m=="object"&&m!==null?Aa(m):gn,d.state=a.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(g0(a,s,m,l),d.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&y0.enqueueReplaceState(d,d.state,null),Si(a,l,d,n),wi(),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(t===null){d=a.stateNode;var g=a.memoizedProps,E=Yr(s,g);d.props=E;var G=d.context,te=s.contextType;m=gn,typeof te=="object"&&te!==null&&(m=Aa(te));var de=s.getDerivedStateFromProps;te=typeof de=="function"||typeof d.getSnapshotBeforeUpdate=="function",g=a.pendingProps!==g,te||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g||G!==m)&&gm(a,d,l,m),Yl=!1;var X=a.memoizedState;d.state=X,Si(a,l,d,n),wi(),G=a.memoizedState,g||X!==G||Yl?(typeof de=="function"&&(g0(a,s,de,l),G=a.memoizedState),(E=Yl||pm(a,s,E,l,X,G,m))?(te||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(a.flags|=4194308)):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=G),d.props=l,d.state=G,d.context=m,l=E):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{d=a.stateNode,Jc(t,a),m=a.memoizedProps,te=Yr(s,m),d.props=te,de=a.pendingProps,X=d.context,G=s.contextType,E=gn,typeof G=="object"&&G!==null&&(E=Aa(G)),g=s.getDerivedStateFromProps,(G=typeof g=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==de||X!==E)&&gm(a,d,l,E),Yl=!1,X=a.memoizedState,d.state=X,Si(a,l,d,n),wi();var K=a.memoizedState;m!==de||X!==K||Yl||t!==null&&t.dependencies!==null&&Yd(t.dependencies)?(typeof g=="function"&&(g0(a,s,g,l),K=a.memoizedState),(te=Yl||pm(a,s,te,l,X,K,E)||t!==null&&t.dependencies!==null&&Yd(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,E)),typeof d.componentDidUpdate=="function"&&(a.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===t.memoizedProps&&X===t.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&X===t.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=K),d.props=l,d.state=K,d.context=E,l=te):(typeof d.componentDidUpdate!="function"||m===t.memoizedProps&&X===t.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&X===t.memoizedState||(a.flags|=1024),l=!1)}return d=l,oo(t,a),l=(a.flags&128)!==0,d||l?(d=a.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),a.flags|=1,t!==null&&l?(a.child=Br(a,t.child,null,n),a.child=Br(a,null,s,n)):Ma(t,a,s,n),a.memoizedState=d.state,t=a.child):t=hl(t,a,n),t}function Dm(t,a,s,l){return Lr(),a.flags|=256,Ma(t,a,s,l),a.child}var N0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function w0(t){return{baseLanes:t,cachePool:kx()}}function S0(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=rs),t}function Rm(t,a,s){var l=a.pendingProps,n=!1,d=(a.flags&128)!==0,m;if((m=d)||(m=t!==null&&t.memoizedState===null?!1:(oa.current&2)!==0),m&&(n=!0,a.flags&=-129),m=(a.flags&32)!==0,a.flags&=-33,t===null){if(kt){if(n?Ql(a):Xl(),(t=Xt)?(t=qh(t,Ns),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Hl!==null?{id:Zs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},s=mx(t),s.return=a,a.child=s,za=a,Xt=null)):t=null,t===null)throw Bl(a);return iu(t)?a.lanes=32:a.lanes=536870912,null}var g=l.children;return l=l.fallback,n?(Xl(),n=a.mode,g=co({mode:"hidden",children:g},n),l=Rr(l,n,s,null),g.return=a,l.return=a,g.sibling=l,a.child=g,l=a.child,l.memoizedState=w0(s),l.childLanes=S0(t,m,s),a.memoizedState=N0,Mi(null,l)):(Ql(a),C0(a,g))}var E=t.memoizedState;if(E!==null&&(g=E.dehydrated,g!==null)){if(d)a.flags&256?(Ql(a),a.flags&=-257,a=E0(t,a,s)):a.memoizedState!==null?(Xl(),a.child=t.child,a.flags|=128,a=null):(Xl(),g=l.fallback,n=a.mode,l=co({mode:"visible",children:l.children},n),g=Rr(g,n,s,null),g.flags|=2,l.return=a,g.return=a,l.sibling=g,a.child=l,Br(a,t.child,null,s),l=a.child,l.memoizedState=w0(s),l.childLanes=S0(t,m,s),a.memoizedState=N0,a=Mi(null,l));else if(Ql(a),iu(g)){if(m=g.nextSibling&&g.nextSibling.dataset,m)var G=m.dgst;m=G,l=Error(c(419)),l.stack="",l.digest=m,gi({value:l,source:null,stack:null}),a=E0(t,a,s)}else if(ba||kn(t,a,s,!1),m=(s&t.childLanes)!==0,ba||m){if(m=Vt,m!==null&&(l=gr(m,s),l!==0&&l!==E.retryLane))throw E.retryLane=l,Dr(t,l),Ja(m,t,l),j0;nu(g)||yo(),a=E0(t,a,s)}else nu(g)?(a.flags|=192,a.child=t.child,a=null):(t=E.treeContext,Xt=Ss(g.nextSibling),za=a,kt=!0,Il=null,Ns=!1,t!==null&&bx(a,t),a=C0(a,l.children),a.flags|=4096);return a}return n?(Xl(),g=l.fallback,n=a.mode,E=t.child,G=E.sibling,l=dl(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&65011712,G!==null?g=dl(G,g):(g=Rr(g,n,s,null),g.flags|=2),g.return=a,l.return=a,l.sibling=g,a.child=l,Mi(null,l),l=a.child,g=t.child.memoizedState,g===null?g=w0(s):(n=g.cachePool,n!==null?(E=ha._currentValue,n=n.parent!==E?{parent:E,pool:E}:n):n=kx(),g={baseLanes:g.baseLanes|s,cachePool:n}),l.memoizedState=g,l.childLanes=S0(t,m,s),a.memoizedState=N0,Mi(t.child,l)):(Ql(a),s=t.child,t=s.sibling,s=dl(s,{mode:"visible",children:l.children}),s.return=a,s.sibling=null,t!==null&&(m=a.deletions,m===null?(a.deletions=[t],a.flags|=16):m.push(t)),a.child=s,a.memoizedState=null,s)}function C0(t,a){return a=co({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function co(t,a){return t=ts(22,t,null,a),t.lanes=0,t}function E0(t,a,s){return Br(a,t.child,null,s),t=C0(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Lm(t,a,s){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a),qc(t.return,a,s)}function z0(t,a,s,l,n,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:n,treeForkCount:d}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=s,m.tailMode=n,m.treeForkCount=d)}function $m(t,a,s){var l=a.pendingProps,n=l.revealOrder,d=l.tail;l=l.children;var m=oa.current,g=(m&2)!==0;if(g?(m=m&1|2,a.flags|=128):m&=1,he(oa,m),Ma(t,a,l,s),l=kt?pi:0,!g&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lm(t,s,a);else if(t.tag===19)Lm(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(n){case"forwards":for(s=a.child,n=null;s!==null;)t=s.alternate,t!==null&&Fd(t)===null&&(n=s),s=s.sibling;s=n,s===null?(n=a.child,a.child=null):(n=s.sibling,s.sibling=null),z0(a,!1,n,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,n=a.child,a.child=null;n!==null;){if(t=n.alternate,t!==null&&Fd(t)===null){a.child=n;break}t=n.sibling,n.sibling=s,s=n,n=t}z0(a,!0,s,null,d,l);break;case"together":z0(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function hl(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),Zl|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(kn(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(c(153));if(a.child!==null){for(t=a.child,s=dl(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=dl(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function A0(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Yd(t)))}function np(t,a,s){switch(a.tag){case 3:ie(a,a.stateNode.containerInfo),ql(a,ha,t.memoizedState.cache),Lr();break;case 27:case 5:Qe(a);break;case 4:ie(a,a.stateNode.containerInfo);break;case 10:ql(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,e0(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(Ql(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Rm(t,a,s):(Ql(a),t=hl(t,a,s),t!==null?t.sibling:null);Ql(a);break;case 19:var n=(t.flags&128)!==0;if(l=(s&a.childLanes)!==0,l||(kn(t,a,s,!1),l=(s&a.childLanes)!==0),n){if(l)return $m(t,a,s);a.flags|=128}if(n=a.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),he(oa,oa.current),l)break;return null;case 22:return a.lanes=0,zm(t,a,s,a.pendingProps);case 24:ql(a,ha,t.memoizedState.cache)}return hl(t,a,s)}function Om(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)ba=!0;else{if(!A0(t,s)&&(a.flags&128)===0)return ba=!1,np(t,a,s);ba=(t.flags&131072)!==0}else ba=!1,kt&&(a.flags&1048576)!==0&&fx(a,pi,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(t=Hr(a.elementType),a.type=t,typeof t=="function")Rc(t)?(l=Yr(t,l),a.tag=1,a=_m(null,a,t,l,s)):(a.tag=0,a=k0(null,a,t,l,s));else{if(t!=null){var n=t.$$typeof;if(n===D){a.tag=11,a=Sm(null,a,t,l,s);break e}else if(n===P){a.tag=14,a=Cm(null,a,t,l,s);break e}}throw a=st(t)||t,Error(c(306,a,""))}}return a;case 0:return k0(t,a,a.type,a.pendingProps,s);case 1:return l=a.type,n=Yr(l,a.pendingProps),_m(t,a,l,n,s);case 3:e:{if(ie(a,a.stateNode.containerInfo),t===null)throw Error(c(387));l=a.pendingProps;var d=a.memoizedState;n=d.element,Jc(t,a),Si(a,l,null,s);var m=a.memoizedState;if(l=m.cache,ql(a,ha,l),l!==d.cache&&Yc(a,[ha],s,!0),wi(),l=m.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:m.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=Dm(t,a,l,s);break e}else if(l!==n){n=vs(Error(c(424)),a),gi(n),a=Dm(t,a,l,s);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Xt=Ss(t.firstChild),za=a,kt=!0,Il=null,Ns=!0,s=zx(a,null,l,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Lr(),l===n){a=hl(t,a,s);break e}Ma(t,a,l,s)}a=a.child}return a;case 26:return oo(t,a),t===null?(s=Ph(a.type,null,a.pendingProps,null))?a.memoizedState=s:kt||(s=a.type,t=a.pendingProps,l=Co(Ee.current).createElement(s),l[Ft]=a,l[Fe]=t,Ta(l,s,t),la(l),a.stateNode=l):a.memoizedState=Ph(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Qe(a),t===null&&kt&&(l=a.stateNode=Gh(a.type,a.pendingProps,Ee.current),za=a,Ns=!0,n=Xt,tr(a.type)?(du=n,Xt=Ss(l.firstChild)):Xt=n),Ma(t,a,a.pendingProps.children,s),oo(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&kt&&((n=l=Xt)&&(l=$p(l,a.type,a.pendingProps,Ns),l!==null?(a.stateNode=l,za=a,Xt=Ss(l.firstChild),Ns=!1,n=!0):n=!1),n||Bl(a)),Qe(a),n=a.type,d=a.pendingProps,m=t!==null?t.memoizedProps:null,l=d.children,su(n,d)?l=null:m!==null&&su(n,m)&&(a.flags|=32),a.memoizedState!==null&&(n=a0(t,a,Fb,null,null,s),Gi._currentValue=n),oo(t,a),Ma(t,a,l,s),a.child;case 6:return t===null&&kt&&((t=s=Xt)&&(s=Op(s,a.pendingProps,Ns),s!==null?(a.stateNode=s,za=a,Xt=null,t=!0):t=!1),t||Bl(a)),null;case 13:return Rm(t,a,s);case 4:return ie(a,a.stateNode.containerInfo),l=a.pendingProps,t===null?a.child=Br(a,null,l,s):Ma(t,a,l,s),a.child;case 11:return Sm(t,a,a.type,a.pendingProps,s);case 7:return Ma(t,a,a.pendingProps,s),a.child;case 8:return Ma(t,a,a.pendingProps.children,s),a.child;case 12:return Ma(t,a,a.pendingProps.children,s),a.child;case 10:return l=a.pendingProps,ql(a,a.type,l.value),Ma(t,a,l.children,s),a.child;case 9:return n=a.type._context,l=a.pendingProps.children,Or(a),n=Aa(n),l=l(n),a.flags|=1,Ma(t,a,l,s),a.child;case 14:return Cm(t,a,a.type,a.pendingProps,s);case 15:return Em(t,a,a.type,a.pendingProps,s);case 19:return $m(t,a,s);case 31:return rp(t,a,s);case 22:return zm(t,a,s,a.pendingProps);case 24:return Or(a),l=Aa(ha),t===null?(n=Qc(),n===null&&(n=Vt,d=Vc(),n.pooledCache=d,d.refCount++,d!==null&&(n.pooledCacheLanes|=s),n=d),a.memoizedState={parent:l,cache:n},Pc(a),ql(a,ha,n)):((t.lanes&s)!==0&&(Jc(t,a),Si(a,null,null,s),wi()),n=t.memoizedState,d=a.memoizedState,n.parent!==l?(n={parent:l,cache:l},a.memoizedState=n,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=n),ql(a,ha,l)):(l=d.cache,ql(a,ha,l),l!==n.cache&&Yc(a,[ha],s,!0))),Ma(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(c(156,a.tag))}function fl(t){t.flags|=4}function M0(t,a,s,l,n){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(n&335544128)===n)if(t.stateNode.complete)t.flags|=8192;else if(ch())t.flags|=8192;else throw Ir=Xd,Xc}else t.flags&=-16777217}function Um(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wh(a))if(ch())t.flags|=8192;else throw Ir=Xd,Xc}function uo(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?xa():536870912,t.lanes|=a,Rn|=a)}function Ti(t,a){if(!kt)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Pt(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(a)for(var n=t.child;n!==null;)s|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)s|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=l,t.childLanes=s,a}function ip(t,a,s){var l=a.pendingProps;switch(Uc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(a),null;case 1:return Pt(a),null;case 3:return s=a.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ul(ha),Ce(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(jn(a)?fl(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ic())),Pt(a),null;case 26:var n=a.type,d=a.memoizedState;return t===null?(fl(a),d!==null?(Pt(a),Um(a,d)):(Pt(a),M0(a,n,null,l,s))):d?d!==t.memoizedState?(fl(a),Pt(a),Um(a,d)):(Pt(a),a.flags&=-16777217):(t=t.memoizedProps,t!==l&&fl(a),Pt(a),M0(a,n,t,l,s)),null;case 27:if(at(a),s=Ee.current,n=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&fl(a);else{if(!l){if(a.stateNode===null)throw Error(c(166));return Pt(a),null}t=le.current,jn(a)?px(a):(t=Gh(n,l,s),a.stateNode=t,fl(a))}return Pt(a),null;case 5:if(at(a),n=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&fl(a);else{if(!l){if(a.stateNode===null)throw Error(c(166));return Pt(a),null}if(d=le.current,jn(a))px(a);else{var m=Co(Ee.current);switch(d){case 1:d=m.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:d=m.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":d=m.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":d=m.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":d=m.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?m.createElement(n,{is:l.is}):m.createElement(n)}}d[Ft]=a,d[Fe]=l;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)d.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=d;e:switch(Ta(d,n,l),n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fl(a)}}return Pt(a),M0(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,s),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==l&&fl(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(c(166));if(t=Ee.current,jn(a)){if(t=a.stateNode,s=a.memoizedProps,l=null,n=za,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}t[Ft]=a,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Rh(t.nodeValue,s)),t||Bl(a,!0)}else t=Co(t).createTextNode(l),t[Ft]=a,a.stateNode=t}return Pt(a),null;case 31:if(s=a.memoizedState,t===null||t.memoizedState!==null){if(l=jn(a),s!==null){if(t===null){if(!l)throw Error(c(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(557));t[Ft]=a}else Lr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pt(a),t=!1}else s=Ic(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return a.flags&256?(ss(a),a):(ss(a),null);if((a.flags&128)!==0)throw Error(c(558))}return Pt(a),null;case 13:if(l=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(n=jn(a),l!==null&&l.dehydrated!==null){if(t===null){if(!n)throw Error(c(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(c(317));n[Ft]=a}else Lr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pt(a),n=!1}else n=Ic(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),n=!0;if(!n)return a.flags&256?(ss(a),a):(ss(a),null)}return ss(a),(a.flags&128)!==0?(a.lanes=s,a):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=a.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==n&&(l.flags|=2048)),s!==t&&s&&(a.child.flags|=8192),uo(a,a.updateQueue),Pt(a),null);case 4:return Ce(),t===null&&K0(a.stateNode.containerInfo),Pt(a),null;case 10:return ul(a.type),Pt(a),null;case 19:if(Y(oa),l=a.memoizedState,l===null)return Pt(a),null;if(n=(a.flags&128)!==0,d=l.rendering,d===null)if(n)Ti(l,!1);else{if(na!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(d=Fd(t),d!==null){for(a.flags|=128,Ti(l,!1),t=d.updateQueue,a.updateQueue=t,uo(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)xx(s,t),s=s.sibling;return he(oa,oa.current&1|2),kt&&ol(a,l.treeForkCount),a.child}t=t.sibling}l.tail!==null&&Ze()>bo&&(a.flags|=128,n=!0,Ti(l,!1),a.lanes=4194304)}else{if(!n)if(t=Fd(d),t!==null){if(a.flags|=128,n=!0,t=t.updateQueue,a.updateQueue=t,uo(a,t),Ti(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!kt)return Pt(a),null}else 2*Ze()-l.renderingStartTime>bo&&s!==536870912&&(a.flags|=128,n=!0,Ti(l,!1),a.lanes=4194304);l.isBackwards?(d.sibling=a.child,a.child=d):(t=l.last,t!==null?t.sibling=d:a.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,s=oa.current,he(oa,n?s&1|2:s&1),kt&&ol(a,l.treeForkCount),t):(Pt(a),null);case 22:case 23:return ss(a),Wc(),l=a.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(s&536870912)!==0&&(a.flags&128)===0&&(Pt(a),a.subtreeFlags&6&&(a.flags|=8192)):Pt(a),s=a.updateQueue,s!==null&&uo(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==s&&(a.flags|=2048),t!==null&&Y(Ur),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),ul(ha),Pt(a),null;case 25:return null;case 30:return null}throw Error(c(156,a.tag))}function dp(t,a){switch(Uc(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ul(ha),Ce(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return at(a),null;case 31:if(a.memoizedState!==null){if(ss(a),a.alternate===null)throw Error(c(340));Lr()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(ss(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(c(340));Lr()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Y(oa),null;case 4:return Ce(),null;case 10:return ul(a.type),null;case 22:case 23:return ss(a),Wc(),t!==null&&Y(Ur),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return ul(ha),null;case 25:return null;default:return null}}function Hm(t,a){switch(Uc(a),a.tag){case 3:ul(ha),Ce();break;case 26:case 27:case 5:at(a);break;case 4:Ce();break;case 31:a.memoizedState!==null&&ss(a);break;case 13:ss(a);break;case 19:Y(oa);break;case 10:ul(a.type);break;case 22:case 23:ss(a),Wc(),t!==null&&Y(Ur);break;case 24:ul(ha)}}function _i(t,a){try{var s=a.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var n=l.next;s=n;do{if((s.tag&t)===t){l=void 0;var d=s.create,m=s.inst;l=d(),m.destroy=l}s=s.next}while(s!==n)}}catch(g){$t(a,a.return,g)}}function Pl(t,a,s){try{var l=a.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var d=n.next;l=d;do{if((l.tag&t)===t){var m=l.inst,g=m.destroy;if(g!==void 0){m.destroy=void 0,n=a;var E=s,G=g;try{G()}catch(te){$t(n,E,te)}}}l=l.next}while(l!==d)}}catch(te){$t(a,a.return,te)}}function Im(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{Mx(a,s)}catch(l){$t(t,t.return,l)}}}function Bm(t,a,s){s.props=Yr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){$t(t,a,l)}}function Di(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(n){$t(t,a,n)}}function Ks(t,a){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(n){$t(t,a,n)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(n){$t(t,a,n)}else s.current=null}function qm(t){var a=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(n){$t(t,t.return,n)}}function T0(t,a,s){try{var l=t.stateNode;Mp(l,t.type,s,a),l[Fe]=a}catch(n){$t(t,t.return,n)}}function Ym(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function _0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ym(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function D0(t,a,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=bs));else if(l!==4&&(l===27&&tr(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(D0(t,a,s),t=t.sibling;t!==null;)D0(t,a,s),t=t.sibling}function xo(t,a,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(l!==4&&(l===27&&tr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(xo(t,a,s),t=t.sibling;t!==null;)xo(t,a,s),t=t.sibling}function Vm(t){var a=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Ta(a,l,s),a[Ft]=t,a[Fe]=s}catch(d){$t(t,t.return,d)}}var bl=!1,pa=!1,R0=!1,Gm=typeof WeakSet=="function"?WeakSet:Set,Sa=null;function op(t,a){if(t=t.containerInfo,tu=Do,t=sx(t),Ec(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var n=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var m=0,g=-1,E=-1,G=0,te=0,de=t,X=null;t:for(;;){for(var K;de!==s||n!==0&&de.nodeType!==3||(g=m+n),de!==d||l!==0&&de.nodeType!==3||(E=m+l),de.nodeType===3&&(m+=de.nodeValue.length),(K=de.firstChild)!==null;)X=de,de=K;for(;;){if(de===t)break t;if(X===s&&++G===n&&(g=m),X===d&&++te===l&&(E=m),(K=de.nextSibling)!==null)break;de=X,X=de.parentNode}de=K}s=g===-1||E===-1?null:{start:g,end:E}}else s=null}s=s||{start:0,end:0}}else s=null;for(au={focusedElem:t,selectionRange:s},Do=!1,Sa=a;Sa!==null;)if(a=Sa,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Sa=t;else for(;Sa!==null;){switch(a=Sa,d=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)n=t[s],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=a,n=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Be=Yr(s.type,n);t=l.getSnapshotBeforeUpdate(Be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(et){$t(s,s.return,et)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)ru(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ru(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(c(163))}if(t=a.sibling,t!==null){t.return=a.return,Sa=t;break}Sa=a.return}}function Qm(t,a,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:gl(t,s),l&4&&_i(5,s);break;case 1:if(gl(t,s),l&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(m){$t(s,s.return,m)}else{var n=Yr(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(n,a,t.__reactInternalSnapshotBeforeUpdate)}catch(m){$t(s,s.return,m)}}l&64&&Im(s),l&512&&Di(s,s.return);break;case 3:if(gl(t,s),l&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Mx(t,a)}catch(m){$t(s,s.return,m)}}break;case 27:a===null&&l&4&&Vm(s);case 26:case 5:gl(t,s),a===null&&l&4&&qm(s),l&512&&Di(s,s.return);break;case 12:gl(t,s);break;case 31:gl(t,s),l&4&&Jm(t,s);break;case 13:gl(t,s),l&4&&Zm(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=gp.bind(null,s),Up(t,s))));break;case 22:if(l=s.memoizedState!==null||bl,!l){a=a!==null&&a.memoizedState!==null||pa,n=bl;var d=pa;bl=l,(pa=a)&&!d?yl(t,s,(s.subtreeFlags&8772)!==0):gl(t,s),bl=n,pa=d}break;case 30:break;default:gl(t,s)}}function Xm(t){var a=t.alternate;a!==null&&(t.alternate=null,Xm(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&da(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Kt=null,Ga=!1;function pl(t,a,s){for(s=s.child;s!==null;)Pm(t,a,s),s=s.sibling}function Pm(t,a,s){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(ke,s)}catch{}switch(s.tag){case 26:pa||Ks(s,a),pl(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:pa||Ks(s,a);var l=Kt,n=Ga;tr(s.type)&&(Kt=s.stateNode,Ga=!1),pl(t,a,s),qi(s.stateNode),Kt=l,Ga=n;break;case 5:pa||Ks(s,a);case 6:if(l=Kt,n=Ga,Kt=null,pl(t,a,s),Kt=l,Ga=n,Kt!==null)if(Ga)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(s.stateNode)}catch(d){$t(s,a,d)}else try{Kt.removeChild(s.stateNode)}catch(d){$t(s,a,d)}break;case 18:Kt!==null&&(Ga?(t=Kt,Ih(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),qn(t)):Ih(Kt,s.stateNode));break;case 4:l=Kt,n=Ga,Kt=s.stateNode.containerInfo,Ga=!0,pl(t,a,s),Kt=l,Ga=n;break;case 0:case 11:case 14:case 15:Pl(2,s,a),pa||Pl(4,s,a),pl(t,a,s);break;case 1:pa||(Ks(s,a),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Bm(s,a,l)),pl(t,a,s);break;case 21:pl(t,a,s);break;case 22:pa=(l=pa)||s.memoizedState!==null,pl(t,a,s),pa=l;break;default:pl(t,a,s)}}function Jm(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qn(t)}catch(s){$t(a,a.return,s)}}}function Zm(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qn(t)}catch(s){$t(a,a.return,s)}}function cp(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new Gm),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new Gm),a;default:throw Error(c(435,t.tag))}}function mo(t,a){var s=cp(t);a.forEach(function(l){if(!s.has(l)){s.add(l);var n=yp.bind(null,t,l);l.then(n,n)}})}function Qa(t,a){var s=a.deletions;if(s!==null)for(var l=0;l<s.length;l++){var n=s[l],d=t,m=a,g=m;e:for(;g!==null;){switch(g.tag){case 27:if(tr(g.type)){Kt=g.stateNode,Ga=!1;break e}break;case 5:Kt=g.stateNode,Ga=!1;break e;case 3:case 4:Kt=g.stateNode.containerInfo,Ga=!0;break e}g=g.return}if(Kt===null)throw Error(c(160));Pm(d,m,n),Kt=null,Ga=!1,d=n.alternate,d!==null&&(d.return=null),n.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Fm(a,t),a=a.sibling}var Os=null;function Fm(t,a){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qa(a,t),Xa(t),l&4&&(Pl(3,t,t.return),_i(3,t),Pl(5,t,t.return));break;case 1:Qa(a,t),Xa(t),l&512&&(pa||s===null||Ks(s,s.return)),l&64&&bl&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var n=Os;if(Qa(a,t),Xa(t),l&512&&(pa||s===null||Ks(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":d=n.getElementsByTagName("title")[0],(!d||d[ya]||d[Ft]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=n.createElement(l),n.head.insertBefore(d,n.querySelector("head > title"))),Ta(d,l,s),d[Ft]=t,la(d),l=d;break e;case"link":var m=Fh("link","href",n).get(l+(s.href||""));if(m){for(var g=0;g<m.length;g++)if(d=m[g],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){m.splice(g,1);break t}}d=n.createElement(l),Ta(d,l,s),n.head.appendChild(d);break;case"meta":if(m=Fh("meta","content",n).get(l+(s.content||""))){for(g=0;g<m.length;g++)if(d=m[g],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){m.splice(g,1);break t}}d=n.createElement(l),Ta(d,l,s),n.head.appendChild(d);break;default:throw Error(c(468,l))}d[Ft]=t,la(d),l=d}t.stateNode=l}else Kh(n,t.type,t.stateNode);else t.stateNode=Zh(n,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Kh(n,t.type,t.stateNode):Zh(n,l,t.memoizedProps)):l===null&&t.stateNode!==null&&T0(t,t.memoizedProps,s.memoizedProps)}break;case 27:Qa(a,t),Xa(t),l&512&&(pa||s===null||Ks(s,s.return)),s!==null&&l&4&&T0(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Qa(a,t),Xa(t),l&512&&(pa||s===null||Ks(s,s.return)),t.flags&32){n=t.stateNode;try{_l(n,"")}catch(Be){$t(t,t.return,Be)}}l&4&&t.stateNode!=null&&(n=t.memoizedProps,T0(t,n,s!==null?s.memoizedProps:n)),l&1024&&(R0=!0);break;case 6:if(Qa(a,t),Xa(t),l&4){if(t.stateNode===null)throw Error(c(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Be){$t(t,t.return,Be)}}break;case 3:if(Ao=null,n=Os,Os=Eo(a.containerInfo),Qa(a,t),Os=n,Xa(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{qn(a.containerInfo)}catch(Be){$t(t,t.return,Be)}R0&&(R0=!1,Km(t));break;case 4:l=Os,Os=Eo(t.stateNode.containerInfo),Qa(a,t),Xa(t),Os=l;break;case 12:Qa(a,t),Xa(t);break;case 31:Qa(a,t),Xa(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mo(t,l)));break;case 13:Qa(a,t),Xa(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(fo=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mo(t,l)));break;case 22:n=t.memoizedState!==null;var E=s!==null&&s.memoizedState!==null,G=bl,te=pa;if(bl=G||n,pa=te||E,Qa(a,t),pa=te,bl=G,Xa(t),l&8192)e:for(a=t.stateNode,a._visibility=n?a._visibility&-2:a._visibility|1,n&&(s===null||E||bl||pa||Vr(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){E=s=a;try{if(d=E.stateNode,n)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{g=E.stateNode;var de=E.memoizedProps.style,X=de!=null&&de.hasOwnProperty("display")?de.display:null;g.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Be){$t(E,E.return,Be)}}}else if(a.tag===6){if(s===null){E=a;try{E.stateNode.nodeValue=n?"":E.memoizedProps}catch(Be){$t(E,E.return,Be)}}}else if(a.tag===18){if(s===null){E=a;try{var K=E.stateNode;n?Bh(K,!0):Bh(E.stateNode,!1)}catch(Be){$t(E,E.return,Be)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,mo(t,s))));break;case 19:Qa(a,t),Xa(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mo(t,l)));break;case 30:break;case 21:break;default:Qa(a,t),Xa(t)}}function Xa(t){var a=t.flags;if(a&2){try{for(var s,l=t.return;l!==null;){if(Ym(l)){s=l;break}l=l.return}if(s==null)throw Error(c(160));switch(s.tag){case 27:var n=s.stateNode,d=_0(t);xo(t,d,n);break;case 5:var m=s.stateNode;s.flags&32&&(_l(m,""),s.flags&=-33);var g=_0(t);xo(t,g,m);break;case 3:case 4:var E=s.stateNode.containerInfo,G=_0(t);D0(t,G,E);break;default:throw Error(c(161))}}catch(te){$t(t,t.return,te)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Km(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Km(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function gl(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Qm(t,a.alternate,a),a=a.sibling}function Vr(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Pl(4,a,a.return),Vr(a);break;case 1:Ks(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Bm(a,a.return,s),Vr(a);break;case 27:qi(a.stateNode);case 26:case 5:Ks(a,a.return),Vr(a);break;case 22:a.memoizedState===null&&Vr(a);break;case 30:Vr(a);break;default:Vr(a)}t=t.sibling}}function yl(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,n=t,d=a,m=d.flags;switch(d.tag){case 0:case 11:case 15:yl(n,d,s),_i(4,d);break;case 1:if(yl(n,d,s),l=d,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(G){$t(l,l.return,G)}if(l=d,n=l.updateQueue,n!==null){var g=l.stateNode;try{var E=n.shared.hiddenCallbacks;if(E!==null)for(n.shared.hiddenCallbacks=null,n=0;n<E.length;n++)Ax(E[n],g)}catch(G){$t(l,l.return,G)}}s&&m&64&&Im(d),Di(d,d.return);break;case 27:Vm(d);case 26:case 5:yl(n,d,s),s&&l===null&&m&4&&qm(d),Di(d,d.return);break;case 12:yl(n,d,s);break;case 31:yl(n,d,s),s&&m&4&&Jm(n,d);break;case 13:yl(n,d,s),s&&m&4&&Zm(n,d);break;case 22:d.memoizedState===null&&yl(n,d,s),Di(d,d.return);break;case 30:break;default:yl(n,d,s)}a=a.sibling}}function L0(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&yi(s))}function $0(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&yi(t))}function Us(t,a,s,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Wm(t,a,s,l),a=a.sibling}function Wm(t,a,s,l){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Us(t,a,s,l),n&2048&&_i(9,a);break;case 1:Us(t,a,s,l);break;case 3:Us(t,a,s,l),n&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&yi(t)));break;case 12:if(n&2048){Us(t,a,s,l),t=a.stateNode;try{var d=a.memoizedProps,m=d.id,g=d.onPostCommit;typeof g=="function"&&g(m,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){$t(a,a.return,E)}}else Us(t,a,s,l);break;case 31:Us(t,a,s,l);break;case 13:Us(t,a,s,l);break;case 23:break;case 22:d=a.stateNode,m=a.alternate,a.memoizedState!==null?d._visibility&2?Us(t,a,s,l):Ri(t,a):d._visibility&2?Us(t,a,s,l):(d._visibility|=2,Tn(t,a,s,l,(a.subtreeFlags&10256)!==0||!1)),n&2048&&L0(m,a);break;case 24:Us(t,a,s,l),n&2048&&$0(a.alternate,a);break;default:Us(t,a,s,l)}}function Tn(t,a,s,l,n){for(n=n&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var d=t,m=a,g=s,E=l,G=m.flags;switch(m.tag){case 0:case 11:case 15:Tn(d,m,g,E,n),_i(8,m);break;case 23:break;case 22:var te=m.stateNode;m.memoizedState!==null?te._visibility&2?Tn(d,m,g,E,n):Ri(d,m):(te._visibility|=2,Tn(d,m,g,E,n)),n&&G&2048&&L0(m.alternate,m);break;case 24:Tn(d,m,g,E,n),n&&G&2048&&$0(m.alternate,m);break;default:Tn(d,m,g,E,n)}a=a.sibling}}function Ri(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,l=a,n=l.flags;switch(l.tag){case 22:Ri(s,l),n&2048&&L0(l.alternate,l);break;case 24:Ri(s,l),n&2048&&$0(l.alternate,l);break;default:Ri(s,l)}a=a.sibling}}var Li=8192;function _n(t,a,s){if(t.subtreeFlags&Li)for(t=t.child;t!==null;)eh(t,a,s),t=t.sibling}function eh(t,a,s){switch(t.tag){case 26:_n(t,a,s),t.flags&Li&&t.memoizedState!==null&&Zp(s,Os,t.memoizedState,t.memoizedProps);break;case 5:_n(t,a,s);break;case 3:case 4:var l=Os;Os=Eo(t.stateNode.containerInfo),_n(t,a,s),Os=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Li,Li=16777216,_n(t,a,s),Li=l):_n(t,a,s));break;default:_n(t,a,s)}}function th(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function $i(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];Sa=l,sh(l,t)}th(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ah(t),t=t.sibling}function ah(t){switch(t.tag){case 0:case 11:case 15:$i(t),t.flags&2048&&Pl(9,t,t.return);break;case 3:$i(t);break;case 12:$i(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,ho(t)):$i(t);break;default:$i(t)}}function ho(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];Sa=l,sh(l,t)}th(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Pl(8,a,a.return),ho(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,ho(a));break;default:ho(a)}t=t.sibling}}function sh(t,a){for(;Sa!==null;){var s=Sa;switch(s.tag){case 0:case 11:case 15:Pl(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yi(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Sa=l;else e:for(s=t;Sa!==null;){l=Sa;var n=l.sibling,d=l.return;if(Xm(l),l===s){Sa=null;break e}if(n!==null){n.return=d,Sa=n;break e}Sa=d}}}var up={getCacheForType:function(t){var a=Aa(ha),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s},cacheSignal:function(){return Aa(ha).controller.signal}},xp=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Vt=null,ht=null,bt=0,Lt=0,ls=null,Jl=!1,Dn=!1,O0=!1,vl=0,na=0,Zl=0,Gr=0,U0=0,rs=0,Rn=0,Oi=null,Pa=null,H0=!1,fo=0,lh=0,bo=1/0,po=null,Fl=null,va=0,Kl=null,Ln=null,jl=0,I0=0,B0=null,rh=null,Ui=0,q0=null;function ns(){return(Rt&2)!==0&&bt!==0?bt&-bt:T.T!==null?P0():vr()}function nh(){if(rs===0)if((bt&536870912)===0||kt){var t=Zt;Zt<<=1,(Zt&3932160)===0&&(Zt=262144),rs=t}else rs=536870912;return t=as.current,t!==null&&(t.flags|=32),rs}function Ja(t,a,s){(t===Vt&&(Lt===2||Lt===9)||t.cancelPendingCommit!==null)&&($n(t,0),Wl(t,bt,rs,!1)),ja(t,s),((Rt&2)===0||t!==Vt)&&(t===Vt&&((Rt&2)===0&&(Gr|=s),na===4&&Wl(t,bt,rs,!1)),Ws(t))}function ih(t,a,s){if((Rt&6)!==0)throw Error(c(327));var l=!s&&(a&127)===0&&(a&t.expiredLanes)===0||wt(t,a),n=l?fp(t,a):V0(t,a,!0),d=l;do{if(n===0){Dn&&!l&&Wl(t,a,0,!1);break}else{if(s=t.current.alternate,d&&!mp(s)){n=V0(t,a,!1),d=!1;continue}if(n===2){if(d=a,t.errorRecoveryDisabledLanes&d)var m=0;else m=t.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){a=m;e:{var g=t;n=Oi;var E=g.current.memoizedState.isDehydrated;if(E&&($n(g,m).flags|=256),m=V0(g,m,!1),m!==2){if(O0&&!E){g.errorRecoveryDisabledLanes|=d,Gr|=d,n=4;break e}d=Pa,Pa=n,d!==null&&(Pa===null?Pa=d:Pa.push.apply(Pa,d))}n=m}if(d=!1,n!==2)continue}}if(n===1){$n(t,0),Wl(t,a,0,!0);break}e:{switch(l=t,d=n,d){case 0:case 1:throw Error(c(345));case 4:if((a&4194048)!==a)break;case 6:Wl(l,a,rs,!Jl);break e;case 2:Pa=null;break;case 3:case 5:break;default:throw Error(c(329))}if((a&62914560)===a&&(n=fo+300-Ze(),10<n)){if(Wl(l,a,rs,!Jl),Dt(l,0,!0)!==0)break e;jl=a,l.timeoutHandle=Uh(dh.bind(null,l,s,Pa,po,H0,a,rs,Gr,Rn,Jl,d,"Throttled",-0,0),n);break e}dh(l,s,Pa,po,H0,a,rs,Gr,Rn,Jl,d,null,-0,0)}}break}while(!0);Ws(t)}function dh(t,a,s,l,n,d,m,g,E,G,te,de,X,K){if(t.timeoutHandle=-1,de=a.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bs},eh(a,d,de);var Be=(d&62914560)===d?fo-Ze():(d&4194048)===d?lh-Ze():0;if(Be=Fp(de,Be),Be!==null){jl=d,t.cancelPendingCommit=Be(bh.bind(null,t,a,d,s,l,n,m,g,E,te,de,null,X,K)),Wl(t,d,m,!G);return}}bh(t,a,d,s,l,n,m,g,E)}function mp(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var n=s[l],d=n.getSnapshot;n=n.value;try{if(!zt(d(),n))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Wl(t,a,s,l){a&=~U0,a&=~Gr,t.suspendedLanes|=a,t.pingedLanes&=~a,l&&(t.warmLanes|=a),l=t.expirationTimes;for(var n=a;0<n;){var d=31-S(n),m=1<<d;l[d]=-1,n&=~m}s!==0&&pr(t,s,a)}function go(){return(Rt&6)===0?(Hi(0),!1):!0}function Y0(){if(ht!==null){if(Lt===0)var t=ht.return;else t=ht,cl=$r=null,r0(t),Cn=null,ji=0,t=ht;for(;t!==null;)Hm(t.alternate,t),t=t.return;ht=null}}function $n(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Dp(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),jl=0,Y0(),Vt=t,ht=s=dl(t.current,null),bt=a,Lt=0,ls=null,Jl=!1,Dn=wt(t,a),O0=!1,Rn=rs=U0=Gr=Zl=na=0,Pa=Oi=null,H0=!1,(a&8)!==0&&(a|=a&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=a;0<l;){var n=31-S(l),d=1<<n;a|=t[n],l&=~d}return vl=a,Ud(),s}function oh(t,a){ot=null,T.H=Ai,a===Sn||a===Qd?(a=Sx(),Lt=3):a===Xc?(a=Sx(),Lt=4):Lt=a===j0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ls=a,ht===null&&(na=1,no(t,vs(a,t.current)))}function ch(){var t=as.current;return t===null?!0:(bt&4194048)===bt?ws===null:(bt&62914560)===bt||(bt&536870912)!==0?t===ws:!1}function uh(){var t=T.H;return T.H=Ai,t===null?Ai:t}function xh(){var t=T.A;return T.A=up,t}function yo(){na=4,Jl||(bt&4194048)!==bt&&as.current!==null||(Dn=!0),(Zl&134217727)===0&&(Gr&134217727)===0||Vt===null||Wl(Vt,bt,rs,!1)}function V0(t,a,s){var l=Rt;Rt|=2;var n=uh(),d=xh();(Vt!==t||bt!==a)&&(po=null,$n(t,a)),a=!1;var m=na;e:do try{if(Lt!==0&&ht!==null){var g=ht,E=ls;switch(Lt){case 8:Y0(),m=6;break e;case 3:case 2:case 9:case 6:as.current===null&&(a=!0);var G=Lt;if(Lt=0,ls=null,On(t,g,E,G),s&&Dn){m=0;break e}break;default:G=Lt,Lt=0,ls=null,On(t,g,E,G)}}hp(),m=na;break}catch(te){oh(t,te)}while(!0);return a&&t.shellSuspendCounter++,cl=$r=null,Rt=l,T.H=n,T.A=d,ht===null&&(Vt=null,bt=0,Ud()),m}function hp(){for(;ht!==null;)mh(ht)}function fp(t,a){var s=Rt;Rt|=2;var l=uh(),n=xh();Vt!==t||bt!==a?(po=null,bo=Ze()+500,$n(t,a)):Dn=wt(t,a);e:do try{if(Lt!==0&&ht!==null){a=ht;var d=ls;t:switch(Lt){case 1:Lt=0,ls=null,On(t,a,d,1);break;case 2:case 9:if(Nx(d)){Lt=0,ls=null,hh(a);break}a=function(){Lt!==2&&Lt!==9||Vt!==t||(Lt=7),Ws(t)},d.then(a,a);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:Nx(d)?(Lt=0,ls=null,hh(a)):(Lt=0,ls=null,On(t,a,d,7));break;case 5:var m=null;switch(ht.tag){case 26:m=ht.memoizedState;case 5:case 27:var g=ht;if(m?Wh(m):g.stateNode.complete){Lt=0,ls=null;var E=g.sibling;if(E!==null)ht=E;else{var G=g.return;G!==null?(ht=G,vo(G)):ht=null}break t}}Lt=0,ls=null,On(t,a,d,5);break;case 6:Lt=0,ls=null,On(t,a,d,6);break;case 8:Y0(),na=6;break e;default:throw Error(c(462))}}bp();break}catch(te){oh(t,te)}while(!0);return cl=$r=null,T.H=l,T.A=n,Rt=s,ht!==null?0:(Vt=null,bt=0,Ud(),na)}function bp(){for(;ht!==null&&!_e();)mh(ht)}function mh(t){var a=Om(t.alternate,t,vl);t.memoizedProps=t.pendingProps,a===null?vo(t):ht=a}function hh(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=Tm(s,a,a.pendingProps,a.type,void 0,bt);break;case 11:a=Tm(s,a,a.pendingProps,a.type.render,a.ref,bt);break;case 5:r0(a);default:Hm(s,a),a=ht=xx(a,vl),a=Om(s,a,vl)}t.memoizedProps=t.pendingProps,a===null?vo(t):ht=a}function On(t,a,s,l){cl=$r=null,r0(a),Cn=null,ji=0;var n=a.return;try{if(lp(t,n,a,s,bt)){na=1,no(t,vs(s,t.current)),ht=null;return}}catch(d){if(n!==null)throw ht=n,d;na=1,no(t,vs(s,t.current)),ht=null;return}a.flags&32768?(kt||l===1?t=!0:Dn||(bt&536870912)!==0?t=!1:(Jl=t=!0,(l===2||l===9||l===3||l===6)&&(l=as.current,l!==null&&l.tag===13&&(l.flags|=16384))),fh(a,t)):vo(a)}function vo(t){var a=t;do{if((a.flags&32768)!==0){fh(a,Jl);return}t=a.return;var s=ip(a.alternate,a,vl);if(s!==null){ht=s;return}if(a=a.sibling,a!==null){ht=a;return}ht=a=t}while(a!==null);na===0&&(na=5)}function fh(t,a){do{var s=dp(t.alternate,t);if(s!==null){s.flags&=32767,ht=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){ht=t;return}ht=t=s}while(t!==null);na=6,ht=null}function bh(t,a,s,l,n,d,m,g,E){t.cancelPendingCommit=null;do jo();while(va!==0);if((Rt&6)!==0)throw Error(c(327));if(a!==null){if(a===t.current)throw Error(c(177));if(d=a.lanes|a.childLanes,d|=_c,br(t,s,d,m,g,E),t===Vt&&(ht=Vt=null,bt=0),Ln=a,Kl=t,jl=s,I0=d,B0=n,rh=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vp(Oe,function(){return jh(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=T.T,T.T=null,n=F.p,F.p=2,m=Rt,Rt|=4;try{op(t,a,s)}finally{Rt=m,F.p=n,T.T=l}}va=1,ph(),gh(),yh()}}function ph(){if(va===1){va=0;var t=Kl,a=Ln,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=T.T,T.T=null;var l=F.p;F.p=2;var n=Rt;Rt|=4;try{Fm(a,t);var d=au,m=sx(t.containerInfo),g=d.focusedElem,E=d.selectionRange;if(m!==g&&g&&g.ownerDocument&&ax(g.ownerDocument.documentElement,g)){if(E!==null&&Ec(g)){var G=E.start,te=E.end;if(te===void 0&&(te=G),"selectionStart"in g)g.selectionStart=G,g.selectionEnd=Math.min(te,g.value.length);else{var de=g.ownerDocument||document,X=de&&de.defaultView||window;if(X.getSelection){var K=X.getSelection(),Be=g.textContent.length,et=Math.min(E.start,Be),Bt=E.end===void 0?et:Math.min(E.end,Be);!K.extend&&et>Bt&&(m=Bt,Bt=et,et=m);var $=Ls(g,et),_=Ls(g,Bt);if($&&_&&(K.rangeCount!==1||K.anchorNode!==$.node||K.anchorOffset!==$.offset||K.focusNode!==_.node||K.focusOffset!==_.offset)){var V=de.createRange();V.setStart($.node,$.offset),K.removeAllRanges(),et>Bt?(K.addRange(V),K.extend(_.node,_.offset)):(V.setEnd(_.node,_.offset),K.addRange(V))}}}}for(de=[],K=g;K=K.parentNode;)K.nodeType===1&&de.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<de.length;g++){var re=de[g];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Do=!!tu,au=tu=null}finally{Rt=n,F.p=l,T.T=s}}t.current=a,va=2}}function gh(){if(va===2){va=0;var t=Kl,a=Ln,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=T.T,T.T=null;var l=F.p;F.p=2;var n=Rt;Rt|=4;try{Qm(t,a.alternate,a)}finally{Rt=n,F.p=l,T.T=s}}va=3}}function yh(){if(va===4||va===3){va=0,He();var t=Kl,a=Ln,s=jl,l=rh;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?va=5:(va=0,Ln=Kl=null,vh(t,t.pendingLanes));var n=t.pendingLanes;if(n===0&&(Fl=null),an(s),a=a.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(ke,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=T.T,n=F.p,F.p=2,T.T=null;try{for(var d=t.onRecoverableError,m=0;m<l.length;m++){var g=l[m];d(g.value,{componentStack:g.stack})}}finally{T.T=a,F.p=n}}(jl&3)!==0&&jo(),Ws(t),n=t.pendingLanes,(s&261930)!==0&&(n&42)!==0?t===q0?Ui++:(Ui=0,q0=t):Ui=0,Hi(0)}}function vh(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,yi(a)))}function jo(){return ph(),gh(),yh(),jh()}function jh(){if(va!==5)return!1;var t=Kl,a=I0;I0=0;var s=an(jl),l=T.T,n=F.p;try{F.p=32>s?32:s,T.T=null,s=B0,B0=null;var d=Kl,m=jl;if(va=0,Ln=Kl=null,jl=0,(Rt&6)!==0)throw Error(c(331));var g=Rt;if(Rt|=4,ah(d.current),Wm(d,d.current,m,s),Rt=g,Hi(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(ke,d)}catch{}return!0}finally{F.p=n,T.T=l,vh(t,a)}}function kh(t,a,s){a=vs(s,a),a=v0(t.stateNode,a,2),t=Gl(t,a,2),t!==null&&(ja(t,2),Ws(t))}function $t(t,a,s){if(t.tag===3)kh(t,t,s);else for(;a!==null;){if(a.tag===3){kh(a,t,s);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fl===null||!Fl.has(l))){t=vs(s,t),s=Nm(2),l=Gl(a,s,2),l!==null&&(wm(s,l,a,t),ja(l,2),Ws(l));break}}a=a.return}}function G0(t,a,s){var l=t.pingCache;if(l===null){l=t.pingCache=new xp;var n=new Set;l.set(a,n)}else n=l.get(a),n===void 0&&(n=new Set,l.set(a,n));n.has(s)||(O0=!0,n.add(s),t=pp.bind(null,t,a,s),a.then(t,t))}function pp(t,a,s){var l=t.pingCache;l!==null&&l.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Vt===t&&(bt&s)===s&&(na===4||na===3&&(bt&62914560)===bt&&300>Ze()-fo?(Rt&2)===0&&$n(t,0):U0|=s,Rn===bt&&(Rn=0)),Ws(t)}function Nh(t,a){a===0&&(a=xa()),t=Dr(t,a),t!==null&&(ja(t,a),Ws(t))}function gp(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),Nh(t,s)}function yp(t,a){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,n=t.memoizedState;n!==null&&(s=n.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(c(314))}l!==null&&l.delete(a),Nh(t,s)}function vp(t,a){return R(t,a)}var ko=null,Un=null,Q0=!1,No=!1,X0=!1,er=0;function Ws(t){t!==Un&&t.next===null&&(Un===null?ko=Un=t:Un=Un.next=t),No=!0,Q0||(Q0=!0,kp())}function Hi(t,a){if(!X0&&No){X0=!0;do for(var s=!1,l=ko;l!==null;){if(t!==0){var n=l.pendingLanes;if(n===0)var d=0;else{var m=l.suspendedLanes,g=l.pingedLanes;d=(1<<31-S(42|t)+1)-1,d&=n&~(m&~g),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Eh(l,d))}else d=bt,d=Dt(l,l===Vt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||wt(l,d)||(s=!0,Eh(l,d));l=l.next}while(s);X0=!1}}function jp(){wh()}function wh(){No=Q0=!1;var t=0;er!==0&&_p()&&(t=er);for(var a=Ze(),s=null,l=ko;l!==null;){var n=l.next,d=Sh(l,a);d===0?(l.next=null,s===null?ko=n:s.next=n,n===null&&(Un=s)):(s=l,(t!==0||(d&3)!==0)&&(No=!0)),l=n}va!==0&&va!==5||Hi(t),er!==0&&(er=0)}function Sh(t,a){for(var s=t.suspendedLanes,l=t.pingedLanes,n=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var m=31-S(d),g=1<<m,E=n[m];E===-1?((g&s)===0||(g&l)!==0)&&(n[m]=lt(g,a)):E<=a&&(t.expiredLanes|=g),d&=~g}if(a=Vt,s=bt,s=Dt(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===a&&(Lt===2||Lt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fe(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||wt(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(l!==null&&fe(l),an(s)){case 2:case 8:s=At;break;case 32:s=Oe;break;case 268435456:s=_t;break;default:s=Oe}return l=Ch.bind(null,t),s=R(s,l),t.callbackPriority=a,t.callbackNode=s,a}return l!==null&&l!==null&&fe(l),t.callbackPriority=2,t.callbackNode=null,2}function Ch(t,a){if(va!==0&&va!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(jo()&&t.callbackNode!==s)return null;var l=bt;return l=Dt(t,t===Vt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ih(t,l,a),Sh(t,Ze()),t.callbackNode!=null&&t.callbackNode===s?Ch.bind(null,t):null)}function Eh(t,a){if(jo())return null;ih(t,a,!0)}function kp(){Rp(function(){(Rt&6)!==0?R(We,jp):wh()})}function P0(){if(er===0){var t=Nn;t===0&&(t=Jt,Jt<<=1,(Jt&261888)===0&&(Jt=256)),er=t}return er}function zh(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Nr(""+t)}function Ah(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function Np(t,a,s,l,n){if(a==="submit"&&s&&s.stateNode===n){var d=zh((n[Fe]||null).action),m=l.submitter;m&&(a=(a=m[Fe]||null)?zh(a.formAction):m.getAttribute("formAction"),a!==null&&(d=a,m=null));var g=new $l("action","action",null,l,n);t.push({event:g,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(er!==0){var E=m?Ah(n,m):new FormData(n);h0(s,{pending:!0,data:E,method:n.method,action:d},null,E)}}else typeof d=="function"&&(g.preventDefault(),E=m?Ah(n,m):new FormData(n),h0(s,{pending:!0,data:E,method:n.method,action:d},d,E))},currentTarget:n}]})}}for(var J0=0;J0<Tc.length;J0++){var Z0=Tc[J0],wp=Z0.toLowerCase(),Sp=Z0[0].toUpperCase()+Z0.slice(1);$s(wp,"on"+Sp)}$s(nx,"onAnimationEnd"),$s(ix,"onAnimationIteration"),$s(dx,"onAnimationStart"),$s("dblclick","onDoubleClick"),$s("focusin","onFocus"),$s("focusout","onBlur"),$s(Bb,"onTransitionRun"),$s(qb,"onTransitionStart"),$s(Yb,"onTransitionCancel"),$s(ox,"onTransitionEnd"),Gs("onMouseEnter",["mouseout","mouseover"]),Gs("onMouseLeave",["mouseout","mouseover"]),Gs("onPointerEnter",["pointerout","pointerover"]),Gs("onPointerLeave",["pointerout","pointerover"]),xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ii));function Mh(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],n=l.event;l=l.listeners;e:{var d=void 0;if(a)for(var m=l.length-1;0<=m;m--){var g=l[m],E=g.instance,G=g.currentTarget;if(g=g.listener,E!==d&&n.isPropagationStopped())break e;d=g,n.currentTarget=G;try{d(n)}catch(te){Od(te)}n.currentTarget=null,d=E}else for(m=0;m<l.length;m++){if(g=l[m],E=g.instance,G=g.currentTarget,g=g.listener,E!==d&&n.isPropagationStopped())break e;d=g,n.currentTarget=G;try{d(n)}catch(te){Od(te)}n.currentTarget=null,d=E}}}}function ft(t,a){var s=a[Xe];s===void 0&&(s=a[Xe]=new Set);var l=t+"__bubble";s.has(l)||(Th(a,t,2,!1),s.add(l))}function F0(t,a,s){var l=0;a&&(l|=4),Th(s,t,l,a)}var wo="_reactListening"+Math.random().toString(36).slice(2);function K0(t){if(!t[wo]){t[wo]=!0,ei.forEach(function(s){s!=="selectionchange"&&(Cp.has(s)||F0(s,!1,t),F0(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[wo]||(a[wo]=!0,F0("selectionchange",!1,a))}}function Th(t,a,s,l){switch(nf(a)){case 2:var n=eg;break;case 8:n=tg;break;default:n=mu}s=n.bind(null,a,s,t),n=void 0,!Ll||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(n=!0),l?n!==void 0?t.addEventListener(a,s,{capture:!0,passive:n}):t.addEventListener(a,s,!0):n!==void 0?t.addEventListener(a,s,{passive:n}):t.addEventListener(a,s,!1)}function W0(t,a,s,l,n){var d=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var g=l.stateNode.containerInfo;if(g===n)break;if(m===4)for(m=l.return;m!==null;){var E=m.tag;if((E===3||E===4)&&m.stateNode.containerInfo===n)return;m=m.return}for(;g!==null;){if(m=Gt(g),m===null)return;if(E=m.tag,E===5||E===6||E===26||E===27){l=d=m;continue e}g=g.parentNode}}l=l.return}dn(function(){var G=d,te=Ps(s),de=[];e:{var X=cx.get(t);if(X!==void 0){var K=$l,Be=t;switch(t){case"keypress":if(Ts(s)===0)break e;case"keydown":case"keyup":K=vc;break;case"focusin":Be="focus",K=oi;break;case"focusout":Be="blur",K=oi;break;case"beforeblur":case"afterblur":K=oi;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=xn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Ad;break;case nx:case ix:case dx:K=hc;break;case ox:K=zr;break;case"scroll":case"scrollend":K=uc;break;case"wheel":K=Nc;break;case"copy":case"cut":case"paste":K=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=zd;break;case"toggle":case"beforetoggle":K=Sc}var et=(a&4)!==0,Bt=!et&&(t==="scroll"||t==="scrollend"),$=et?X!==null?X+"Capture":null:X;et=[];for(var _=G,V;_!==null;){var re=_;if(V=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||V===null||$===null||(re=Rl(_,$),re!=null&&et.push(Bi(_,re,V))),Bt)break;_=_.return}0<et.length&&(X=new K(X,Be,null,s,te),de.push({event:X,listeners:et}))}}if((a&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",X&&s!==wr&&(Be=s.relatedTarget||s.fromElement)&&(Gt(Be)||Be[H]))break e;if((K||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,K?(Be=s.relatedTarget||s.toElement,K=G,Be=Be?Gt(Be):null,Be!==null&&(Bt=h(Be),et=Be.tag,Be!==Bt||et!==5&&et!==27&&et!==6)&&(Be=null)):(K=null,Be=G),K!==Be)){if(et=di,re="onMouseLeave",$="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(et=zd,re="onPointerLeave",$="onPointerEnter",_="pointer"),Bt=K==null?X:Vs(K),V=Be==null?X:Vs(Be),X=new et(re,_+"leave",K,s,te),X.target=Bt,X.relatedTarget=V,re=null,Gt(te)===G&&(et=new et($,_+"enter",Be,s,te),et.target=V,et.relatedTarget=Bt,re=et),Bt=re,K&&Be)t:{for(et=Ep,$=K,_=Be,V=0,re=$;re;re=et(re))V++;re=0;for(var Je=_;Je;Je=et(Je))re++;for(;0<V-re;)$=et($),V--;for(;0<re-V;)_=et(_),re--;for(;V--;){if($===_||_!==null&&$===_.alternate){et=$;break t}$=et($),_=et(_)}et=null}else et=null;K!==null&&_h(de,X,K,et,!1),Be!==null&&Bt!==null&&_h(de,Bt,Be,et,!0)}}e:{if(X=G?Vs(G):window,K=X.nodeName&&X.nodeName.toLowerCase(),K==="select"||K==="input"&&X.type==="file")var Mt=A;else if(hi(X))if(Ne)Mt=Ds;else{Mt=wa;var Ve=Ct}else K=X.nodeName,!K||K.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?G&&kr(G.elementType)&&(Mt=A):Mt=Et;if(Mt&&(Mt=Mt(t,G))){fi(de,Mt,s,te);break e}Ve&&Ve(t,X,G),t==="focusout"&&G&&X.type==="number"&&G.memoizedProps.value!=null&&ai(X,"number",X.value)}switch(Ve=G?Vs(G):window,t){case"focusin":(hi(Ve)||Ve.contentEditable==="true")&&(fn=Ve,zc=G,bi=null);break;case"focusout":bi=zc=fn=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,lx(de,s,te);break;case"selectionchange":if(Ib)break;case"keydown":case"keyup":lx(de,s,te)}var ut;if(xi)e:{switch(t){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else il?Mr(t,s)&&(pt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(Td&&s.locale!=="ko"&&(il||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&il&&(ut=wd()):(Ut=te,ri="value"in Ut?Ut.value:Ut.textContent,il=!0)),Ve=So(G,pt),0<Ve.length&&(pt=new Ed(pt,t,null,s,te),de.push({event:pt,listeners:Ve}),ut?pt.data=ut:(ut=mi(s),ut!==null&&(pt.data=ut)))),(ut=Cc?Rd(t,s):Ld(t,s))&&(pt=So(G,"onBeforeInput"),0<pt.length&&(Ve=new Ed("onBeforeInput","beforeinput",null,s,te),de.push({event:Ve,listeners:pt}),Ve.data=ut)),Np(de,t,G,s,te)}Mh(de,a)})}function Bi(t,a,s){return{instance:t,listener:a,currentTarget:s}}function So(t,a){for(var s=a+"Capture",l=[];t!==null;){var n=t,d=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||d===null||(n=Rl(t,s),n!=null&&l.unshift(Bi(t,n,d)),n=Rl(t,a),n!=null&&l.push(Bi(t,n,d))),t.tag===3)return l;t=t.return}return[]}function Ep(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _h(t,a,s,l,n){for(var d=a._reactName,m=[];s!==null&&s!==l;){var g=s,E=g.alternate,G=g.stateNode;if(g=g.tag,E!==null&&E===l)break;g!==5&&g!==26&&g!==27||G===null||(E=G,n?(G=Rl(s,d),G!=null&&m.unshift(Bi(s,G,E))):n||(G=Rl(s,d),G!=null&&m.push(Bi(s,G,E)))),s=s.return}m.length!==0&&t.push({event:a,listeners:m})}var zp=/\r\n?/g,Ap=/\u0000|\uFFFD/g;function Dh(t){return(typeof t=="string"?t:""+t).replace(zp,`
`).replace(Ap,"")}function Rh(t,a){return a=Dh(a),Dh(t)===a}function It(t,a,s,l,n,d){switch(s){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||_l(t,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&_l(t,""+l);break;case"className":hs(t,"class",l);break;case"tabIndex":hs(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hs(t,s,l);break;case"style":Nd(t,l,d);break;case"data":if(a!=="object"){hs(t,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Nr(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(a!=="input"&&It(t,a,"name",n.name,n,null),It(t,a,"formEncType",n.formEncType,n,null),It(t,a,"formMethod",n.formMethod,n,null),It(t,a,"formTarget",n.formTarget,n,null)):(It(t,a,"encType",n.encType,n,null),It(t,a,"method",n.method,n,null),It(t,a,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Nr(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=bs);break;case"onScroll":l!=null&&ft("scroll",t);break;case"onScrollEnd":l!=null&&ft("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(s=l.__html,s!=null){if(n.children!=null)throw Error(c(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Nr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":ft("beforetoggle",t),ft("toggle",t),As(t,"popover",l);break;case"xlinkActuate":fs(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":fs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":fs(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":fs(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":fs(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":fs(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":fs(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":fs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":fs(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":As(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cc.get(s)||s,As(t,s,l))}}function eu(t,a,s,l,n,d){switch(s){case"style":Nd(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(s=l.__html,s!=null){if(n.children!=null)throw Error(c(60));t.innerHTML=s}}break;case"children":typeof l=="string"?_l(t,l):(typeof l=="number"||typeof l=="bigint")&&_l(t,""+l);break;case"onScroll":l!=null&&ft("scroll",t);break;case"onScrollEnd":l!=null&&ft("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ml.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(n=s.endsWith("Capture"),a=s.slice(2,n?s.length-7:void 0),d=t[Fe]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(a,d,n),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,l,n);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):As(t,s,l)}}}function Ta(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",t),ft("load",t);var l=!1,n=!1,d;for(d in s)if(s.hasOwnProperty(d)){var m=s[d];if(m!=null)switch(d){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,a));default:It(t,a,d,m,s,null)}}n&&It(t,a,"srcSet",s.srcSet,s,null),l&&It(t,a,"src",s.src,s,null);return;case"input":ft("invalid",t);var g=d=m=n=null,E=null,G=null;for(l in s)if(s.hasOwnProperty(l)){var te=s[l];if(te!=null)switch(l){case"name":n=te;break;case"type":m=te;break;case"checked":E=te;break;case"defaultChecked":G=te;break;case"value":d=te;break;case"defaultValue":g=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(c(137,a));break;default:It(t,a,l,te,s,null)}}Qs(t,d,g,E,G,m,n,!1);return;case"select":ft("invalid",t),l=m=d=null;for(n in s)if(s.hasOwnProperty(n)&&(g=s[n],g!=null))switch(n){case"value":d=g;break;case"defaultValue":m=g;break;case"multiple":l=g;default:It(t,a,n,g,s,null)}a=d,s=m,t.multiple=!!l,a!=null?Xs(t,!!l,a,!1):s!=null&&Xs(t,!!l,s,!0);return;case"textarea":ft("invalid",t),d=n=l=null;for(m in s)if(s.hasOwnProperty(m)&&(g=s[m],g!=null))switch(m){case"value":l=g;break;case"defaultValue":n=g;break;case"children":d=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(c(91));break;default:It(t,a,m,g,s,null)}ln(t,l,n,d);return;case"option":for(E in s)if(s.hasOwnProperty(E)&&(l=s[E],l!=null))switch(E){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:It(t,a,E,l,s,null)}return;case"dialog":ft("beforetoggle",t),ft("toggle",t),ft("cancel",t),ft("close",t);break;case"iframe":case"object":ft("load",t);break;case"video":case"audio":for(l=0;l<Ii.length;l++)ft(Ii[l],t);break;case"image":ft("error",t),ft("load",t);break;case"details":ft("toggle",t);break;case"embed":case"source":case"link":ft("error",t),ft("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in s)if(s.hasOwnProperty(G)&&(l=s[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,a));default:It(t,a,G,l,s,null)}return;default:if(kr(a)){for(te in s)s.hasOwnProperty(te)&&(l=s[te],l!==void 0&&eu(t,a,te,l,s,void 0));return}}for(g in s)s.hasOwnProperty(g)&&(l=s[g],l!=null&&It(t,a,g,l,s,null))}function Mp(t,a,s,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,d=null,m=null,g=null,E=null,G=null,te=null;for(K in s){var de=s[K];if(s.hasOwnProperty(K)&&de!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":E=de;default:l.hasOwnProperty(K)||It(t,a,K,null,l,de)}}for(var X in l){var K=l[X];if(de=s[X],l.hasOwnProperty(X)&&(K!=null||de!=null))switch(X){case"type":d=K;break;case"name":n=K;break;case"checked":G=K;break;case"defaultChecked":te=K;break;case"value":m=K;break;case"defaultValue":g=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(c(137,a));break;default:K!==de&&It(t,a,X,K,l,de)}}sn(t,m,g,E,G,te,d,n);return;case"select":K=m=g=X=null;for(d in s)if(E=s[d],s.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":K=E;default:l.hasOwnProperty(d)||It(t,a,d,null,l,E)}for(n in l)if(d=l[n],E=s[n],l.hasOwnProperty(n)&&(d!=null||E!=null))switch(n){case"value":X=d;break;case"defaultValue":g=d;break;case"multiple":m=d;default:d!==E&&It(t,a,n,d,l,E)}a=g,s=m,l=K,X!=null?Xs(t,!!s,X,!1):!!l!=!!s&&(a!=null?Xs(t,!!s,a,!0):Xs(t,!!s,s?[]:"",!1));return;case"textarea":K=X=null;for(g in s)if(n=s[g],s.hasOwnProperty(g)&&n!=null&&!l.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:It(t,a,g,null,l,n)}for(m in l)if(n=l[m],d=s[m],l.hasOwnProperty(m)&&(n!=null||d!=null))switch(m){case"value":X=n;break;case"defaultValue":K=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(c(91));break;default:n!==d&&It(t,a,m,n,l,d)}kd(t,X,K);return;case"option":for(var Be in s)if(X=s[Be],s.hasOwnProperty(Be)&&X!=null&&!l.hasOwnProperty(Be))switch(Be){case"selected":t.selected=!1;break;default:It(t,a,Be,null,l,X)}for(E in l)if(X=l[E],K=s[E],l.hasOwnProperty(E)&&X!==K&&(X!=null||K!=null))switch(E){case"selected":t.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:It(t,a,E,X,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in s)X=s[et],s.hasOwnProperty(et)&&X!=null&&!l.hasOwnProperty(et)&&It(t,a,et,null,l,X);for(G in l)if(X=l[G],K=s[G],l.hasOwnProperty(G)&&X!==K&&(X!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(c(137,a));break;default:It(t,a,G,X,l,K)}return;default:if(kr(a)){for(var Bt in s)X=s[Bt],s.hasOwnProperty(Bt)&&X!==void 0&&!l.hasOwnProperty(Bt)&&eu(t,a,Bt,void 0,l,X);for(te in l)X=l[te],K=s[te],!l.hasOwnProperty(te)||X===K||X===void 0&&K===void 0||eu(t,a,te,X,l,K);return}}for(var $ in s)X=s[$],s.hasOwnProperty($)&&X!=null&&!l.hasOwnProperty($)&&It(t,a,$,null,l,X);for(de in l)X=l[de],K=s[de],!l.hasOwnProperty(de)||X===K||X==null&&K==null||It(t,a,de,X,l,K)}function Lh(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Tp(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var n=s[l],d=n.transferSize,m=n.initiatorType,g=n.duration;if(d&&g&&Lh(m)){for(m=0,g=n.responseEnd,l+=1;l<s.length;l++){var E=s[l],G=E.startTime;if(G>g)break;var te=E.transferSize,de=E.initiatorType;te&&Lh(de)&&(E=E.responseEnd,m+=te*(E<g?1:(g-G)/(E-G)))}if(--l,a+=8*(d+m)/(n.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tu=null,au=null;function Co(t){return t.nodeType===9?t:t.ownerDocument}function $h(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Oh(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function su(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var lu=null;function _p(){var t=window.event;return t&&t.type==="popstate"?t===lu?!1:(lu=t,!0):(lu=null,!1)}var Uh=typeof setTimeout=="function"?setTimeout:void 0,Dp=typeof clearTimeout=="function"?clearTimeout:void 0,Hh=typeof Promise=="function"?Promise:void 0,Rp=typeof queueMicrotask=="function"?queueMicrotask:typeof Hh<"u"?function(t){return Hh.resolve(null).then(t).catch(Lp)}:Uh;function Lp(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function Ih(t,a){var s=a,l=0;do{var n=s.nextSibling;if(t.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(n),qn(a);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")qi(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,qi(s);for(var d=s.firstChild;d;){var m=d.nextSibling,g=d.nodeName;d[ya]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=m}}else s==="body"&&qi(t.ownerDocument.body);s=n}while(s);qn(a)}function Bh(t,a){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function ru(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ru(s),da(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function $p(t,a,s,l){for(;t.nodeType===1;){var n=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ya])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==n.rel||t.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||t.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||t.getAttribute("title")!==(n.title==null?null:n.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(n.src==null?null:n.src)||t.getAttribute("type")!==(n.type==null?null:n.type)||t.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var d=n.name==null?null:""+n.name;if(n.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ss(t.nextSibling),t===null)break}return null}function Op(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ss(t.nextSibling),t===null))return null;return t}function qh(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ss(t.nextSibling),t===null))return null;return t}function nu(t){return t.data==="$?"||t.data==="$~"}function iu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Up(t,a){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||s.readyState!=="loading")a();else{var l=function(){a(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ss(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var du=null;function Yh(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(a===0)return Ss(t.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}t=t.nextSibling}return null}function Vh(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return t;a--}else s!=="/$"&&s!=="/&"||a++}t=t.previousSibling}return null}function Gh(t,a,s){switch(a=Co(s),t){case"html":if(t=a.documentElement,!t)throw Error(c(452));return t;case"head":if(t=a.head,!t)throw Error(c(453));return t;case"body":if(t=a.body,!t)throw Error(c(454));return t;default:throw Error(c(451))}}function qi(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);da(t)}var Cs=new Map,Qh=new Set;function Eo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var kl=F.d;F.d={f:Hp,r:Ip,D:Bp,C:qp,L:Yp,m:Vp,X:Qp,S:Gp,M:Xp};function Hp(){var t=kl.f(),a=go();return t||a}function Ip(t){var a=Ea(t);a!==null&&a.tag===5&&a.type==="form"?om(a):kl.r(t)}var Hn=typeof document>"u"?null:document;function Xh(t,a,s){var l=Hn;if(l&&typeof a=="string"&&a){var n=Da(a);n='link[rel="'+t+'"][href="'+n+'"]',typeof s=="string"&&(n+='[crossorigin="'+s+'"]'),Qh.has(n)||(Qh.add(n),t={rel:t,crossOrigin:s,href:a},l.querySelector(n)===null&&(a=l.createElement("link"),Ta(a,"link",t),la(a),l.head.appendChild(a)))}}function Bp(t){kl.D(t),Xh("dns-prefetch",t,null)}function qp(t,a){kl.C(t,a),Xh("preconnect",t,a)}function Yp(t,a,s){kl.L(t,a,s);var l=Hn;if(l&&t&&a){var n='link[rel="preload"][as="'+Da(a)+'"]';a==="image"&&s&&s.imageSrcSet?(n+='[imagesrcset="'+Da(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(n+='[imagesizes="'+Da(s.imageSizes)+'"]')):n+='[href="'+Da(t)+'"]';var d=n;switch(a){case"style":d=In(t);break;case"script":d=Bn(t)}Cs.has(d)||(t=N({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),Cs.set(d,t),l.querySelector(n)!==null||a==="style"&&l.querySelector(Yi(d))||a==="script"&&l.querySelector(Vi(d))||(a=l.createElement("link"),Ta(a,"link",t),la(a),l.head.appendChild(a)))}}function Vp(t,a){kl.m(t,a);var s=Hn;if(s&&t){var l=a&&typeof a.as=="string"?a.as:"script",n='link[rel="modulepreload"][as="'+Da(l)+'"][href="'+Da(t)+'"]',d=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Bn(t)}if(!Cs.has(d)&&(t=N({rel:"modulepreload",href:t},a),Cs.set(d,t),s.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Vi(d)))return}l=s.createElement("link"),Ta(l,"link",t),la(l),s.head.appendChild(l)}}}function Gp(t,a,s){kl.S(t,a,s);var l=Hn;if(l&&t){var n=Al(l).hoistableStyles,d=In(t);a=a||"default";var m=n.get(d);if(!m){var g={loading:0,preload:null};if(m=l.querySelector(Yi(d)))g.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":a},s),(s=Cs.get(d))&&ou(t,s);var E=m=l.createElement("link");la(E),Ta(E,"link",t),E._p=new Promise(function(G,te){E.onload=G,E.onerror=te}),E.addEventListener("load",function(){g.loading|=1}),E.addEventListener("error",function(){g.loading|=2}),g.loading|=4,zo(m,a,l)}m={type:"stylesheet",instance:m,count:1,state:g},n.set(d,m)}}}function Qp(t,a){kl.X(t,a);var s=Hn;if(s&&t){var l=Al(s).hoistableScripts,n=Bn(t),d=l.get(n);d||(d=s.querySelector(Vi(n)),d||(t=N({src:t,async:!0},a),(a=Cs.get(n))&&cu(t,a),d=s.createElement("script"),la(d),Ta(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(n,d))}}function Xp(t,a){kl.M(t,a);var s=Hn;if(s&&t){var l=Al(s).hoistableScripts,n=Bn(t),d=l.get(n);d||(d=s.querySelector(Vi(n)),d||(t=N({src:t,async:!0,type:"module"},a),(a=Cs.get(n))&&cu(t,a),d=s.createElement("script"),la(d),Ta(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(n,d))}}function Ph(t,a,s,l){var n=(n=Ee.current)?Eo(n):null;if(!n)throw Error(c(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=In(s.href),s=Al(n).hoistableStyles,l=s.get(a),l||(l={type:"style",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=In(s.href);var d=Al(n).hoistableStyles,m=d.get(t);if(m||(n=n.ownerDocument||n,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,m),(d=n.querySelector(Yi(t)))&&!d._p&&(m.instance=d,m.state.loading=5),Cs.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Cs.set(t,s),d||Pp(n,t,s,m.state))),a&&l===null)throw Error(c(528,""));return m}if(a&&l!==null)throw Error(c(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Bn(s),s=Al(n).hoistableScripts,l=s.get(a),l||(l={type:"script",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,t))}}function In(t){return'href="'+Da(t)+'"'}function Yi(t){return'link[rel="stylesheet"]['+t+"]"}function Jh(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function Pp(t,a,s,l){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=t.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),Ta(a,"link",s),la(a),t.head.appendChild(a))}function Bn(t){return'[src="'+Da(t)+'"]'}function Vi(t){return"script[async]"+t}function Zh(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var l=t.querySelector('style[data-href~="'+Da(s.href)+'"]');if(l)return a.instance=l,la(l),l;var n=N({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),la(l),Ta(l,"style",n),zo(l,s.precedence,t),a.instance=l;case"stylesheet":n=In(s.href);var d=t.querySelector(Yi(n));if(d)return a.state.loading|=4,a.instance=d,la(d),d;l=Jh(s),(n=Cs.get(n))&&ou(l,n),d=(t.ownerDocument||t).createElement("link"),la(d);var m=d;return m._p=new Promise(function(g,E){m.onload=g,m.onerror=E}),Ta(d,"link",l),a.state.loading|=4,zo(d,s.precedence,t),a.instance=d;case"script":return d=Bn(s.src),(n=t.querySelector(Vi(d)))?(a.instance=n,la(n),n):(l=s,(n=Cs.get(d))&&(l=N({},s),cu(l,n)),t=t.ownerDocument||t,n=t.createElement("script"),la(n),Ta(n,"link",l),t.head.appendChild(n),a.instance=n);case"void":return null;default:throw Error(c(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,zo(l,s.precedence,t));return a.instance}function zo(t,a,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,d=n,m=0;m<l.length;m++){var g=l[m];if(g.dataset.precedence===a)d=g;else if(d!==n)break}d?d.parentNode.insertBefore(t,d.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function ou(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function cu(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Ao=null;function Fh(t,a,s){if(Ao===null){var l=new Map,n=Ao=new Map;n.set(s,l)}else n=Ao,l=n.get(s),l||(l=new Map,n.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),n=0;n<s.length;n++){var d=s[n];if(!(d[ya]||d[Ft]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(a)||"";m=t+m;var g=l.get(m);g?g.push(d):l.set(m,[d])}}return l}function Kh(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function Jp(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Wh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Zp(t,a,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var n=In(l.href),d=a.querySelector(Yi(n));if(d){a=d._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=Mo.bind(t),a.then(t,t)),s.state.loading|=4,s.instance=d,la(d);return}d=a.ownerDocument||a,l=Jh(l),(n=Cs.get(n))&&ou(l,n),d=d.createElement("link"),la(d);var m=d;m._p=new Promise(function(g,E){m.onload=g,m.onerror=E}),Ta(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Mo.bind(t),a.addEventListener("load",s),a.addEventListener("error",s))}}var uu=0;function Fp(t,a){return t.stylesheets&&t.count===0&&_o(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&_o(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+a);0<t.imgBytes&&uu===0&&(uu=62500*Tp());var n=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_o(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>uu?50:800)+a);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(n)}}:null}function Mo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_o(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var To=null;function _o(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,To=new Map,a.forEach(Kp,t),To=null,Mo.call(t))}function Kp(t,a){if(!(a.state.loading&4)){var s=To.get(t);if(s)var l=s.get(null);else{s=new Map,To.set(t,s);for(var n=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<n.length;d++){var m=n[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(s.set(m.dataset.precedence,m),l=m)}l&&s.set(null,l)}n=a.instance,m=n.getAttribute("data-precedence"),d=s.get(m)||l,d===l&&s.set(null,n),s.set(m,n),this.count++,l=Mo.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),d?d.parentNode.insertBefore(n,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(n,t.firstChild)),a.state.loading|=4}}var Gi={$$typeof:U,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Wp(t,a,s,l,n,d,m,g,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ua(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.hiddenUpdates=Ua(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ef(t,a,s,l,n,d,m,g,E,G,te,de){return t=new Wp(t,a,s,m,E,G,te,de,g),a=1,d===!0&&(a|=24),d=ts(3,null,null,a),t.current=d,d.stateNode=t,a=Vc(),a.refCount++,t.pooledCache=a,a.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:a},Pc(d),t}function tf(t){return t?(t=gn,t):gn}function af(t,a,s,l,n,d){n=tf(n),l.context===null?l.context=n:l.pendingContext=n,l=Vl(a),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Gl(t,l,a),s!==null&&(Ja(s,t,a),Ni(s,t,a))}function sf(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function xu(t,a){sf(t,a),(t=t.alternate)&&sf(t,a)}function lf(t){if(t.tag===13||t.tag===31){var a=Dr(t,67108864);a!==null&&Ja(a,t,67108864),xu(t,67108864)}}function rf(t){if(t.tag===13||t.tag===31){var a=ns();a=yr(a);var s=Dr(t,a);s!==null&&Ja(s,t,a),xu(t,a)}}var Do=!0;function eg(t,a,s,l){var n=T.T;T.T=null;var d=F.p;try{F.p=2,mu(t,a,s,l)}finally{F.p=d,T.T=n}}function tg(t,a,s,l){var n=T.T;T.T=null;var d=F.p;try{F.p=8,mu(t,a,s,l)}finally{F.p=d,T.T=n}}function mu(t,a,s,l){if(Do){var n=hu(l);if(n===null)W0(t,a,l,Ro,s),df(t,l);else if(sg(n,t,a,s,l))l.stopPropagation();else if(df(t,l),a&4&&-1<ag.indexOf(t)){for(;n!==null;){var d=Ea(n);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=Me(d.pendingLanes);if(m!==0){var g=d;for(g.pendingLanes|=2,g.entangledLanes|=2;m;){var E=1<<31-S(m);g.entanglements[1]|=E,m&=~E}Ws(d),(Rt&6)===0&&(bo=Ze()+500,Hi(0))}}break;case 31:case 13:g=Dr(d,2),g!==null&&Ja(g,d,2),go(),xu(d,2)}if(d=hu(l),d===null&&W0(t,a,l,Ro,s),d===n)break;n=d}n!==null&&l.stopPropagation()}else W0(t,a,l,null,s)}}function hu(t){return t=Ps(t),fu(t)}var Ro=null;function fu(t){if(Ro=null,t=Gt(t),t!==null){var a=h(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=y(a),t!==null)return t;t=null}else if(s===31){if(t=j(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Ro=t,null}function nf(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ke()){case We:return 2;case At:return 8;case Oe:case jt:return 32;case _t:return 268435456;default:return 32}default:return 32}}var bu=!1,ar=null,sr=null,lr=null,Qi=new Map,Xi=new Map,rr=[],ag="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function df(t,a){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Qi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(a.pointerId)}}function Pi(t,a,s,l,n,d){return t===null||t.nativeEvent!==d?(t={blockedOn:a,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[n]},a!==null&&(a=Ea(a),a!==null&&lf(a)),t):(t.eventSystemFlags|=l,a=t.targetContainers,n!==null&&a.indexOf(n)===-1&&a.push(n),t)}function sg(t,a,s,l,n){switch(a){case"focusin":return ar=Pi(ar,t,a,s,l,n),!0;case"dragenter":return sr=Pi(sr,t,a,s,l,n),!0;case"mouseover":return lr=Pi(lr,t,a,s,l,n),!0;case"pointerover":var d=n.pointerId;return Qi.set(d,Pi(Qi.get(d)||null,t,a,s,l,n)),!0;case"gotpointercapture":return d=n.pointerId,Xi.set(d,Pi(Xi.get(d)||null,t,a,s,l,n)),!0}return!1}function of(t){var a=Gt(t.target);if(a!==null){var s=h(a);if(s!==null){if(a=s.tag,a===13){if(a=y(s),a!==null){t.blockedOn=a,ia(t.priority,function(){rf(s)});return}}else if(a===31){if(a=j(s),a!==null){t.blockedOn=a,ia(t.priority,function(){rf(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lo(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=hu(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);wr=l,s.target.dispatchEvent(l),wr=null}else return a=Ea(s),a!==null&&lf(a),t.blockedOn=s,!1;a.shift()}return!0}function cf(t,a,s){Lo(t)&&s.delete(a)}function lg(){bu=!1,ar!==null&&Lo(ar)&&(ar=null),sr!==null&&Lo(sr)&&(sr=null),lr!==null&&Lo(lr)&&(lr=null),Qi.forEach(cf),Xi.forEach(cf)}function $o(t,a){t.blockedOn===a&&(t.blockedOn=null,bu||(bu=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lg)))}var Oo=null;function uf(t){Oo!==t&&(Oo=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oo===t&&(Oo=null);for(var a=0;a<t.length;a+=3){var s=t[a],l=t[a+1],n=t[a+2];if(typeof l!="function"){if(fu(l||s)===null)continue;break}var d=Ea(s);d!==null&&(t.splice(a,3),a-=3,h0(d,{pending:!0,data:n,method:s.method,action:l},l,n))}}))}function qn(t){function a(E){return $o(E,t)}ar!==null&&$o(ar,t),sr!==null&&$o(sr,t),lr!==null&&$o(lr,t),Qi.forEach(a),Xi.forEach(a);for(var s=0;s<rr.length;s++){var l=rr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rr.length&&(s=rr[0],s.blockedOn===null);)of(s),s.blockedOn===null&&rr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var n=s[l],d=s[l+1],m=n[Fe]||null;if(typeof d=="function")m||uf(s);else if(m){var g=null;if(d&&d.hasAttribute("formAction")){if(n=d,m=d[Fe]||null)g=m.formAction;else if(fu(n)!==null)continue}else g=m.action;typeof g=="function"?s[l+1]=g:(s.splice(l,3),l-=3),uf(s)}}}function xf(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(m){return n=m})},focusReset:"manual",scroll:"manual"})}function a(){n!==null&&(n(),n=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,n=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),n!==null&&(n(),n=null)}}}function pu(t){this._internalRoot=t}Uo.prototype.render=pu.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(c(409));var s=a.current,l=ns();af(s,l,t,a,null,null)},Uo.prototype.unmount=pu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;af(t.current,2,null,t,null,null),go(),a[H]=null}};function Uo(t){this._internalRoot=t}Uo.prototype.unstable_scheduleHydration=function(t){if(t){var a=vr();t={blockedOn:null,target:t,priority:a};for(var s=0;s<rr.length&&a!==0&&a<rr[s].priority;s++);rr.splice(s,0,t),s===0&&of(t)}};var mf=i.version;if(mf!=="19.2.3")throw Error(c(527,mf,"19.2.3"));F.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(c(188)):(t=Object.keys(t).join(","),Error(c(268,t)));return t=p(a),t=t!==null?k(t):null,t=t===null?null:t.stateNode,t};var rg={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{ke=Ho.inject(rg),se=Ho}catch{}}return Zi.createRoot=function(t,a){if(!b(t))throw Error(c(299));var s=!1,l="",n=ym,d=vm,m=jm;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(n=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=ef(t,1,!1,null,null,s,l,null,n,d,m,xf),t[H]=a.current,K0(t),new pu(a)},Zi.hydrateRoot=function(t,a,s){if(!b(t))throw Error(c(299));var l=!1,n="",d=ym,m=vm,g=jm,E=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(g=s.onRecoverableError),s.formState!==void 0&&(E=s.formState)),a=ef(t,1,!0,a,s??null,l,n,E,d,m,g,xf),a.context=tf(null),s=a.current,l=ns(),l=yr(l),n=Vl(l),n.callback=null,Gl(s,n,l),s=l,a.current.lanes=s,ja(a,s),Ws(a),t[H]=a.current,K0(t),new Uo(a)},Zi.version="19.2.3",Zi}var Nf;function fg(){if(Nf)return vu.exports;Nf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),vu.exports=hg(),vu.exports}var bg=fg();const pg=eb(bg);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wf="popstate";function gg(r={}){function i(b,h){let{pathname:y="/",search:j="",hash:f=""}=en(b.location.hash.substring(1));return!y.startsWith("/")&&!y.startsWith(".")&&(y="/"+y),Lu("",{pathname:y,search:j,hash:f},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function u(b,h){let y=b.document.querySelector("base"),j="";if(y&&y.getAttribute("href")){let f=b.location.href,p=f.indexOf("#");j=p===-1?f:f.slice(0,p)}return j+"#"+(typeof h=="string"?h:cd(h))}function c(b,h){os(b.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(h)})`)}return vg(i,u,c,r)}function ea(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function os(r,i){if(!r){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function yg(){return Math.random().toString(36).substring(2,10)}function Sf(r,i){return{usr:r.state,key:r.key,idx:i}}function Lu(r,i,u=null,c){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof i=="string"?en(i):i,state:u,key:i&&i.key||c||yg()}}function cd({pathname:r="/",search:i="",hash:u=""}){return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),u&&u!=="#"&&(r+=u.charAt(0)==="#"?u:"#"+u),r}function en(r){let i={};if(r){let u=r.indexOf("#");u>=0&&(i.hash=r.substring(u),r=r.substring(0,u));let c=r.indexOf("?");c>=0&&(i.search=r.substring(c),r=r.substring(0,c)),r&&(i.pathname=r)}return i}function vg(r,i,u,c={}){let{window:b=document.defaultView,v5Compat:h=!1}=c,y=b.history,j="POP",f=null,p=k();p==null&&(p=0,y.replaceState({...y.state,idx:p},""));function k(){return(y.state||{idx:null}).idx}function N(){j="POP";let B=k(),J=B==null?null:B-p;p=B,f&&f({action:j,location:O.location,delta:J})}function M(B,J){j="PUSH";let L=Lu(O.location,B,J);u&&u(L,B),p=k()+1;let U=Sf(L,p),D=O.createHref(L);try{y.pushState(U,"",D)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;b.location.assign(D)}h&&f&&f({action:j,location:O.location,delta:1})}function z(B,J){j="REPLACE";let L=Lu(O.location,B,J);u&&u(L,B),p=k();let U=Sf(L,p),D=O.createHref(L);y.replaceState(U,"",D),h&&f&&f({action:j,location:O.location,delta:0})}function w(B){return jg(B)}let O={get action(){return j},get location(){return r(b,y)},listen(B){if(f)throw new Error("A history only accepts one active listener");return b.addEventListener(wf,N),f=B,()=>{b.removeEventListener(wf,N),f=null}},createHref(B){return i(b,B)},createURL:w,encodeLocation(B){let J=w(B);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:M,replace:z,go(B){return y.go(B)}};return O}function jg(r,i=!1){let u="http://localhost";typeof window<"u"&&(u=window.location.origin!=="null"?window.location.origin:window.location.href),ea(u,"No window.location.(origin|href) available to create URL");let c=typeof r=="string"?r:cd(r);return c=c.replace(/ $/,"%20"),!i&&c.startsWith("//")&&(c=u+c),new URL(c,u)}function ab(r,i,u="/"){return kg(r,i,u,!1)}function kg(r,i,u,c){let b=typeof i=="string"?en(i):i,h=Cl(b.pathname||"/",u);if(h==null)return null;let y=sb(r);Ng(y);let j=null;for(let f=0;j==null&&f<y.length;++f){let p=Rg(h);j=_g(y[f],p,c)}return j}function sb(r,i=[],u=[],c="",b=!1){let h=(y,j,f=b,p)=>{let k={relativePath:p===void 0?y.path||"":p,caseSensitive:y.caseSensitive===!0,childrenIndex:j,route:y};if(k.relativePath.startsWith("/")){if(!k.relativePath.startsWith(c)&&f)return;ea(k.relativePath.startsWith(c),`Absolute route path "${k.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),k.relativePath=k.relativePath.slice(c.length)}let N=wl([c,k.relativePath]),M=u.concat(k);y.children&&y.children.length>0&&(ea(y.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${N}".`),sb(y.children,i,M,N,f)),!(y.path==null&&!y.index)&&i.push({path:N,score:Mg(N,y.index),routesMeta:M})};return r.forEach((y,j)=>{var f;if(y.path===""||!((f=y.path)!=null&&f.includes("?")))h(y,j);else for(let p of lb(y.path))h(y,j,!0,p)}),i}function lb(r){let i=r.split("/");if(i.length===0)return[];let[u,...c]=i,b=u.endsWith("?"),h=u.replace(/\?$/,"");if(c.length===0)return b?[h,""]:[h];let y=lb(c.join("/")),j=[];return j.push(...y.map(f=>f===""?h:[h,f].join("/"))),b&&j.push(...y),j.map(f=>r.startsWith("/")&&f===""?"/":f)}function Ng(r){r.sort((i,u)=>i.score!==u.score?u.score-i.score:Tg(i.routesMeta.map(c=>c.childrenIndex),u.routesMeta.map(c=>c.childrenIndex)))}var wg=/^:[\w-]+$/,Sg=3,Cg=2,Eg=1,zg=10,Ag=-2,Cf=r=>r==="*";function Mg(r,i){let u=r.split("/"),c=u.length;return u.some(Cf)&&(c+=Ag),i&&(c+=Cg),u.filter(b=>!Cf(b)).reduce((b,h)=>b+(wg.test(h)?Sg:h===""?Eg:zg),c)}function Tg(r,i){return r.length===i.length&&r.slice(0,-1).every((c,b)=>c===i[b])?r[r.length-1]-i[i.length-1]:0}function _g(r,i,u=!1){let{routesMeta:c}=r,b={},h="/",y=[];for(let j=0;j<c.length;++j){let f=c[j],p=j===c.length-1,k=h==="/"?i:i.slice(h.length)||"/",N=Zo({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},k),M=f.route;if(!N&&p&&u&&!c[c.length-1].route.index&&(N=Zo({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},k)),!N)return null;Object.assign(b,N.params),y.push({params:b,pathname:wl([h,N.pathname]),pathnameBase:Ug(wl([h,N.pathnameBase])),route:M}),N.pathnameBase!=="/"&&(h=wl([h,N.pathnameBase]))}return y}function Zo(r,i){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[u,c]=Dg(r.path,r.caseSensitive,r.end),b=i.match(u);if(!b)return null;let h=b[0],y=h.replace(/(.)\/+$/,"$1"),j=b.slice(1);return{params:c.reduce((p,{paramName:k,isOptional:N},M)=>{if(k==="*"){let w=j[M]||"";y=h.slice(0,h.length-w.length).replace(/(.)\/+$/,"$1")}const z=j[M];return N&&!z?p[k]=void 0:p[k]=(z||"").replace(/%2F/g,"/"),p},{}),pathname:h,pathnameBase:y,pattern:r}}function Dg(r,i=!1,u=!0){os(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let c=[],b="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,j,f)=>(c.push({paramName:j,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(c.push({paramName:"*"}),b+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):u?b+="\\/*$":r!==""&&r!=="/"&&(b+="(?:(?=\\/|$))"),[new RegExp(b,i?void 0:"i"),c]}function Rg(r){try{return r.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return os(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),r}}function Cl(r,i){if(i==="/")return r;if(!r.toLowerCase().startsWith(i.toLowerCase()))return null;let u=i.endsWith("/")?i.length-1:i.length,c=r.charAt(u);return c&&c!=="/"?null:r.slice(u)||"/"}var rb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lg=r=>rb.test(r);function $g(r,i="/"){let{pathname:u,search:c="",hash:b=""}=typeof r=="string"?en(r):r,h;if(u)if(Lg(u))h=u;else{if(u.includes("//")){let y=u;u=u.replace(/\/\/+/g,"/"),os(!1,`Pathnames cannot have embedded double slashes - normalizing ${y} -> ${u}`)}u.startsWith("/")?h=Ef(u.substring(1),"/"):h=Ef(u,i)}else h=i;return{pathname:h,search:Hg(c),hash:Ig(b)}}function Ef(r,i){let u=i.replace(/\/+$/,"").split("/");return r.split("/").forEach(b=>{b===".."?u.length>1&&u.pop():b!=="."&&u.push(b)}),u.length>1?u.join("/"):"/"}function wu(r,i,u,c){return`Cannot include a '${r}' character in a manually specified \`to.${i}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${u}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Og(r){return r.filter((i,u)=>u===0||i.route.path&&i.route.path.length>0)}function Gu(r){let i=Og(r);return i.map((u,c)=>c===i.length-1?u.pathname:u.pathnameBase)}function Qu(r,i,u,c=!1){let b;typeof r=="string"?b=en(r):(b={...r},ea(!b.pathname||!b.pathname.includes("?"),wu("?","pathname","search",b)),ea(!b.pathname||!b.pathname.includes("#"),wu("#","pathname","hash",b)),ea(!b.search||!b.search.includes("#"),wu("#","search","hash",b)));let h=r===""||b.pathname==="",y=h?"/":b.pathname,j;if(y==null)j=u;else{let N=i.length-1;if(!c&&y.startsWith("..")){let M=y.split("/");for(;M[0]==="..";)M.shift(),N-=1;b.pathname=M.join("/")}j=N>=0?i[N]:"/"}let f=$g(b,j),p=y&&y!=="/"&&y.endsWith("/"),k=(h||y===".")&&u.endsWith("/");return!f.pathname.endsWith("/")&&(p||k)&&(f.pathname+="/"),f}var wl=r=>r.join("/").replace(/\/\/+/g,"/"),Ug=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Hg=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Ig=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Bg=class{constructor(r,i,u,c=!1){this.status=r,this.statusText=i||"",this.internal=c,u instanceof Error?(this.data=u.toString(),this.error=u):this.data=u}};function qg(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Yg(r){return r.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ib(r,i){let u=r;if(typeof u!="string"||!rb.test(u))return{absoluteURL:void 0,isExternal:!1,to:u};let c=u,b=!1;if(nb)try{let h=new URL(window.location.href),y=u.startsWith("//")?new URL(h.protocol+u):new URL(u),j=Cl(y.pathname,i);y.origin===h.origin&&j!=null?u=j+y.search+y.hash:b=!0}catch{os(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:c,isExternal:b,to:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var db=["POST","PUT","PATCH","DELETE"];new Set(db);var Vg=["GET",...db];new Set(Vg);var Kn=x.createContext(null);Kn.displayName="DataRouter";var tc=x.createContext(null);tc.displayName="DataRouterState";var Gg=x.createContext(!1),ob=x.createContext({isTransitioning:!1});ob.displayName="ViewTransition";var Qg=x.createContext(new Map);Qg.displayName="Fetchers";var Xg=x.createContext(null);Xg.displayName="Await";var cs=x.createContext(null);cs.displayName="Navigation";var hd=x.createContext(null);hd.displayName="Location";var Ys=x.createContext({outlet:null,matches:[],isDataRoute:!1});Ys.displayName="Route";var Xu=x.createContext(null);Xu.displayName="RouteError";var cb="REACT_ROUTER_ERROR",Pg="REDIRECT",Jg="ROUTE_ERROR_RESPONSE";function Zg(r){if(r.startsWith(`${cb}:${Pg}:{`))try{let i=JSON.parse(r.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function Fg(r){if(r.startsWith(`${cb}:${Jg}:{`))try{let i=JSON.parse(r.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new Bg(i.status,i.statusText,i.data)}catch{}}function Kg(r,{relative:i}={}){ea(Wn(),"useHref() may be used only in the context of a <Router> component.");let{basename:u,navigator:c}=x.useContext(cs),{hash:b,pathname:h,search:y}=fd(r,{relative:i}),j=h;return u!=="/"&&(j=h==="/"?u:wl([u,h])),c.createHref({pathname:j,search:y,hash:b})}function Wn(){return x.useContext(hd)!=null}function rl(){return ea(Wn(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(hd).location}var ub="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xb(r){x.useContext(cs).static||x.useLayoutEffect(r)}function tn(){let{isDataRoute:r}=x.useContext(Ys);return r?my():Wg()}function Wg(){ea(Wn(),"useNavigate() may be used only in the context of a <Router> component.");let r=x.useContext(Kn),{basename:i,navigator:u}=x.useContext(cs),{matches:c}=x.useContext(Ys),{pathname:b}=rl(),h=JSON.stringify(Gu(c)),y=x.useRef(!1);return xb(()=>{y.current=!0}),x.useCallback((f,p={})=>{if(os(y.current,ub),!y.current)return;if(typeof f=="number"){u.go(f);return}let k=Qu(f,JSON.parse(h),b,p.relative==="path");r==null&&i!=="/"&&(k.pathname=k.pathname==="/"?i:wl([i,k.pathname])),(p.replace?u.replace:u.push)(k,p.state,p)},[i,u,h,b,r])}var ey=x.createContext(null);function ty(r){let i=x.useContext(Ys).outlet;return x.useMemo(()=>i&&x.createElement(ey.Provider,{value:r},i),[i,r])}function fd(r,{relative:i}={}){let{matches:u}=x.useContext(Ys),{pathname:c}=rl(),b=JSON.stringify(Gu(u));return x.useMemo(()=>Qu(r,JSON.parse(b),c,i==="path"),[r,b,c,i])}function ay(r,i){return mb(r,i)}function mb(r,i,u,c,b){var L;ea(Wn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=x.useContext(cs),{matches:y}=x.useContext(Ys),j=y[y.length-1],f=j?j.params:{},p=j?j.pathname:"/",k=j?j.pathnameBase:"/",N=j&&j.route;{let U=N&&N.path||"";fb(p,!N||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let M=rl(),z;if(i){let U=typeof i=="string"?en(i):i;ea(k==="/"||((L=U.pathname)==null?void 0:L.startsWith(k)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${k}" but pathname "${U.pathname}" was given in the \`location\` prop.`),z=U}else z=M;let w=z.pathname||"/",O=w;if(k!=="/"){let U=k.replace(/^\//,"").split("/");O="/"+w.replace(/^\//,"").split("/").slice(U.length).join("/")}let B=ab(r,{pathname:O});os(N||B!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),os(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=iy(B&&B.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:wl([k,h.encodeLocation?h.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?k:wl([k,h.encodeLocation?h.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),y,u,c,b);return i&&J?x.createElement(hd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},J):J}function sy(){let r=xy(),i=qg(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),u=r instanceof Error?r.stack:null,c="rgba(200,200,200, 0.5)",b={padding:"0.5rem",backgroundColor:c},h={padding:"2px 4px",backgroundColor:c},y=null;return console.error("Error handled by React Router default ErrorBoundary:",r),y=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:h},"ErrorBoundary")," or"," ",x.createElement("code",{style:h},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},i),u?x.createElement("pre",{style:b},u):null,y)}var ly=x.createElement(sy,null),hb=class extends x.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){this.props.onError?this.props.onError(r,i):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const u=Fg(r.digest);u&&(r=u)}let i=r!==void 0?x.createElement(Ys.Provider,{value:this.props.routeContext},x.createElement(Xu.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?x.createElement(ry,{error:r},i):i}};hb.contextType=Gg;var Su=new WeakMap;function ry({children:r,error:i}){let{basename:u}=x.useContext(cs);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let c=Zg(i.digest);if(c){let b=Su.get(i);if(b)throw b;let h=ib(c.location,u);if(nb&&!Su.get(i))if(h.isExternal||c.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const y=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:c.replace}));throw Su.set(i,y),y}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return r}function ny({routeContext:r,match:i,children:u}){let c=x.useContext(Kn);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),x.createElement(Ys.Provider,{value:r},u)}function iy(r,i=[],u=null,c=null,b=null){if(r==null){if(!u)return null;if(u.errors)r=u.matches;else if(i.length===0&&!u.initialized&&u.matches.length>0)r=u.matches;else return null}let h=r,y=u==null?void 0:u.errors;if(y!=null){let k=h.findIndex(N=>N.route.id&&(y==null?void 0:y[N.route.id])!==void 0);ea(k>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(y).join(",")}`),h=h.slice(0,Math.min(h.length,k+1))}let j=!1,f=-1;if(u)for(let k=0;k<h.length;k++){let N=h[k];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(f=k),N.route.id){let{loaderData:M,errors:z}=u,w=N.route.loader&&!M.hasOwnProperty(N.route.id)&&(!z||z[N.route.id]===void 0);if(N.route.lazy||w){j=!0,f>=0?h=h.slice(0,f+1):h=[h[0]];break}}}let p=u&&c?(k,N)=>{var M,z;c(k,{location:u.location,params:((z=(M=u.matches)==null?void 0:M[0])==null?void 0:z.params)??{},unstable_pattern:Yg(u.matches),errorInfo:N})}:void 0;return h.reduceRight((k,N,M)=>{let z,w=!1,O=null,B=null;u&&(z=y&&N.route.id?y[N.route.id]:void 0,O=N.route.errorElement||ly,j&&(f<0&&M===0?(fb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,B=null):f===M&&(w=!0,B=N.route.hydrateFallbackElement||null)));let J=i.concat(h.slice(0,M+1)),L=()=>{let U;return z?U=O:w?U=B:N.route.Component?U=x.createElement(N.route.Component,null):N.route.element?U=N.route.element:U=k,x.createElement(ny,{match:N,routeContext:{outlet:k,matches:J,isDataRoute:u!=null},children:U})};return u&&(N.route.ErrorBoundary||N.route.errorElement||M===0)?x.createElement(hb,{location:u.location,revalidation:u.revalidation,component:O,error:z,children:L(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:p}):L()},null)}function Pu(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dy(r){let i=x.useContext(Kn);return ea(i,Pu(r)),i}function oy(r){let i=x.useContext(tc);return ea(i,Pu(r)),i}function cy(r){let i=x.useContext(Ys);return ea(i,Pu(r)),i}function Ju(r){let i=cy(r),u=i.matches[i.matches.length-1];return ea(u.route.id,`${r} can only be used on routes that contain a unique "id"`),u.route.id}function uy(){return Ju("useRouteId")}function xy(){var c;let r=x.useContext(Xu),i=oy("useRouteError"),u=Ju("useRouteError");return r!==void 0?r:(c=i.errors)==null?void 0:c[u]}function my(){let{router:r}=dy("useNavigate"),i=Ju("useNavigate"),u=x.useRef(!1);return xb(()=>{u.current=!0}),x.useCallback(async(b,h={})=>{os(u.current,ub),u.current&&(typeof b=="number"?await r.navigate(b):await r.navigate(b,{fromRouteId:i,...h}))},[r,i])}var zf={};function fb(r,i,u){!i&&!zf[r]&&(zf[r]=!0,os(!1,u))}x.memo(hy);function hy({routes:r,future:i,state:u,onError:c}){return mb(r,void 0,u,c,i)}function bb({to:r,replace:i,state:u,relative:c}){ea(Wn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:b}=x.useContext(cs);os(!b,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=x.useContext(Ys),{pathname:y}=rl(),j=tn(),f=Qu(r,Gu(h),y,c==="path"),p=JSON.stringify(f);return x.useEffect(()=>{j(JSON.parse(p),{replace:i,state:u,relative:c})},[j,p,c,i,u]),null}function fy(r){return ty(r.context)}function Ia(r){ea(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function by({basename:r="/",children:i=null,location:u,navigationType:c="POP",navigator:b,static:h=!1,unstable_useTransitions:y}){ea(!Wn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let j=r.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:j,navigator:b,static:h,unstable_useTransitions:y,future:{}}),[j,b,h,y]);typeof u=="string"&&(u=en(u));let{pathname:p="/",search:k="",hash:N="",state:M=null,key:z="default"}=u,w=x.useMemo(()=>{let O=Cl(p,j);return O==null?null:{location:{pathname:O,search:k,hash:N,state:M,key:z},navigationType:c}},[j,p,k,N,M,z,c]);return os(w!=null,`<Router basename="${j}"> is not able to match the URL "${p}${k}${N}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:x.createElement(cs.Provider,{value:f},x.createElement(hd.Provider,{children:i,value:w}))}function py({children:r,location:i}){return ay($u(r),i)}function $u(r,i=[]){let u=[];return x.Children.forEach(r,(c,b)=>{if(!x.isValidElement(c))return;let h=[...i,b];if(c.type===x.Fragment){u.push.apply(u,$u(c.props.children,h));return}ea(c.type===Ia,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ea(!c.props.index||!c.props.children,"An index route cannot have child routes.");let y={id:c.props.id||h.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(y.children=$u(c.props.children,h)),u.push(y)}),u}var Xo="get",Po="application/x-www-form-urlencoded";function ac(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function gy(r){return ac(r)&&r.tagName.toLowerCase()==="button"}function yy(r){return ac(r)&&r.tagName.toLowerCase()==="form"}function vy(r){return ac(r)&&r.tagName.toLowerCase()==="input"}function jy(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ky(r,i){return r.button===0&&(!i||i==="_self")&&!jy(r)}var Io=null;function Ny(){if(Io===null)try{new FormData(document.createElement("form"),0),Io=!1}catch{Io=!0}return Io}var wy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cu(r){return r!=null&&!wy.has(r)?(os(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Po}"`),null):r}function Sy(r,i){let u,c,b,h,y;if(yy(r)){let j=r.getAttribute("action");c=j?Cl(j,i):null,u=r.getAttribute("method")||Xo,b=Cu(r.getAttribute("enctype"))||Po,h=new FormData(r)}else if(gy(r)||vy(r)&&(r.type==="submit"||r.type==="image")){let j=r.form;if(j==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||j.getAttribute("action");if(c=f?Cl(f,i):null,u=r.getAttribute("formmethod")||j.getAttribute("method")||Xo,b=Cu(r.getAttribute("formenctype"))||Cu(j.getAttribute("enctype"))||Po,h=new FormData(j,r),!Ny()){let{name:p,type:k,value:N}=r;if(k==="image"){let M=p?`${p}.`:"";h.append(`${M}x`,"0"),h.append(`${M}y`,"0")}else p&&h.append(p,N)}}else{if(ac(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');u=Xo,c=null,b=Po,y=r}return h&&b==="text/plain"&&(y=h,h=void 0),{action:c,method:u.toLowerCase(),encType:b,formData:h,body:y}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zu(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function Cy(r,i,u){let c=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return c.pathname==="/"?c.pathname=`_root.${u}`:i&&Cl(c.pathname,i)==="/"?c.pathname=`${i.replace(/\/$/,"")}/_root.${u}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${u}`,c}async function Ey(r,i){if(r.id in i)return i[r.id];try{let u=await import(r.module);return i[r.id]=u,u}catch(u){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(u),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zy(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ay(r,i,u){let c=await Promise.all(r.map(async b=>{let h=i.routes[b.route.id];if(h){let y=await Ey(h,u);return y.links?y.links():[]}return[]}));return Dy(c.flat(1).filter(zy).filter(b=>b.rel==="stylesheet"||b.rel==="preload").map(b=>b.rel==="stylesheet"?{...b,rel:"prefetch",as:"style"}:{...b,rel:"prefetch"}))}function Af(r,i,u,c,b,h){let y=(f,p)=>u[p]?f.route.id!==u[p].route.id:!0,j=(f,p)=>{var k;return u[p].pathname!==f.pathname||((k=u[p].route.path)==null?void 0:k.endsWith("*"))&&u[p].params["*"]!==f.params["*"]};return h==="assets"?i.filter((f,p)=>y(f,p)||j(f,p)):h==="data"?i.filter((f,p)=>{var N;let k=c.routes[f.route.id];if(!k||!k.hasLoader)return!1;if(y(f,p)||j(f,p))return!0;if(f.route.shouldRevalidate){let M=f.route.shouldRevalidate({currentUrl:new URL(b.pathname+b.search+b.hash,window.origin),currentParams:((N=u[0])==null?void 0:N.params)||{},nextUrl:new URL(r,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof M=="boolean")return M}return!0}):[]}function My(r,i,{includeHydrateFallback:u}={}){return Ty(r.map(c=>{let b=i.routes[c.route.id];if(!b)return[];let h=[b.module];return b.clientActionModule&&(h=h.concat(b.clientActionModule)),b.clientLoaderModule&&(h=h.concat(b.clientLoaderModule)),u&&b.hydrateFallbackModule&&(h=h.concat(b.hydrateFallbackModule)),b.imports&&(h=h.concat(b.imports)),h}).flat(1))}function Ty(r){return[...new Set(r)]}function _y(r){let i={},u=Object.keys(r).sort();for(let c of u)i[c]=r[c];return i}function Dy(r,i){let u=new Set;return new Set(i),r.reduce((c,b)=>{let h=JSON.stringify(_y(b));return u.has(h)||(u.add(h),c.push({key:h,link:b})),c},[])}function pb(){let r=x.useContext(Kn);return Zu(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ry(){let r=x.useContext(tc);return Zu(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Fu=x.createContext(void 0);Fu.displayName="FrameworkContext";function gb(){let r=x.useContext(Fu);return Zu(r,"You must render this element inside a <HydratedRouter> element"),r}function Ly(r,i){let u=x.useContext(Fu),[c,b]=x.useState(!1),[h,y]=x.useState(!1),{onFocus:j,onBlur:f,onMouseEnter:p,onMouseLeave:k,onTouchStart:N}=i,M=x.useRef(null);x.useEffect(()=>{if(r==="render"&&y(!0),r==="viewport"){let O=J=>{J.forEach(L=>{y(L.isIntersecting)})},B=new IntersectionObserver(O,{threshold:.5});return M.current&&B.observe(M.current),()=>{B.disconnect()}}},[r]),x.useEffect(()=>{if(c){let O=setTimeout(()=>{y(!0)},100);return()=>{clearTimeout(O)}}},[c]);let z=()=>{b(!0)},w=()=>{b(!1),y(!1)};return u?r!=="intent"?[h,M,{}]:[h,M,{onFocus:Fi(j,z),onBlur:Fi(f,w),onMouseEnter:Fi(p,z),onMouseLeave:Fi(k,w),onTouchStart:Fi(N,z)}]:[!1,M,{}]}function Fi(r,i){return u=>{r&&r(u),u.defaultPrevented||i(u)}}function $y({page:r,...i}){let{router:u}=pb(),c=x.useMemo(()=>ab(u.routes,r,u.basename),[u.routes,r,u.basename]);return c?x.createElement(Uy,{page:r,matches:c,...i}):null}function Oy(r){let{manifest:i,routeModules:u}=gb(),[c,b]=x.useState([]);return x.useEffect(()=>{let h=!1;return Ay(r,i,u).then(y=>{h||b(y)}),()=>{h=!0}},[r,i,u]),c}function Uy({page:r,matches:i,...u}){let c=rl(),{manifest:b,routeModules:h}=gb(),{basename:y}=pb(),{loaderData:j,matches:f}=Ry(),p=x.useMemo(()=>Af(r,i,f,b,c,"data"),[r,i,f,b,c]),k=x.useMemo(()=>Af(r,i,f,b,c,"assets"),[r,i,f,b,c]),N=x.useMemo(()=>{if(r===c.pathname+c.search+c.hash)return[];let w=new Set,O=!1;if(i.forEach(J=>{var U;let L=b.routes[J.route.id];!L||!L.hasLoader||(!p.some(D=>D.route.id===J.route.id)&&J.route.id in j&&((U=h[J.route.id])!=null&&U.shouldRevalidate)||L.hasClientLoader?O=!0:w.add(J.route.id))}),w.size===0)return[];let B=Cy(r,y,"data");return O&&w.size>0&&B.searchParams.set("_routes",i.filter(J=>w.has(J.route.id)).map(J=>J.route.id).join(",")),[B.pathname+B.search]},[y,j,c,b,p,i,r,h]),M=x.useMemo(()=>My(k,b),[k,b]),z=Oy(k);return x.createElement(x.Fragment,null,N.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...u})),M.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...u})),z.map(({key:w,link:O})=>x.createElement("link",{key:w,nonce:u.nonce,...O})))}function Hy(...r){return i=>{r.forEach(u=>{typeof u=="function"?u(i):u!=null&&(u.current=i)})}}var Iy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Iy&&(window.__reactRouterVersion="7.11.0")}catch{}function By({basename:r,children:i,unstable_useTransitions:u,window:c}){let b=x.useRef();b.current==null&&(b.current=gg({window:c,v5Compat:!0}));let h=b.current,[y,j]=x.useState({action:h.action,location:h.location}),f=x.useCallback(p=>{u===!1?j(p):x.startTransition(()=>j(p))},[u]);return x.useLayoutEffect(()=>h.listen(f),[h,f]),x.createElement(by,{basename:r,children:i,location:y.location,navigationType:y.action,navigator:h,unstable_useTransitions:u})}var yb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sc=x.forwardRef(function({onClick:i,discover:u="render",prefetch:c="none",relative:b,reloadDocument:h,replace:y,state:j,target:f,to:p,preventScrollReset:k,viewTransition:N,unstable_defaultShouldRevalidate:M,...z},w){let{basename:O,unstable_useTransitions:B}=x.useContext(cs),J=typeof p=="string"&&yb.test(p),L=ib(p,O);p=L.to;let U=Kg(p,{relative:b}),[D,q,Z]=Ly(c,z),P=Vy(p,{replace:y,state:j,target:f,preventScrollReset:k,relative:b,viewTransition:N,unstable_defaultShouldRevalidate:M,unstable_useTransitions:B});function ee(ae){i&&i(ae),ae.defaultPrevented||P(ae)}let I=x.createElement("a",{...z,...Z,href:L.absoluteURL||U,onClick:L.isExternal||h?i:ee,ref:Hy(w,q),target:f,"data-discover":!J&&u==="render"?"true":void 0});return D&&!J?x.createElement(x.Fragment,null,I,x.createElement($y,{page:U})):I});sc.displayName="Link";var Ou=x.forwardRef(function({"aria-current":i="page",caseSensitive:u=!1,className:c="",end:b=!1,style:h,to:y,viewTransition:j,children:f,...p},k){let N=fd(y,{relative:p.relative}),M=rl(),z=x.useContext(tc),{navigator:w,basename:O}=x.useContext(cs),B=z!=null&&Jy(N)&&j===!0,J=w.encodeLocation?w.encodeLocation(N).pathname:N.pathname,L=M.pathname,U=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;u||(L=L.toLowerCase(),U=U?U.toLowerCase():null,J=J.toLowerCase()),U&&O&&(U=Cl(U,O)||U);const D=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let q=L===J||!b&&L.startsWith(J)&&L.charAt(D)==="/",Z=U!=null&&(U===J||!b&&U.startsWith(J)&&U.charAt(J.length)==="/"),P={isActive:q,isPending:Z,isTransitioning:B},ee=q?i:void 0,I;typeof c=="function"?I=c(P):I=[c,q?"active":null,Z?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let ae=typeof h=="function"?h(P):h;return x.createElement(sc,{...p,"aria-current":ee,className:I,ref:k,style:ae,to:y,viewTransition:j},typeof f=="function"?f(P):f)});Ou.displayName="NavLink";var qy=x.forwardRef(({discover:r="render",fetcherKey:i,navigate:u,reloadDocument:c,replace:b,state:h,method:y=Xo,action:j,onSubmit:f,relative:p,preventScrollReset:k,viewTransition:N,unstable_defaultShouldRevalidate:M,...z},w)=>{let{unstable_useTransitions:O}=x.useContext(cs),B=Xy(),J=Py(j,{relative:p}),L=y.toLowerCase()==="get"?"get":"post",U=typeof j=="string"&&yb.test(j),D=q=>{if(f&&f(q),q.defaultPrevented)return;q.preventDefault();let Z=q.nativeEvent.submitter,P=(Z==null?void 0:Z.getAttribute("formmethod"))||y,ee=()=>B(Z||q.currentTarget,{fetcherKey:i,method:P,navigate:u,replace:b,state:h,relative:p,preventScrollReset:k,viewTransition:N,unstable_defaultShouldRevalidate:M});O&&u!==!1?x.startTransition(()=>ee()):ee()};return x.createElement("form",{ref:w,method:L,action:J,onSubmit:c?f:D,...z,"data-discover":!U&&r==="render"?"true":void 0})});qy.displayName="Form";function Yy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vb(r){let i=x.useContext(Kn);return ea(i,Yy(r)),i}function Vy(r,{target:i,replace:u,state:c,preventScrollReset:b,relative:h,viewTransition:y,unstable_defaultShouldRevalidate:j,unstable_useTransitions:f}={}){let p=tn(),k=rl(),N=fd(r,{relative:h});return x.useCallback(M=>{if(ky(M,i)){M.preventDefault();let z=u!==void 0?u:cd(k)===cd(N),w=()=>p(r,{replace:z,state:c,preventScrollReset:b,relative:h,viewTransition:y,unstable_defaultShouldRevalidate:j});f?x.startTransition(()=>w()):w()}},[k,p,N,u,c,i,r,b,h,y,j,f])}var Gy=0,Qy=()=>`__${String(++Gy)}__`;function Xy(){let{router:r}=vb("useSubmit"),{basename:i}=x.useContext(cs),u=uy(),c=r.fetch,b=r.navigate;return x.useCallback(async(h,y={})=>{let{action:j,method:f,encType:p,formData:k,body:N}=Sy(h,i);if(y.navigate===!1){let M=y.fetcherKey||Qy();await c(M,u,y.action||j,{unstable_defaultShouldRevalidate:y.unstable_defaultShouldRevalidate,preventScrollReset:y.preventScrollReset,formData:k,body:N,formMethod:y.method||f,formEncType:y.encType||p,flushSync:y.flushSync})}else await b(y.action||j,{unstable_defaultShouldRevalidate:y.unstable_defaultShouldRevalidate,preventScrollReset:y.preventScrollReset,formData:k,body:N,formMethod:y.method||f,formEncType:y.encType||p,replace:y.replace,state:y.state,fromRouteId:u,flushSync:y.flushSync,viewTransition:y.viewTransition})},[c,b,i,u])}function Py(r,{relative:i}={}){let{basename:u}=x.useContext(cs),c=x.useContext(Ys);ea(c,"useFormAction must be used inside a RouteContext");let[b]=c.matches.slice(-1),h={...fd(r||".",{relative:i})},y=rl();if(r==null){h.search=y.search;let j=new URLSearchParams(h.search),f=j.getAll("index");if(f.some(k=>k==="")){j.delete("index"),f.filter(N=>N).forEach(N=>j.append("index",N));let k=j.toString();h.search=k?`?${k}`:""}}return(!r||r===".")&&b.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),u!=="/"&&(h.pathname=h.pathname==="/"?u:wl([u,h.pathname])),cd(h)}function Jy(r,{relative:i}={}){let u=x.useContext(ob);ea(u!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=vb("useViewTransitionState"),b=fd(r,{relative:i});if(!u.isTransitioning)return!1;let h=Cl(u.currentLocation.pathname,c)||u.currentLocation.pathname,y=Cl(u.nextLocation.pathname,c)||u.nextLocation.pathname;return Zo(b.pathname,y)!=null||Zo(b.pathname,h)!=null}/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fy=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,u,c)=>c?c.toUpperCase():u.toLowerCase()),Mf=r=>{const i=Fy(r);return i.charAt(0).toUpperCase()+i.slice(1)},jb=(...r)=>r.filter((i,u,c)=>!!i&&i.trim()!==""&&c.indexOf(i)===u).join(" ").trim(),Ky=r=>{for(const i in r)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:u=2,absoluteStrokeWidth:c,className:b="",children:h,iconNode:y,...j},f)=>x.createElement("svg",{ref:f,...Wy,width:i,height:i,stroke:r,strokeWidth:c?Number(u)*24/Number(i):u,className:jb("lucide",b),...!h&&!Ky(j)&&{"aria-hidden":"true"},...j},[...y.map(([p,k])=>x.createElement(p,k)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(r,i)=>{const u=x.forwardRef(({className:c,...b},h)=>x.createElement(e1,{ref:h,iconNode:i,className:jb(`lucide-${Zy(Mf(r))}`,`lucide-${r}`,c),...b}));return u.displayName=Mf(r),u};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],a1=oe("activity",t1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Tf=oe("archive",s1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],r1=oe("arrow-down-left",l1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],_f=oe("arrow-down-right",n1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],rd=oe("arrow-right",i1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],o1=oe("arrow-up-right",d1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Df=oe("award",c1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Uu=oe("banknote",u1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],cr=oe("bell",x1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],or=oe("building-2",m1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Bs=oe("building",h1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ka=oe("calendar",f1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kb=oe("chart-column",b1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Hu=oe("chart-pie",p1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Fo=oe("check-check",g1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],aa=oe("check",y1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Nb=oe("chevron-down",v1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],k1=oe("chevron-left",j1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],w1=oe("chevron-right",N1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ur=oe("circle-alert",S1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ud=oe("circle-check-big",C1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],z1=oe("circle-user",E1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Fn=oe("circle-x",A1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Rf=oe("circle",M1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ba=oe("clock",T1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],D1=oe("command",_1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Jr=oe("credit-card",R1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Es=oe("crown",L1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],nd=oe("database",$1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ko=oe("dollar-sign",O1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],id=oe("download",U1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dd=oe("eye-off",H1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_a=oe("eye",I1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],Lf=oe("file-chart-column-increasing",B1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Y1=oe("file-spreadsheet",q1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fa=oe("file-text",V1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],$f=oe("funnel",G1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],od=oe("globe",Q1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Zr=oe("grid-3x3",X1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],J1=oe("grip-vertical",P1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],F1=oe("headphones",Z1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Of=oe("image",K1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],ev=oe("inbox",W1);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Wo=oe("info",tv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Yn=oe("key",av);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],wb=oe("keyboard",sv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],rv=oe("layout-dashboard",lv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Bo=oe("layout-grid",nv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],dv=oe("link",iv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Sl=oe("list",ov);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xt=oe("loader-circle",cv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],xv=oe("lock-open",uv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Nl=oe("lock",mv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],fv=oe("log-in",hv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Uf=oe("log-out",bv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],al=oe("mail",pv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yv=oe("map-pin",gv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jv=oe("menu",vv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Nv=oe("message-square",kv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Sv=oe("monitor",wv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Iu=oe("moon",Cv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],zv=oe("navigation",Ev);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ya=oe("package",Av);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Tv=oe("pen-line",Mv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Wt=oe("pen",_v);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Jn=oe("phone",Dv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Lv=oe("play",Rv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$a=oe("plus",$v);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ll=oe("printer",Ov);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],lc=oe("receipt",Uv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Oa=oe("refresh-cw",Hv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Sb=oe("rocket",Iv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Bu=oe("rotate-ccw",Bv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xr=oe("save",qv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],Qr=oe("scale",Yv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ua=oe("search",Vv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Hf=oe("send",Gv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Jo=oe("server",Qv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Ku=oe("settings-2",Xv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mr=oe("settings",Pv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wu=oe("shield-check",Jv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tl=oe("shield",Zv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Pr=oe("shopping-cart",Fv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Zn=oe("sparkles",Kv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rc=oe("star",Wv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],tj=oe("sticky-note",ej);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Cb=oe("store",aj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],qu=oe("sun",sj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],rj=oe("tag",lj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ij=oe("target",nj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Eu=oe("toggle-left",dj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],zu=oe("toggle-right",oj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qt=oe("trash-2",cj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],qo=oe("trending-down",uj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],sl=oe("trending-up",xj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ga=oe("triangle-alert",mj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Qn=oe("upload",hj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Au=oe("user-check",fj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pj=oe("user-cog",bj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],yj=oe("user-plus",gj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],If=oe("user-x",vj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ca=oe("user",jj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Za=oe("users",kj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],xd=oe("wallet",Nj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Sj=oe("wifi-off",wj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Ej=oe("wifi",Cj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Bf=oe("wrench",zj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gt=oe("x",Aj);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],nc=oe("zap",Mj);var dr=(r=>(r.CASH="",r.CREDIT="/",r))(dr||{}),qe=(r=>(r.INCOME="",r.EXPENSE="",r.PURCHASE="",r.OTHER_INCOME=" ",r))(qe||{});const qa={PRODUCTS:"app_products",CUSTOMERS:"app_customers",INVOICES:"app_invoices",PAYMENTS:"app_payments",EXPENSES:"app_expenses",USERS:"app_users",CURRENT_USER:"app_current_user",UNITS:"app_units",SETTINGS:"app_settings",SYSTEM_CONFIG:"app_system_config_global",BROADCASTS:"app_broadcast_messages",READ_NOTIFICATIONS:"app_read_notifications"},bd=r=>{if(r===qa.USERS||r===qa.SYSTEM_CONFIG||r===qa.BROADCASTS||r===qa.CURRENT_USER)return r;try{const i=localStorage.getItem(qa.CURRENT_USER);if(i){const u=JSON.parse(i),c=u.parentId?u.parentId:u.id;return r===qa.READ_NOTIFICATIONS?`${u.id}_${r}`:`${c}_${r}`}}catch{}return r},Eb=()=>{try{const r=Rj();if(!r)return[];const i=localStorage.getItem(qa.BROADCASTS),u=i?JSON.parse(i):[],c=localStorage.getItem(bd(qa.READ_NOTIFICATIONS)),b=c?JSON.parse(c):[];return u.filter(h=>!h.targetUserId||h.targetUserId===r.id).map(h=>({...h,isRead:b.includes(h.id)}))}catch{return[]}},Tj=r=>{try{const i=bd(qa.READ_NOTIFICATIONS),u=localStorage.getItem(i),c=u?JSON.parse(u):[];c.includes(r)||(c.push(r),localStorage.setItem(i,JSON.stringify(c)))}catch(i){console.error(i)}},_j=()=>{try{const i=Eb().map(c=>c.id),u=bd(qa.READ_NOTIFICATIONS);localStorage.setItem(u,JSON.stringify(i))}catch(r){console.error(r)}},Mu={showDemoLogin:!0,showAdminLogin:!0,allowUserRegistration:!0,showForgotPassword:!0,showRememberMe:!0,maxLoginAttempts:5,sessionTimeout:30,requireEmailVerification:!1,defaultLanguage:"ar",defaultCurrency:"SAR",companyName:" ",companyLogo:"",invoicePrefix:"INV-",defaultTaxRate:15,showTaxOnInvoice:!0,enableEmailNotifications:!0,enableSMSNotifications:!1,showMockDataGenerator:!0,showDashboard:!0,showInventoryModule:!0,showCustomersModule:!0,showInvoicesModule:!0,showExpensesModule:!0,showReportsModule:!0,showSettingsModule:!0,showDataSync:!0,allowUserBackup:!0,allowClearData:!1,allowAutoRefresh:!0,autoRefreshInterval:30,syncDuration:1500,showSyncPopup:!0,fileNameFormat:"{app}-{company}-{type}-{customer}-{date}",allowOfflineMode:!0,offlineDataRetentionDays:30,autoSyncOnReconnect:!0,showOfflineIndicator:!0,allowOfflineCreate:!0,allowOfflineEdit:!0,allowOfflineDelete:!1,maxPendingChanges:100,syncIntervalSeconds:30},md=()=>{try{const r=localStorage.getItem(qa.SYSTEM_CONFIG);return r?{...Mu,...JSON.parse(r)}:Mu}catch{return Mu}},qf=r=>{localStorage.setItem(qa.SYSTEM_CONFIG,JSON.stringify(r))},zb=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Yf={currency:".",availableCurrencies:[".","$","",".","."],darkMode:!1,autoSync:!0,defaultViewMode:"grid",nationalities:zb,dateFormat:"DD-MM-YYYY",timeFormat:"24h",dateDisplayStyle:"numeric"},Ab=()=>{try{const r=bd(qa.SETTINGS),i=localStorage.getItem(r),u=i?JSON.parse(i):{};return{...Yf,...u,nationalities:u.nationalities||zb}}catch{return Yf}},Dj=r=>{const i=bd(qa.SETTINGS);localStorage.setItem(i,JSON.stringify(r))},Rj=()=>{const r=localStorage.getItem(qa.CURRENT_USER);return r?JSON.parse(r):null},Mb=x.createContext(void 0),us=()=>{const r=x.useContext(Mb);if(!r)throw new Error("useNotification must be used within a NotificationProvider");return r},Lj=({children:r})=>{const[i,u]=x.useState([]),[c,b]=x.useState([]),[h,y]=x.useState(0),j=x.useCallback((w,O="info")=>{const B=Math.random().toString(36).substr(2,9);console.log(" Notification:",O,w),u(L=>[...L,{id:B,message:w,type:O}]),setTimeout(()=>{u(L=>L.filter(U=>U.id!==B))},O==="error"?8e3:O==="warning"?6e3:4e3)},[]),f=w=>{u(O=>O.filter(B=>B.id!==w))},p=x.useCallback(()=>{const w=Eb();w.sort((O,B)=>new Date(B.date).getTime()-new Date(O.date).getTime()),b(w),y(w.filter(O=>!O.isRead).length)},[]);x.useEffect(()=>{p();const w=setInterval(p,3e4);return()=>clearInterval(w)},[p]);const k=w=>{Tj(w),p()},N=()=>{_j(),p()},M=w=>{switch(w){case"success":return e.jsx(ud,{size:18});case"error":return e.jsx(ur,{size:18});case"warning":return e.jsx(ur,{size:18});default:return e.jsx(Wo,{size:18})}},z=w=>{switch(w){case"success":return{bg:"bg-white",border:"border-r-4 border-r-green-600 border border-slate-200",icon:"text-green-600",text:"text-slate-800"};case"error":return{bg:"bg-white",border:"border-r-4 border-r-red-600 border border-slate-200",icon:"text-red-600",text:"text-slate-800"};case"warning":return{bg:"bg-white",border:"border-r-4 border-r-amber-500 border border-slate-200",icon:"text-amber-500",text:"text-slate-800"};default:return{bg:"bg-white",border:"border-r-4 border-r-blue-600 border border-slate-200",icon:"text-blue-600",text:"text-slate-800"}}};return e.jsxs(Mb.Provider,{value:{notify:j,systemNotifications:c,unreadCount:h,refreshNotifications:p,markAsRead:k,markAllRead:N},children:[r,e.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[9999] flex flex-col gap-3 w-full max-w-md px-4 pointer-events-none",children:i.map(w=>{const O=z(w.type);return e.jsxs("div",{className:`${O.bg} ${O.border} px-4 py-3 rounded-lg shadow-lg flex items-start justify-between pointer-events-auto transition-all duration-300 animate-in slide-in-from-top-2`,children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:`${O.icon} mt-0.5`,children:M(w.type)}),e.jsx("span",{className:`${O.text} text-sm font-medium whitespace-pre-wrap`,children:w.message})]}),e.jsx("button",{onClick:()=>f(w.id),className:"text-slate-400 hover:text-slate-600 p-1 mr-1 flex-shrink-0",children:e.jsx(gt,{size:16})})]},w.id)})})]})},Tb="smartAccountant_config",$j={apiUrl:"http://localhost:5000/api",lastUpdated:new Date().toISOString()};function _b(){try{const r=localStorage.getItem(Tb);if(r)return JSON.parse(r)}catch(r){console.error("Error reading config:",r)}return $j}function Oj(r){const u={..._b(),...r,lastUpdated:new Date().toISOString()};return localStorage.setItem(Tb,JSON.stringify(u)),window.dispatchEvent(new CustomEvent("configChanged",{detail:u})),u}function ic(){return _b().apiUrl}function Uj(r){Oj({apiUrl:r})}async function Tu(r){const i=r||ic(),u=Date.now();try{const c=await fetch(`${i}/products?accountId=1`,{method:"GET",headers:{"Content-Type":"application/json"}}),b=Date.now()-u;return c.ok?{success:!0,message:" ",latency:b}:{success:!1,message:`: ${c.status} ${c.statusText}`}}catch(c){return{success:!1,message:c.message||"   "}}}const ze=()=>ic();class Hj extends Error{constructor(i,u){super(u),this.status=i,this.name="ApiError"}}async function De(r){if(!r.ok){const u=await r.text();console.log(" API Error Response:",r.status,u);let c=u||`HTTP error ${r.status}`;try{const b=JSON.parse(u);if(b.message)c=b.message;else if(b.error)c=b.error;else if(b.title){if(c=b.title,b.errors){const h=Object.values(b.errors).flat().join(", ");h&&(c+=": "+h)}}else typeof b=="string"&&(c=b)}catch{u&&u.trim()&&(c=u.trim())}throw r.status===400&&!c.includes(" ")?c=c||"   -    ":r.status===404?c=c||"  ":r.status===500&&(c="   -    "),new Hj(r.status,c)}const i=r.headers.get("content-type");return i&&i.includes("application/json")?r.json():{}}function Ij(r){try{const u=JSON.parse(atob(r.split(".")[1])).exp*1e3;return Date.now()>=u}catch{return!0}}function Bj(){console.log(" Token expired - logging out"),sessionStorage.removeItem("smart_accountant_session"),sessionStorage.removeItem("smart_accountant_user"),localStorage.removeItem("smart_accountant_session"),localStorage.removeItem("smart_accountant_user"),typeof window<"u"&&!window.location.pathname.includes("/login")&&(window.location.href="/login?expired=true")}function Te(){const r={"Content-Type":"application/json"},i=sessionStorage.getItem("smart_accountant_session")||localStorage.getItem("smart_accountant_session"),u=sessionStorage.getItem("smart_accountant_user")||localStorage.getItem("smart_accountant_user");if(i){if(Ij(i))return Bj(),r;r.Authorization=`Bearer ${i}`}if(u)try{const c=JSON.parse(u);c!=null&&c.accountId&&(r["X-Account-Id"]=c.accountId.toString()),c!=null&&c.id&&(r["X-User-Id"]=c.id.toString())}catch{}return r}const Ki={getAll:async r=>{const i=new URLSearchParams;r!=null&&r.categoryId&&i.append("categoryId",r.categoryId.toString()),r!=null&&r.search&&i.append("search",r.search);const u=`${ze()}/products${i.toString()?"?"+i:""}`,c=await fetch(u,{headers:Te()});return De(c)},getById:async r=>{const i=await fetch(`${ze()}/products/${r}`,{headers:Te()});return De(i)},getByBarcode:async r=>{const i=await fetch(`${ze()}/products/barcode/${r}`,{headers:Te()});return De(i)},create:async r=>{const i=await fetch(`${ze()}/products`,{method:"POST",headers:Te(),body:JSON.stringify(r)});return De(i)},update:async(r,i)=>{const u=await fetch(`${ze()}/products/${r}`,{method:"PUT",headers:Te(),body:JSON.stringify(i)});return De(u)},delete:async r=>{const i=await fetch(`${ze()}/products/${r}`,{method:"DELETE",headers:Te()});return De(i)},getLowStock:async()=>{const r=await fetch(`${ze()}/products/low-stock`,{headers:Te()});return De(r)},getCategories:async()=>{const r=await fetch(`${ze()}/products/categories`,{headers:Te()});return De(r)}},Wi={getAll:async r=>{const i=r?`${ze()}/customers?search=${encodeURIComponent(r)}`:`${ze()}/customers`,u=await fetch(i,{headers:Te()});return De(u)},getById:async r=>{const i=await fetch(`${ze()}/customers/${r}`,{headers:Te()});return De(i)},create:async r=>{const i=await fetch(`${ze()}/customers`,{method:"POST",headers:Te(),body:JSON.stringify(r)});return De(i)},update:async(r,i)=>{const u=await fetch(`${ze()}/customers/${r}`,{method:"PUT",headers:Te(),body:JSON.stringify(i)});return De(u)},delete:async r=>{const i=await fetch(`${ze()}/customers/${r}`,{method:"DELETE",headers:Te()});return De(i)},getBalance:async r=>{const i=await fetch(`${ze()}/customers/${r}/balance`,{headers:Te()});return De(i)}},Hs={getAll:async r=>{const i=new URLSearchParams;r!=null&&r.type&&i.append("type",r.type),r!=null&&r.status&&i.append("status",r.status),r!=null&&r.fromDate&&i.append("fromDate",r.fromDate),r!=null&&r.toDate&&i.append("toDate",r.toDate),r!=null&&r.customerId&&i.append("customerId",r.customerId.toString());const u=`${ze()}/invoices${i.toString()?"?"+i:""}`,c=await fetch(u,{headers:Te()});return De(c)},getById:async r=>{const i=await fetch(`${ze()}/invoices/${r}`,{headers:Te()});return De(i)},create:async r=>{const i=await fetch(`${ze()}/invoices`,{method:"POST",headers:Te(),body:JSON.stringify(r)});return De(i)},update:async(r,i)=>{const u=await fetch(`${ze()}/invoices/${r}`,{method:"PUT",headers:Te(),body:JSON.stringify(i)});return De(u)},confirm:async r=>{const i=await fetch(`${ze()}/invoices/${r}/confirm`,{method:"POST",headers:Te()});return De(i)},unconfirm:async r=>{const i=await fetch(`${ze()}/invoices/${r}/unconfirm`,{method:"POST",headers:Te()});return De(i)},cancel:async r=>{const i=await fetch(`${ze()}/invoices/${r}/cancel`,{method:"POST",headers:Te()});return De(i)},delete:async r=>{const i=await fetch(`${ze()}/invoices/${r}`,{method:"DELETE",headers:Te()});return De(i)},addPayment:async(r,i)=>{const u=await fetch(`${ze()}/invoices/${r}/payments`,{method:"POST",headers:Te(),body:JSON.stringify(i)});return De(u)},deletePayment:async(r,i)=>{const u=await fetch(`${ze()}/invoices/${r}/payments/${i}`,{method:"DELETE",headers:Te()});return De(u)},getSummary:async(r,i)=>{const u=`${ze()}/invoices/summary?fromDate=${r}&toDate=${i}`,c=await fetch(u,{headers:Te()});return De(c)}},qj={getAll:async(r=1)=>{const i=await fetch(`${ze()}/transactiontypes?accountId=${r}`,{headers:Te()});return De(i)},getById:async r=>{const i=await fetch(`${ze()}/transactiontypes/${r}`,{headers:Te()});return De(i)},create:async r=>{const i=await fetch(`${ze()}/transactiontypes`,{method:"POST",headers:Te(),body:JSON.stringify(r)});return De(i)},update:async(r,i)=>{const u=await fetch(`${ze()}/transactiontypes/${r}`,{method:"PUT",headers:Te(),body:JSON.stringify(i)});return De(u)},delete:async r=>{const i=await fetch(`${ze()}/transactiontypes/${r}`,{method:"DELETE",headers:Te()});return De(i)},seed:async(r,i)=>{const u=`${ze()}/transactiontypes/seed/${r}${i?"?userId="+i:""}`,c=await fetch(u,{method:"POST",headers:Te()});return De(c)}},_u={getAll:async r=>{const i=new URLSearchParams;r!=null&&r.categoryId&&i.append("categoryId",r.categoryId.toString()),r!=null&&r.transactionTypeId&&i.append("transactionTypeId",r.transactionTypeId.toString()),r!=null&&r.transactionTypeCode&&i.append("transactionTypeCode",r.transactionTypeCode),r!=null&&r.fromDate&&i.append("fromDate",r.fromDate),r!=null&&r.toDate&&i.append("toDate",r.toDate),r!=null&&r.status&&i.append("status",r.status);const u=`${ze()}/expenses${i.toString()?"?"+i:""}`,c=await fetch(u,{headers:Te()});return De(c)},getById:async r=>{const i=await fetch(`${ze()}/expenses/${r}`,{headers:Te()});return De(i)},create:async r=>{const i=await fetch(`${ze()}/expenses`,{method:"POST",headers:Te(),body:JSON.stringify(r)});return De(i)},update:async(r,i)=>{const u=await fetch(`${ze()}/expenses/${r}`,{method:"PUT",headers:Te(),body:JSON.stringify(i)});return De(u)},approve:async r=>{const i=await fetch(`${ze()}/expenses/${r}/approve`,{method:"POST",headers:Te()});return De(i)},delete:async r=>{const i=await fetch(`${ze()}/expenses/${r}`,{method:"DELETE",headers:Te()});return De(i)},getCategories:async()=>{const r=await fetch(`${ze()}/expenses/categories`,{headers:Te()});return De(r)},getSummary:async(r,i)=>{const u=`${ze()}/expenses/summary?fromDate=${r}&toDate=${i}`,c=await fetch(u,{headers:Te()});return De(c)}},Du={getAll:async r=>{const i=new URLSearchParams;r!=null&&r.categoryId&&i.append("categoryId",r.categoryId.toString()),r!=null&&r.fromDate&&i.append("fromDate",r.fromDate),r!=null&&r.toDate&&i.append("toDate",r.toDate);const u=`${ze()}/revenues${i.toString()?"?"+i:""}`,c=await fetch(u,{headers:Te()});return De(c)},getById:async r=>{const i=await fetch(`${ze()}/revenues/${r}`,{headers:Te()});return De(i)},create:async r=>{const i=await fetch(`${ze()}/revenues`,{method:"POST",headers:Te(),body:JSON.stringify(r)});return De(i)},update:async(r,i)=>{const u=await fetch(`${ze()}/revenues/${r}`,{method:"PUT",headers:Te(),body:JSON.stringify(i)});return De(u)},delete:async r=>{const i=await fetch(`${ze()}/revenues/${r}`,{method:"DELETE",headers:Te()});return De(i)},getCategories:async()=>{const r=await fetch(`${ze()}/revenues/categories`,{headers:Te()});return De(r)},getSummary:async(r,i)=>{const u=`${ze()}/revenues/summary?fromDate=${r}&toDate=${i}`,c=await fetch(u,{headers:Te()});return De(c)}},Yo={getAll:async()=>{const r=await fetch(`${ze()}/units`,{headers:Te()});return De(r)},getById:async r=>{const i=await fetch(`${ze()}/units/${r}`,{headers:Te()});return De(i)},create:async r=>{const i=await fetch(`${ze()}/units`,{method:"POST",headers:Te(),body:JSON.stringify(r)});return De(i)},update:async(r,i)=>{const u=await fetch(`${ze()}/units/${r}`,{method:"PUT",headers:Te(),body:JSON.stringify(i)});return De(u)},delete:async r=>{const i=await fetch(`${ze()}/units/${r}`,{method:"DELETE",headers:Te()});return De(i)}},Yj=async()=>{try{return(await fetch(`${ze()}/products`,{method:"GET",headers:Te()})).ok}catch{return!1}},Ru={login:async(r,i)=>{const u=await fetch(`${ze()}/auth/login`,{method:"POST",headers:Te(),body:JSON.stringify({username:r,password:i})});return De(u)},register:async r=>{const i=await fetch(`${ze()}/auth/register`,{method:"POST",headers:Te(),body:JSON.stringify(r)});return De(i)},getCurrentUser:async r=>{const i=await fetch(`${ze()}/auth/me`,{method:"GET",headers:{...Te(),"X-User-Id":r.toString()}});return De(i)},changePassword:async(r,i,u)=>{const c=await fetch(`${ze()}/auth/change-password`,{method:"POST",headers:{...Te(),"X-User-Id":r.toString()},body:JSON.stringify({currentPassword:i,newPassword:u})});return De(c)}},Yu={getAll:async r=>{const i=new URLSearchParams;r!=null&&r.customerId&&i.append("customerId",r.customerId.toString()),r!=null&&r.invoiceId&&i.append("invoiceId",r.invoiceId.toString()),r!=null&&r.fromDate&&i.append("fromDate",r.fromDate),r!=null&&r.toDate&&i.append("toDate",r.toDate);const u=`${ze()}/payments${i.toString()?"?"+i:""}`,c=await fetch(u,{headers:Te()});return De(c)},getById:async r=>{const i=await fetch(`${ze()}/payments/${r}`,{headers:Te()});return De(i)},create:async r=>{const i=await fetch(`${ze()}/payments`,{method:"POST",headers:Te(),body:JSON.stringify(r)});return De(i)},delete:async r=>{const i=await fetch(`${ze()}/payments/${r}`,{method:"DELETE",headers:Te()});return De(i)},getByCustomer:async r=>(await Yu.getAll({customerId:r})).payments},ed={getAll:async r=>{const i=new URLSearchParams;r!=null&&r.unreadOnly&&i.append("unreadOnly","true"),r!=null&&r.page&&i.append("page",r.page.toString()),r!=null&&r.pageSize&&i.append("pageSize",r.pageSize.toString());const u=`${ze()}/notifications${i.toString()?"?"+i:""}`,c=await fetch(u,{headers:Te()});return De(c)},getUnreadCount:async()=>{const r=await fetch(`${ze()}/notifications/unread-count`,{headers:Te()});return De(r)},markAsRead:async r=>{const i=await fetch(`${ze()}/notifications/${r}/read`,{method:"PUT",headers:Te()});return De(i)},markAllAsRead:async()=>{const r=await fetch(`${ze()}/notifications/mark-all-read`,{method:"PUT",headers:Te()});return De(r)},delete:async r=>{const i=await fetch(`${ze()}/notifications/${r}`,{method:"DELETE",headers:Te()});return De(i)},deleteAll:async()=>{const r=await fetch(`${ze()}/notifications/clear-all`,{method:"DELETE",headers:Te()});return De(r)}},Vn={getAll:async r=>{const u=((r==null?void 0:r.folder)||"inbox")==="sent"?"/messages/sent":"/messages/inbox",c=`${ze()}${u}`,b=await fetch(c,{headers:Te()});return De(b)},getById:async r=>{const i=await fetch(`${ze()}/messages/${r}`,{headers:Te()});return De(i)},send:async r=>{const i={Low:1,Normal:2,High:3,Urgent:4},u={receiverId:r.recipientUserId,subject:r.subject,content:r.content,priority:i[r.priority||"Normal"]||2},c=await fetch(`${ze()}/messages`,{method:"POST",headers:Te(),body:JSON.stringify(u)});return De(c)},markAsRead:async r=>{const i=await fetch(`${ze()}/messages/${r}/read`,{method:"PUT",headers:Te()});return De(i)},delete:async r=>{const i=await fetch(`${ze()}/messages/${r}`,{method:"DELETE",headers:Te()});return De(i)},getUnreadCount:async()=>{const r=await fetch(`${ze()}/messages/unread-count`,{headers:Te()});return De(r)}},Fr="smart_accountant_session",Kr="smart_accountant_user",Db=x.createContext(void 0),sa=()=>{const r=x.useContext(Db);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},Vf=(r,i)=>({id:r.id.toString(),name:r.fullName,email:r.email,companyName:r.accountName,role:r.isSuperAdmin?"sys_admin":"user",permissions:{canManageProducts:r.permissions.canManageProducts,canManageCustomers:r.permissions.canManageCustomers,canCreateInvoices:r.permissions.canCreateInvoices,canManageExpenses:r.permissions.canManageExpenses,canViewReports:r.permissions.canViewReports,canManageSettings:r.permissions.canManageSettings,canManageLogo:r.permissions.canManageLogo},createdAt:new Date().toISOString(),isActive:!0,accountId:r.accountId,currency:r.currency,token:i,avatarUrl:r.avatarUrl,isSuperAdmin:r.isSuperAdmin,accountLogo:r.accountLogo}),Gf=(r,i)=>{sessionStorage.setItem(Fr,i),sessionStorage.setItem(Kr,JSON.stringify(r)),localStorage.setItem(Fr,i),localStorage.setItem(Kr,JSON.stringify(r))},Vj=()=>{try{let r=sessionStorage.getItem(Fr),i=sessionStorage.getItem(Kr);if((!r||!i)&&(r=localStorage.getItem(Fr),i=localStorage.getItem(Kr),r&&i&&(sessionStorage.setItem(Fr,r),sessionStorage.setItem(Kr,i))),r&&i){try{const c=JSON.parse(atob(r.split(".")[1])).exp*1e3;if(Date.now()>=c)return console.log(" Token expired on load"),ec(),null}catch{return ec(),null}return{user:JSON.parse(i),token:r}}}catch(r){console.error("Error reading session:",r)}return null},ec=()=>{sessionStorage.removeItem(Fr),sessionStorage.removeItem(Kr),localStorage.removeItem(Fr),localStorage.removeItem(Kr)},Gj=({children:r})=>{const[i,u]=x.useState(null),[c,b]=x.useState(!0),[h,y]=x.useState(null);x.useEffect(()=>{(async()=>{const M=Vj();if(M)try{const z=await Ru.getCurrentUser(parseInt(M.user.id)),w=Vf(z,M.token);u(w),Gf(w,M.token)}catch(z){console.warn("Session validation failed:",z),ec()}b(!1)})()},[]);const j=x.useCallback(async(N,M)=>{b(!0),y(null);try{const z=await Ru.login(N,M);if(z.success){const w=Vf(z.user,z.token);return u(w),Gf(w,z.token),b(!1),!0}else return y(z.message||"  "),b(!1),!1}catch(z){console.error("Login error:",z);const w=z.message||"      ";return y(w),b(!1),!1}},[]),f=x.useCallback(async N=>{b(!0),y(null);try{const M={username:N.email,password:N.password,fullName:N.name,companyName:N.companyName,email:N.email,phone:N.phone,currencyId:1,currencySymbol:"."},z=await Ru.register(M);return z.success?await j(N.email,N.password):(y(z.message||"  "),b(!1),!1)}catch(M){return console.error("Register error:",M),y(M.message||"    "),b(!1),!1}},[j]),p=x.useCallback(()=>{u(null),ec()},[]),k=x.useCallback(()=>{y(null)},[]);return e.jsx(Db.Provider,{value:{user:i,isAuthenticated:!!i,isLoading:c,error:h,login:j,register:f,logout:p,clearError:k},children:r})},yt=()=>ic();async function vt(r,i){const u=await fetch(r,{headers:{"Content-Type":"application/json"},...i});if(!u.ok){const b=await u.json().catch(()=>({message:" "}));throw new Error(b.message||"   ")}const c=await u.text();if(c)return JSON.parse(c)}const Qj={update:async(r,i)=>{await vt(`${yt()}/admin/users/${r}`,{method:"PUT",body:JSON.stringify({fullName:i.fullName})}),i.password&&i.password.length>=6&&await vt(`${yt()}/admin/users/${r}/password`,{method:"PUT",body:JSON.stringify({newPassword:i.password})})}},el={getAll:async(r={})=>{const i=new URLSearchParams;return r.accountId&&i.set("accountId",r.accountId.toString()),r.page&&i.set("page",r.page.toString()),r.pageSize&&i.set("pageSize",r.pageSize.toString()),r.search&&i.set("search",r.search),r.isActive!==void 0&&i.set("isActive",r.isActive.toString()),r.roleId&&i.set("roleId",r.roleId.toString()),vt(`${yt()}/admin/users?${i}`)},getById:async r=>vt(`${yt()}/admin/users/${r}`),create:async r=>vt(`${yt()}/admin/users`,{method:"POST",body:JSON.stringify(r)}),update:async(r,i)=>{await vt(`${yt()}/admin/users/${r}`,{method:"PUT",body:JSON.stringify(i)})},changePassword:async(r,i)=>vt(`${yt()}/admin/users/${r}/password`,{method:"PUT",body:JSON.stringify({newPassword:i})}),toggleStatus:async(r,i)=>vt(`${yt()}/admin/users/${r}/status`,{method:"PUT",body:JSON.stringify(i)}),toggleLock:async(r,i,u)=>vt(`${yt()}/admin/users/${r}/lock`,{method:"PUT",body:JSON.stringify({lock:i,lockUntil:u})}),updateRoles:async(r,i,u)=>vt(`${yt()}/admin/users/${r}/roles`,{method:"PUT",body:JSON.stringify({roleIds:i,assignedByUserId:u})}),delete:async r=>vt(`${yt()}/admin/users/${r}`,{method:"DELETE"})},td={getAll:async r=>{const i=r?`?accountId=${r}`:"";return vt(`${yt()}/roles${i}`)},getById:async r=>vt(`${yt()}/roles/${r}`),create:async r=>vt(`${yt()}/roles`,{method:"POST",body:JSON.stringify(r)}),update:async(r,i)=>{await vt(`${yt()}/roles/${r}`,{method:"PUT",body:JSON.stringify(i)})},updatePermissions:async(r,i)=>vt(`${yt()}/roles/${r}/permissions`,{method:"PUT",body:JSON.stringify({permissionIds:i})}),delete:async r=>vt(`${yt()}/roles/${r}`,{method:"DELETE"}),toggleStatus:async(r,i)=>vt(`${yt()}/roles/${r}/status`,{method:"PATCH",body:JSON.stringify({isActive:i})})},is={getAll:async()=>vt(`${yt()}/accounts`),get:async r=>vt(`${yt()}/accounts/${r}`),create:async r=>vt(`${yt()}/accounts`,{method:"POST",body:JSON.stringify(r)}),update:async(r,i)=>{await vt(`${yt()}/accounts/${r}`,{method:"PUT",body:JSON.stringify(i)})},updateLogo:async(r,i)=>vt(`${yt()}/accounts/${r}/logo`,{method:"PUT",body:JSON.stringify({logoUrl:i})}),toggleStatus:async(r,i)=>vt(`${yt()}/accounts/${r}/status`,{method:"PATCH",body:JSON.stringify({isActive:i})}),delete:async r=>{await vt(`${yt()}/accounts/${r}`,{method:"DELETE"})},getUsage:async r=>vt(`${yt()}/accounts/${r}/usage`)},mt={getPublicSettings:async()=>vt(`${yt()}/systemsettings/public`),getAll:async()=>vt(`${yt()}/systemsettings`),update:async(r,i,u,c,b)=>{await vt(`${yt()}/systemsettings/${r}`,{method:"PUT",body:JSON.stringify({value:i,type:u,description:c,isPublic:b})})},updateBulk:async r=>{await vt(`${yt()}/systemsettings/bulk`,{method:"PUT",body:JSON.stringify(r)})}},Xr={getAll:async(r=!1)=>{const i=r?"?includeInactive=true":"";return vt(`${yt()}/plans${i}`)},get:async r=>vt(`${yt()}/plans/${r}`),create:async r=>vt(`${yt()}/plans`,{method:"POST",body:JSON.stringify(r)}),update:async(r,i)=>vt(`${yt()}/plans/${r}`,{method:"PUT",body:JSON.stringify(i)}),delete:async r=>{await vt(`${yt()}/plans/${r}`,{method:"DELETE"})},toggleStatus:async r=>vt(`${yt()}/plans/${r}/toggle-status`,{method:"PUT"})},Rb=x.createContext(void 0),zl=()=>{const r=x.useContext(Rb);if(!r)throw new Error("useSettings must be used within a SettingsProvider");return r},Xj=({children:r})=>{const[i,u]=x.useState(Ab()),[c,b]=x.useState(md()),[h,y]=x.useState(!0),[j,f]=x.useState(i.darkMode);x.useEffect(()=>{const I=()=>{const Ue=i.darkModePreference||"light";if(Ue==="auto"){const st=new Date().getHours(),Ye=st>=18||st<6;f(Ye)}else if(Ue==="system"){const st=window.matchMedia("(prefers-color-scheme: dark)").matches;f(st)}else f(Ue==="dark")};I();const ae=setInterval(I,6e4),xe=window.matchMedia("(prefers-color-scheme: dark)"),ve=()=>I();return xe.addEventListener("change",ve),()=>{clearInterval(ae),xe.removeEventListener("change",ve)}},[i]),x.useEffect(()=>{(async()=>{try{const ae=await mt.getPublicSettings();if(ae){const ve={...md()};if(ae.allowAutoRefresh!==void 0&&ae.allowAutoRefresh!==null){const Ue=ae.allowAutoRefresh===!0||ae.allowAutoRefresh==="true";ve.allowAutoRefresh=Ue}if(ae.autoRefreshInterval!==void 0&&ae.autoRefreshInterval!==null&&(ve.autoRefreshInterval=Number(ae.autoRefreshInterval)||30),ae.syncDuration!==void 0&&ae.syncDuration!==null&&(ve.syncDuration=Number(ae.syncDuration)||1500),ae.showSyncPopup!==void 0&&ae.showSyncPopup!==null){const Ue=ae.showSyncPopup===!0||ae.showSyncPopup==="true";ve.showSyncPopup=Ue}if(ae.refreshDuration!==void 0&&ae.refreshDuration!==null&&(ve.refreshDuration=Number(ae.refreshDuration)||1e3),ae.showRefreshPopup!==void 0&&ae.showRefreshPopup!==null){const Ue=ae.showRefreshPopup===!0||ae.showRefreshPopup==="true";ve.showRefreshPopup=Ue}b(ve),qf(ve)}}catch{console.log("Using local settings (API unavailable)")}finally{y(!1)}})()},[]),x.useEffect(()=>{j?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[j]);const p=I=>{const ae={...i,...I};u(ae),Dj(ae)},k=I=>{p({currency:I})},N=I=>{i.availableCurrencies.includes(I)||p({availableCurrencies:[...i.availableCurrencies,I]})},M=()=>{p({darkMode:!j,darkModePreference:j?"light":"dark"})},z=I=>{p({darkModePreference:I,darkMode:I==="dark"})},w=I=>{p({autoSync:I})},O=I=>{p({defaultViewMode:I})},B=I=>{i.nationalities.includes(I)||p({nationalities:[...i.nationalities,I]})},J=I=>{p({nationalities:i.nationalities.filter(ae=>ae!==I)})},L=I=>{p({dateFormat:I})},U=I=>{p({timeFormat:I})},D=I=>{p({dateDisplayStyle:I})},q=(I,ae)=>{const xe=ae!==void 0?ae:!c[I],ve={...c,[I]:xe};b(ve),qf(ve)},Z=I=>{q("autoRefreshInterval",I)},P=I=>{const ae=I!==void 0?I:!c.allowAutoRefresh;q("allowAutoRefresh",ae)},ee=I=>{q("syncDuration",I)};return e.jsx(Rb.Provider,{value:{currency:i.currency,setCurrency:k,availableCurrencies:i.availableCurrencies,addCurrency:N,isDarkMode:j,toggleDarkMode:M,darkModePreference:i.darkModePreference||"light",setDarkModePreference:z,autoSync:i.autoSync,setAutoSync:w,permissions:c,togglePermission:q,defaultViewMode:i.defaultViewMode||"grid",setDefaultViewMode:O,nationalities:i.nationalities||[],addNationality:B,removeNationality:J,autoRefreshEnabled:c.allowAutoRefresh??!0,autoRefreshInterval:c.autoRefreshInterval??30,setAutoRefreshInterval:Z,toggleAutoRefresh:P,syncDuration:c.syncDuration??1500,setSyncDuration:ee,dateFormat:i.dateFormat||"DD-MM-YYYY",setDateFormat:L,timeFormat:i.timeFormat||"24h",setTimeFormat:U,dateDisplayStyle:i.dateDisplayStyle||"numeric",setDateDisplayStyle:D,isLoadingSettings:h},children:r})},Lb=()=>{try{const r=Ab();return{dateFormat:r.dateFormat||"DD-MM-YYYY",timeFormat:r.timeFormat||"24h",dateDisplayStyle:r.dateDisplayStyle||"numeric"}}catch{return{dateFormat:"DD-MM-YYYY",timeFormat:"24h",dateDisplayStyle:"numeric"}}},Pj=r=>r.toLocaleDateString("ar-EG",{day:"numeric",month:"long",year:"numeric"}),Jj=(r,i)=>{const u=r.getFullYear(),c=String(r.getMonth()+1).padStart(2,"0"),b=String(r.getDate()).padStart(2,"0");switch(i){case"DD-MM-YYYY":return`${b}-${c}-${u}`;case"MM-DD-YYYY":return`${c}-${b}-${u}`;case"YYYY-MM-DD":return`${u}-${c}-${b}`;default:return`${b}-${c}-${u}`}},$b=(r,i)=>{const u=r.getHours(),c=String(r.getMinutes()).padStart(2,"0");if(i==="12h"){const b=u>=12?"":"";return`${u%12||12}:${c} ${b}`}return`${String(u).padStart(2,"0")}:${c}`},ds=(r,i=!0)=>{if(!r)return"-";try{const u=typeof r=="string"?new Date(r):r;if(isNaN(u.getTime()))return String(r);const{dateFormat:c,timeFormat:b,dateDisplayStyle:h}=Lb(),y=h==="arabic"?Pj(u):Jj(u,c);if(!i)return y;const j=$b(u,b);return`${y} ${j}`}catch{return String(r)}},qs=r=>ds(r,!1),Zj=r=>{if(!r)return"-";try{const i=typeof r=="string"?new Date(r):r;if(isNaN(i.getTime()))return String(r);const{timeFormat:u}=Lb();return $b(i,u)}catch{return String(r)}},Fj=r=>{if(!r)return"-";try{const i=typeof r=="string"?new Date(r):r;return isNaN(i.getTime())?String(r):i.toLocaleDateString("ar-EG",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return String(r)}},Kj={view:!0,create:!0,edit:!0,delete:!0,print:!0},Wj="smartAccountant_permissionsMatrix",e2=()=>{try{const r=localStorage.getItem(Wj);if(r)return JSON.parse(r)}catch(r){console.error("Failed to load permissions matrix:",r)}return{}},dc=(r,i,u,c)=>{var h,y,j;const b=e2();if(r){const f=`user_${r}`;if((h=b[f])!=null&&h[c])return b[f][c]}if(i&&i.length>0)for(const f of i){const p=`role_${f}`;if((y=b[p])!=null&&y[c])return b[p][c]}if(u){const f=`account_${u}`;if((j=b[f])!=null&&j[c])return b[f][c]}return Kj},El="permissionsMatrixChanged",t2=()=>{window.dispatchEvent(new CustomEvent(El))},Qf=r=>{const{user:i}=sa(),[u,c]=x.useState({view:!0,create:!0,edit:!0,delete:!0}),[b,h]=x.useState(!0),[y,j]=x.useState(0);return x.useEffect(()=>{const f=()=>{j(k=>k+1)};window.addEventListener(El,f);const p=k=>{k.key==="smartAccountant_permissionsMatrix"&&f()};return window.addEventListener("storage",p),()=>{window.removeEventListener(El,f),window.removeEventListener("storage",p)}},[]),x.useEffect(()=>{if(i){const f=i.id?parseInt(i.id,10):void 0,p=dc(f,i.roleIds,i.accountId,r);c(p)}h(!1)},[i,r,y]),{...u,loading:b}},a2=()=>{const{user:r}=sa(),[i,u]=x.useState(["menu_dashboard","menu_products","menu_customers","menu_invoices","menu_expenses","menu_reports","menu_settings","menu_notifications","menu_messages"]),[c,b]=x.useState(0);return x.useEffect(()=>{const h=()=>{console.log(" Permissions changed - refreshing menu permissions"),b(j=>j+1)};window.addEventListener(El,h);const y=j=>{j.key==="smartAccountant_permissionsMatrix"&&h()};return window.addEventListener("storage",y),()=>{window.removeEventListener(El,h),window.removeEventListener("storage",y)}},[]),x.useEffect(()=>{const h=["menu_dashboard","menu_products","menu_customers","menu_invoices","menu_expenses","menu_reports","menu_settings","menu_notifications","menu_messages"];if(r){const y=r.id?parseInt(r.id,10):void 0,j=h.filter(f=>dc(y,r.roleIds,r.accountId,f).view);console.log(" Menu permissions updated:",j),u(j)}else u(h)},[r,c]),{allowedMenus:i,canShowMenu:h=>i.includes(h),canShowDashboard:i.includes("menu_dashboard"),canShowProducts:i.includes("menu_products"),canShowCustomers:i.includes("menu_customers"),canShowInvoices:i.includes("menu_invoices"),canShowExpenses:i.includes("menu_expenses"),canShowReports:i.includes("menu_reports"),canShowSettings:i.includes("menu_settings"),canShowNotifications:i.includes("menu_notifications"),canShowMessages:i.includes("menu_messages")}},s2=()=>{const{user:r}=sa(),[i,u]=x.useState(0);x.useEffect(()=>{const b=()=>{u(y=>y+1)};window.addEventListener(El,b);const h=y=>{y.key==="smartAccountant_permissionsMatrix"&&b()};return window.addEventListener("storage",h),()=>{window.removeEventListener(El,b),window.removeEventListener("storage",h)}},[]);const c=x.useCallback(b=>{if(!r)return!0;const h=r.id?parseInt(r.id,10):void 0;return dc(h,r.roleIds,r.accountId,b).view},[r,i]);return{canAddProduct:c("btn_add_product"),canAddCustomer:c("btn_add_customer"),canAddInvoice:c("btn_add_invoice"),canAddExpense:c("btn_add_expense"),canPrint:c("btn_print"),canExport:c("btn_export"),canBackup:c("btn_backup"),canRestore:c("btn_restore"),canClearData:c("btn_clear_data"),checkButton:c}},hr=r=>{const{user:i}=sa(),[u,c]=x.useState({view:!0,create:!0,edit:!0,delete:!0}),[b,h]=x.useState(!1),[y,j]=x.useState(0);return x.useEffect(()=>{const f=()=>{console.log(" Permissions changed - refreshing page permission for:",r),j(k=>k+1)};window.addEventListener(El,f);const p=k=>{k.key==="smartAccountant_permissionsMatrix"&&f()};return window.addEventListener("storage",p),()=>{window.removeEventListener(El,f),window.removeEventListener("storage",p)}},[r]),x.useEffect(()=>{if(i){const f=i.id?parseInt(i.id,10):void 0,p=dc(f,i.roleIds,i.accountId,r);console.log(` Page permission for ${r}:`,p,"user:",f),c(p),h(!0)}else c({view:!0,create:!0,edit:!0,delete:!0,print:!0}),h(!0)},[i,r,y]),{...u,canView:u.view,canCreate:u.create,canEdit:u.edit,canDelete:u.delete,canPrint:u.print,checked:b}},Xf=r=>({id:r.id,name:r.name,price:r.sellingPrice,stock:r.stockQuantity,unit:r.unit||"",notes:r.description,code:r.code,barcode:r.barcode}),l2=(r,i=1)=>({code:r.code||`PRD${Date.now()}`,barcode:r.barcode,name:r.name,description:r.notes,unit:r.unit||"",sellingPrice:r.price,costPrice:r.price*.7,stockQuantity:r.stock||0,minStockLevel:0,taxPercent:0,isActive:!0}),Pf=r=>({id:r.id,name:r.name,phone:r.phone,notes:r.notes,balance:r.balance}),r2=r=>({code:`CUST${Date.now()}`,name:r.name,type:"Individual",phone:r.phone,notes:r.notes,creditLimit:0,balance:0,isActive:!0}),ad=r=>{var b;const i={Draft:0,Pending:1,Confirmed:2,Cancelled:3,Paid:4,PartialPaid:5,PartiallyPaid:5,Overdue:6,Refunded:7};let u=0;const c=r.status;return typeof c=="number"?u=c:typeof c=="string"&&(u=i[c]??0),{id:r.id,invoiceNumber:r.invoiceNumber,date:r.invoiceDate,customerId:r.customerId,customerName:(b=r.customer)==null?void 0:b.name,totalAmount:r.totalAmount||0,paidAmount:r.paidAmount||0,remainingAmount:(r.totalAmount||0)-(r.paidAmount||0),paymentMethod:r.paymentMethod,status:u,items:(r.items||[]).map(h=>{var y;return{id:h.id,productId:h.productId,name:h.productName||h.name||"",quantity:h.quantity||0,price:h.unitPrice||h.price||0,unit:((y=h.unit)==null?void 0:y.name)||h.unit||"",total:h.lineTotal||h.total||h.quantity*h.unitPrice||0}}),payments:(r.payments||[]).map(h=>({id:h.id,amount:h.amount||0,paymentDate:h.paymentDate||h.createdAt,paymentMethod:h.paymentMethod||"Cash",notes:h.notes})),notes:r.notes,type:r.paymentMethod===0||r.paymentMethod==="Cash"?"":"/"}},pd=()=>{const[r,i]=x.useState([]),[u,c]=x.useState(!0),[b,h]=x.useState(null),{user:y}=sa(),j=x.useCallback(async()=>{if(y){c(!0);try{const N=await Ki.getAll();i(N.map(Xf)),h(null)}catch(N){h(N.message||"   ")}finally{c(!1)}}},[y]);return x.useEffect(()=>{j()},[j]),x.useEffect(()=>{const N=()=>{j()};return window.addEventListener("autoRefreshData",N),()=>window.removeEventListener("autoRefreshData",N)},[j]),{products:r,loading:u,error:b,refresh:j,addProduct:async N=>{try{const M=l2(N),z=await Ki.create(M),w=Xf(z);return i(O=>[w,...O]),w}catch(M){throw new Error(M.message||"   ")}},updateProduct:async(N,M)=>{try{if(!r.find(B=>B.id===N))throw new Error("  ");const w=await Ki.getById(N),O={...w,name:M.name!==void 0?M.name:w.name,sellingPrice:M.price!==void 0?M.price:w.sellingPrice,stockQuantity:M.stock!==void 0?M.stock:w.stockQuantity,unit:M.unit!==void 0?M.unit:w.unit,description:M.notes!==void 0?M.notes:w.description};M.unit!==void 0&&delete O.unitId,await Ki.update(N,O),i(B=>B.map(J=>J.id===N?{...J,...M}:J))}catch(z){throw new Error(z.message||"   ")}},deleteProduct:async N=>{try{await Ki.delete(N),i(M=>M.filter(z=>z.id!==N))}catch(M){throw new Error(M.message||"   ")}}}},gd=()=>{const[r,i]=x.useState([]),[u,c]=x.useState(!0),[b,h]=x.useState(null),{user:y}=sa(),j=x.useCallback(async()=>{if(y){c(!0);try{const N=await Wi.getAll();i(N.map(Pf)),h(null)}catch(N){h(N.message||"   ")}finally{c(!1)}}},[y]);return x.useEffect(()=>{j()},[j]),x.useEffect(()=>{const N=()=>{j()};return window.addEventListener("autoRefreshData",N),()=>window.removeEventListener("autoRefreshData",N)},[j]),{customers:r,loading:u,error:b,refresh:j,addCustomer:async N=>{try{const M=r2(N),z=await Wi.create(M),w=Pf(z);return i(O=>[w,...O]),w}catch(M){throw new Error(M.message||"   ")}},updateCustomer:async(N,M)=>{try{if(!r.find(B=>B.id===N))throw new Error("  ");const w=await Wi.getById(N),O={...w,name:M.name??w.name,phone:M.phone??w.phone,notes:M.notes??w.notes};await Wi.update(N,O),i(B=>B.map(J=>J.id===N?{...J,...M}:J))}catch(z){throw new Error(z.message||"   ")}},deleteCustomer:async N=>{try{await Wi.delete(N),i(M=>M.filter(z=>z.id!==N))}catch(M){throw new Error(M.message||"   ")}}}},n2=()=>{const[r,i]=x.useState([]),[u,c]=x.useState(!0),[b,h]=x.useState(null),{user:y}=sa(),j=x.useCallback(async()=>{if(!y){i([]),c(!1);return}c(!0);try{const z=await Yo.getAll();i(z),h(null)}catch{i([]),h(null)}finally{c(!1)}},[y]);x.useEffect(()=>{j()},[j]),x.useEffect(()=>{const z=()=>{j()};return window.addEventListener("autoRefreshData",z),()=>window.removeEventListener("autoRefreshData",z)},[j]);const f=["","","","","",""],p=r.length>0?r.map(z=>z.name):f;return{units:r,unitNames:p,loading:u,error:b,refresh:j,addUnit:async(z,w,O)=>{try{const B=await Yo.create({name:z,nameEn:w||"",symbol:O||z,isBase:!0,conversionFactor:1,isActive:!0});return i(J=>[...J,B]),B}catch(B){throw new Error(B.message||"   ")}},updateUnit:async(z,w)=>{try{const O=r.find(J=>J.id===z);if(!O||!O.id)throw new Error("  ");const B={...O,name:w.name,nameEn:w.nameEn||"",symbol:w.symbol};await Yo.update(O.id,B),i(J=>J.map(L=>L.id===O.id?B:L))}catch(O){throw new Error(O.message||"   ")}},deleteUnit:async z=>{try{const w=r.find(O=>O.id===z);if(!w||!w.id)throw new Error("  ");await Yo.delete(w.id),i(O=>O.filter(B=>B.id!==w.id))}catch(w){throw new Error(w.message||"   ")}}}},yd=()=>{const[r,i]=x.useState([]),[u,c]=x.useState(!0),[b,h]=x.useState(null),{user:y}=sa(),j=x.useCallback(async()=>{if(y){c(!0);try{const z=await Hs.getAll();i(z.map(ad)),h(null)}catch(z){h(z.message||"   ")}finally{c(!1)}}},[y]);return x.useEffect(()=>{j()},[j]),x.useEffect(()=>{const z=()=>{j()};return window.addEventListener("autoRefreshData",z),()=>window.removeEventListener("autoRefreshData",z)},[j]),{invoices:r,loading:u,error:b,refresh:j,addInvoice:async z=>{try{const w=z.items.map(U=>({productId:U.productId?parseInt(String(U.productId)):0,productName:U.name,quantity:U.quantity,unitPrice:U.price,discountPercent:0,discountAmount:0,taxPercent:0,taxAmount:0,lineTotal:U.total})),O={invoiceType:"Sales",invoiceDate:z.date,customerId:z.customerId,paymentMethod:z.paymentMethod,subTotal:z.totalAmount,discountPercent:0,discountAmount:0,taxAmount:0,totalAmount:z.totalAmount,paidAmount:z.paidAmount,notes:z.notes,items:w},B=await Hs.create(O),J=await Hs.getById(B.id),L=ad(J);return i(U=>[L,...U]),L}catch(w){throw new Error(w.message||"   ")}},updateInvoice:async(z,w)=>{try{if(!r.find(q=>q.id===z))throw new Error("  ");const B=await Hs.getById(z);let J=B.items;w.items&&(J=w.items.map(q=>({productId:q.productId?parseInt(String(q.productId)):0,productName:q.name,quantity:q.quantity,unitPrice:q.price,discountPercent:0,discountAmount:0,taxPercent:0,taxAmount:0,lineTotal:q.total})));const L={...B,invoiceDate:w.date??B.invoiceDate,customerId:w.customerId??B.customerId,paidAmount:w.paidAmount??B.paidAmount,totalAmount:w.totalAmount??B.totalAmount,subTotal:w.totalAmount??B.subTotal,notes:w.notes??B.notes,items:J};await Hs.update(z,L);const U=await Hs.getById(z),D=ad(U);i(q=>q.map(Z=>Z.id===z?D:Z))}catch(O){throw new Error(O.message||"   ")}},deleteInvoice:async z=>{try{await Hs.delete(z),i(w=>w.filter(O=>O.id!==z))}catch(w){throw new Error(w.message||"   ")}},unconfirmInvoice:async z=>{try{await Hs.unconfirm(z);const w=await Hs.getById(z),O=ad(w);i(B=>B.map(J=>J.id===z?O:J))}catch(w){throw new Error(w.message||"    ")}},deletePayment:async(z,w)=>{try{await Hs.deletePayment(z,w);const O=await Hs.getById(z),B=ad(O);i(J=>J.map(L=>L.id===z?B:L))}catch(O){throw new Error(O.message||"   ")}}}},oc=()=>{const[r,i]=x.useState([]),[u,c]=x.useState(!0),[b,h]=x.useState(null),{user:y}=sa(),j=x.useCallback(async()=>{if(y){c(!0);try{const k=await _u.getAll();i(k),h(null)}catch(k){h(k.message||"   ")}finally{c(!1)}}},[y]);return x.useEffect(()=>{j()},[j]),x.useEffect(()=>{const k=()=>{j()};return window.addEventListener("autoRefreshData",k),()=>window.removeEventListener("autoRefreshData",k)},[j]),{expenses:r,loading:u,error:b,refresh:j,addExpense:async k=>{try{const N=await _u.create(k);return i(M=>[N,...M]),N}catch(N){throw new Error(N.message||"   ")}},deleteExpense:async k=>{try{await _u.delete(k),i(N=>N.filter(M=>M.id!==k))}catch(N){throw new Error(N.message||"   ")}}}},Jf=r=>({id:r.id,revenueNumber:r.revenueNumber,categoryId:r.categoryId,customerId:r.customerId,revenueDate:r.revenueDate,description:r.description,amount:r.amount,taxAmount:r.taxAmount,totalAmount:r.totalAmount||r.amount+(r.taxAmount||0),paymentMethod:r.paymentMethod,reference:r.reference,status:r.status,notes:r.notes}),Ob=()=>{const[r,i]=x.useState([]),[u,c]=x.useState(!0),[b,h]=x.useState(null),{user:y}=sa(),j=x.useCallback(async()=>{if(y){c(!0);try{const k=await Du.getAll();i(k.map(Jf)),h(null)}catch(k){console.warn("   :",k.message),i([]),h(null)}finally{c(!1)}}},[y]);return x.useEffect(()=>{j()},[j]),x.useEffect(()=>{const k=()=>{j()};return window.addEventListener("autoRefreshData",k),()=>window.removeEventListener("autoRefreshData",k)},[j]),{revenues:r,loading:u,error:b,refresh:j,addRevenue:async k=>{try{const N={categoryId:k.categoryId,customerId:k.customerId,revenueDate:k.revenueDate,description:k.description,amount:k.amount,taxAmount:k.taxAmount||0,totalAmount:k.totalAmount||k.amount,paymentMethod:k.paymentMethod,reference:k.reference,notes:k.notes},M=await Du.create(N),z=Jf(M);return i(w=>[z,...w]),z}catch(N){throw new Error(N.message||"   ")}},deleteRevenue:async k=>{try{await Du.delete(k),i(N=>N.filter(M=>M.id!==k))}catch(N){throw new Error(N.message||"   ")}}}},i2=(r,i,u=!0)=>{const[c,b]=x.useState(null),[h,y]=x.useState(!1),[j,f]=x.useState(i),p=x.useRef(null),k=x.useRef(null),N=x.useCallback(async()=>{if(!(h||!u||i<=0)){y(!0);try{await Promise.all(r.map(z=>z())),b(new Date),f(i)}catch(z){console.error("Auto refresh error:",z)}finally{y(!1)}}},[r,i,u,h]),M=x.useCallback(async()=>{y(!0);try{await Promise.all(r.map(z=>z())),b(new Date),f(i)}catch(z){console.error("Manual refresh error:",z)}finally{y(!1)}},[r,i]);return x.useEffect(()=>{if(p.current&&clearInterval(p.current),k.current&&clearInterval(k.current),!u||i<=0){f(0);return}return f(i),p.current=setInterval(()=>{N()},i*1e3),k.current=setInterval(()=>{f(z=>z>0?z-1:i)},1e3),()=>{p.current&&clearInterval(p.current),k.current&&clearInterval(k.current)}},[i,u,N]),{lastRefresh:c,isRefreshing:h,countdown:j,manualRefresh:M,enabled:u&&i>0}},Zf=[{id:"dashboard",type:"page",title:" ",subtitle:"",icon:sl,url:"/"},{id:"products",type:"page",title:"",subtitle:"  ",icon:Ya,url:"/products"},{id:"customers",type:"page",title:"",subtitle:" ",icon:Za,url:"/customers"},{id:"invoices",type:"page",title:"",subtitle:" ",icon:Fa,url:"/invoices"},{id:"expenses",type:"page",title:"",subtitle:" ",icon:lc,url:"/expenses"},{id:"reports",type:"page",title:"",subtitle:" ",icon:kb,url:"/reports"},{id:"settings",type:"page",title:"",subtitle:" ",icon:mr,url:"/settings"},{id:"notifications",type:"page",title:"",subtitle:" ",icon:cr,url:"/notifications"},{id:"messages",type:"page",title:"",subtitle:" ",icon:Nv,url:"/messages"},{id:"pricing",type:"page",title:" ",subtitle:" ",icon:Es,url:"/pricing"}],Ff=[{id:"new-invoice",type:"action",title:" ",subtitle:" ",icon:Fa,url:"/invoices?action=new"},{id:"new-customer",type:"action",title:" ",subtitle:" ",icon:Za,url:"/customers?action=new"},{id:"new-product",type:"action",title:" ",subtitle:" ",icon:Ya,url:"/products?action=new"},{id:"new-expense",type:"action",title:" ",subtitle:" ",icon:lc,url:"/expenses?action=new"}],d2=({isOpen:r,onClose:i})=>{const u=tn(),c=x.useRef(null),[b,h]=x.useState(""),[y,j]=x.useState(0),[f,p]=x.useState([]),{customers:k,loading:N}=gd(),{products:M,loading:z}=pd(),{invoices:w,loading:O}=yd(),{expenses:B,loading:J}=oc(),L=N||z||O||J;x.useEffect(()=>{const I=localStorage.getItem("recentSearches");I&&p(JSON.parse(I).slice(0,5))},[]);const U=x.useCallback(I=>{if(!I.trim())return;const ae=[I,...f.filter(xe=>xe!==I)].slice(0,5);p(ae),localStorage.setItem("recentSearches",JSON.stringify(ae))},[f]);x.useEffect(()=>{r&&(setTimeout(()=>{var I;return(I=c.current)==null?void 0:I.focus()},100),h(""),j(0))},[r]);const D=x.useMemo(()=>{const I=b.toLowerCase().trim();if(!I)return[...Ff.slice(0,4),...Zf.slice(0,6)];const ae=[];return Zf.forEach(xe=>{var ve;(xe.title.includes(I)||(ve=xe.subtitle)!=null&&ve.includes(I))&&ae.push({...xe,highlight:I})}),Ff.forEach(xe=>{var ve;(xe.title.includes(I)||(ve=xe.subtitle)!=null&&ve.includes(I))&&ae.push({...xe,highlight:I})}),M.forEach(xe=>{var ve;(xe.name.toLowerCase().includes(I)||(ve=xe.code)!=null&&ve.toLowerCase().includes(I))&&ae.push({id:`product-${xe.id}`,type:"product",title:xe.name,subtitle:`${xe.price} - : ${xe.code||"N/A"}`,icon:Ya,url:`/products?search=${encodeURIComponent(xe.name)}`,highlight:I})}),k.forEach(xe=>{var ve;(xe.name.toLowerCase().includes(I)||(ve=xe.phone)!=null&&ve.includes(I))&&ae.push({id:`customer-${xe.id}`,type:"customer",title:xe.name,subtitle:xe.phone||" ",icon:Za,url:`/customers?search=${encodeURIComponent(xe.name)}`,highlight:I})}),w.forEach(xe=>{var Ue;`${xe.invoiceNumber} ${xe.customerName}`.toLowerCase().includes(I)&&ae.push({id:`invoice-${xe.id}`,type:"invoice",title:` #${xe.invoiceNumber||xe.id}`,subtitle:`${xe.customerName} - ${(Ue=xe.totalAmount)==null?void 0:Ue.toLocaleString()}`,icon:Fa,url:`/invoices?search=${encodeURIComponent(xe.invoiceNumber||"")}`,highlight:I})}),B.forEach(xe=>{var ve,Ue;(ve=xe.description)!=null&&ve.toLowerCase().includes(I)&&ae.push({id:`expense-${xe.id}`,type:"expense",title:xe.description||"",subtitle:`${(Ue=xe.totalAmount)==null?void 0:Ue.toLocaleString()}`,icon:lc,url:`/expenses?search=${encodeURIComponent(xe.description||"")}`,highlight:I})}),ae.slice(0,15)},[b,M,k,w,B]),q=I=>{switch(I.key){case"ArrowDown":I.preventDefault(),j(ae=>Math.min(ae+1,D.length-1));break;case"ArrowUp":I.preventDefault(),j(ae=>Math.max(ae-1,0));break;case"Enter":I.preventDefault(),D[y]&&Z(D[y]);break;case"Escape":i();break}},Z=I=>{U(I.title),I.url&&u(I.url),I.action&&I.action(),i()},P=I=>({product:"",customer:"",invoice:"",expense:"",page:"",action:"",recent:""})[I],ee=I=>({product:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",customer:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",invoice:"bg-violet-100 text-violet-700 dark:bg-violet-900/30 dark:text-violet-400",expense:"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400",page:"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300",action:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",recent:"bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400"})[I];return r?e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-[10vh]",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:i}),e.jsxs("div",{className:"relative w-full max-w-2xl mx-4 bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in slide-in-from-top-4 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-slate-200 dark:border-slate-700",children:[e.jsx(ua,{className:"text-slate-400",size:20}),e.jsx("input",{ref:c,type:"text",value:b,onChange:I=>{h(I.target.value),j(0)},onKeyDown:q,placeholder:"   ... (   )",className:"flex-1 bg-transparent text-slate-800 dark:text-white placeholder-slate-400 outline-none text-lg",autoComplete:"off"}),L&&e.jsx(xt,{className:"animate-spin text-slate-400",size:20}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[e.jsx(D1,{size:12}),e.jsx("span",{children:"K"})]}),e.jsx("button",{onClick:i,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(gt,{size:20,className:"text-slate-400"})})]}),e.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:D.length===0?e.jsxs("div",{className:"p-8 text-center text-slate-500 dark:text-slate-400",children:[e.jsx(ua,{size:48,className:"mx-auto mb-4 opacity-30"}),e.jsxs("p",{children:['    "',b,'"']}),e.jsx("p",{className:"text-sm mt-2",children:"   "})]}):e.jsxs("div",{className:"p-2",children:[!b&&f.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 px-3 py-2 flex items-center gap-2",children:[e.jsx(Ba,{size:12})," "]}),e.jsx("div",{className:"flex flex-wrap gap-2 px-3",children:f.map((I,ae)=>e.jsx("button",{onClick:()=>h(I),className:"px-3 py-1 text-sm bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:I},ae))})]}),!b&&e.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 px-3 py-2",children:" "}),D.map((I,ae)=>e.jsxs("button",{onClick:()=>Z(I),onMouseEnter:()=>j(ae),className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all ${ae===y?"bg-primary/10 dark:bg-primary/20":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[e.jsx("div",{className:`p-2 rounded-lg ${ee(I.type)}`,children:e.jsx(I.icon,{size:18})}),e.jsxs("div",{className:"flex-1 text-right",children:[e.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:I.title}),I.subtitle&&e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:I.subtitle})]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${ee(I.type)}`,children:P(I.type)}),e.jsx(rd,{size:16,className:"text-slate-400"})]},I.id))]})}),e.jsxs("div",{className:"p-3 border-t border-slate-200 dark:border-slate-700 flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-100 dark:bg-slate-700 rounded",children:""}),e.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-100 dark:bg-slate-700 rounded",children:""}),""]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-100 dark:bg-slate-700 rounded",children:"Enter"}),""]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-100 dark:bg-slate-700 rounded",children:"Esc"}),""]})]}),e.jsx("span",{children:" "})]})]})]}):null},Xn=[{key:"h",ctrl:!0,description:"",descriptionEn:"Home",action:"navigate:/",category:"navigation"},{key:"p",ctrl:!0,shift:!0,description:"",descriptionEn:"Products",action:"navigate:/products",category:"navigation"},{key:"c",ctrl:!0,shift:!0,description:"",descriptionEn:"Customers",action:"navigate:/customers",category:"navigation"},{key:"i",ctrl:!0,shift:!0,description:"",descriptionEn:"Invoices",action:"navigate:/invoices",category:"navigation"},{key:"e",ctrl:!0,shift:!0,description:"",descriptionEn:"Expenses",action:"navigate:/expenses",category:"navigation"},{key:"r",ctrl:!0,shift:!0,description:"",descriptionEn:"Reports",action:"navigate:/reports",category:"navigation"},{key:",",ctrl:!0,description:"",descriptionEn:"Settings",action:"navigate:/settings",category:"navigation"},{key:"n",ctrl:!0,description:" ",descriptionEn:"Add New",action:"action:new",category:"actions"},{key:"s",ctrl:!0,description:"",descriptionEn:"Save",action:"action:save",category:"actions"},{key:"f",ctrl:!0,description:"",descriptionEn:"Search",action:"action:search",category:"actions"},{key:"k",ctrl:!0,description:" ",descriptionEn:"Global Search",action:"action:globalSearch",category:"actions"},{key:"Escape",description:" ",descriptionEn:"Close Modal",action:"action:closeModal",category:"actions"},{key:"d",ctrl:!0,shift:!0,description:"  ",descriptionEn:"Toggle Dark Mode",action:"ui:toggleDarkMode",category:"ui"},{key:"/",ctrl:!0,description:" ",descriptionEn:"Show Shortcuts",action:"ui:showShortcuts",category:"ui"},{key:"b",ctrl:!0,description:"  ",descriptionEn:"Toggle Sidebar",action:"ui:toggleSidebar",category:"ui"},{key:"Enter",ctrl:!0,description:"",descriptionEn:"Confirm",action:"editing:confirm",category:"editing"},{key:"Delete",ctrl:!0,description:"",descriptionEn:"Delete",action:"editing:delete",category:"editing"}],o2=new Set,ir=r=>{o2.forEach(i=>i(r))},c2=r=>{const i=tn();rl();const{toggleDarkMode:u}=zl(),[c,b]=x.useState(!1),[h,y]=x.useState(!1),[j,f]=x.useState(!1),p=x.useCallback(k=>{var J,L,U,D,q,Z;const N=k.target,M=["INPUT","TEXTAREA","SELECT"].includes(N.tagName)||N.isContentEditable,z=k.key==="Escape"||k.ctrlKey&&k.key==="k"||k.ctrlKey&&k.key==="/";if(M&&!z||(r==null?void 0:r.enabled)===!1)return;const w=Xn.find(P=>{const ee=P.key.toLowerCase()===k.key.toLowerCase(),I=!!P.ctrl===k.ctrlKey,ae=!!P.shift===k.shiftKey,xe=!!P.alt===k.altKey;return ee&&I&&ae&&xe});if(!w)return;k.preventDefault(),k.stopPropagation();const[O,B]=w.action.split(":");switch(O){case"navigate":i(B);break;case"action":switch(B){case"new":(J=r==null?void 0:r.onNew)==null||J.call(r),ir("new");break;case"save":(L=r==null?void 0:r.onSave)==null||L.call(r),ir("save");break;case"search":(U=r==null?void 0:r.onSearch)==null||U.call(r),ir("search");break;case"globalSearch":y(!0),ir("globalSearch");break;case"closeModal":(D=r==null?void 0:r.onCloseModal)==null||D.call(r),b(!1),y(!1),ir("closeModal");break}break;case"ui":switch(B){case"toggleDarkMode":u();break;case"showShortcuts":b(P=>!P);break;case"toggleSidebar":f(P=>!P),ir("toggleSidebar");break}break;case"editing":switch(B){case"confirm":(q=r==null?void 0:r.onConfirm)==null||q.call(r),ir("confirm");break;case"delete":(Z=r==null?void 0:r.onDelete)==null||Z.call(r),ir("delete");break}break}},[i,u,r]);return x.useEffect(()=>(window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)),[p]),{showShortcutsModal:c,setShowShortcutsModal:b,showGlobalSearch:h,setShowGlobalSearch:y,sidebarCollapsed:j,setSidebarCollapsed:f,shortcuts:Xn}},u2=r=>{const i=[];return r.ctrl&&i.push("Ctrl"),r.shift&&i.push("Shift"),r.alt&&i.push("Alt"),i.push(r.key.toUpperCase()),i.join(" + ")},x2=()=>({navigation:Xn.filter(r=>r.category==="navigation"),actions:Xn.filter(r=>r.category==="actions"),ui:Xn.filter(r=>r.category==="ui"),editing:Xn.filter(r=>r.category==="editing")}),m2=({isOpen:r,onClose:i})=>{if(!r)return null;const u=x2(),c={navigation:{title:"",icon:zv,color:"text-blue-500"},actions:{title:"",icon:nc,color:"text-amber-500"},ui:{title:" ",icon:Ku,color:"text-violet-500"},editing:{title:"",icon:Tv,color:"text-emerald-500"}};return e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:i}),e.jsxs("div",{className:"relative w-full max-w-3xl bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:e.jsx(wb,{className:"text-primary",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"  "}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"   "})]})]}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-xl transition-colors",children:e.jsx(gt,{size:20,className:"text-slate-500"})})]}),e.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.keys(u).map(b=>{const h=c[b],y=u[b];return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:`flex items-center gap-2 font-bold ${h.color}`,children:[e.jsx(h.icon,{size:18}),h.title]}),e.jsx("div",{className:"space-y-2",children:y.map(j=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/50 rounded-xl",children:[e.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:j.description}),e.jsx("kbd",{className:"px-3 py-1.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 rounded-lg text-sm font-mono text-slate-600 dark:text-slate-300 shadow-sm",children:u2(j)})]},j.action))})]},b)})})}),e.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50",children:e.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[" ",e.jsx("kbd",{className:"px-2 py-0.5 bg-white dark:bg-slate-700 rounded border border-slate-200 dark:border-slate-600 text-xs",children:"Ctrl + /"}),"      "]})})]})]})},Gn=[{id:"products",label:"",icon:Ya},{id:"customers",label:"",icon:Za},{id:"invoices",label:"",icon:Fa},{id:"expenses",label:"",icon:Pr},{id:"settings",label:"",icon:mr}],h2=()=>{var $e,S,we,Nt,Ot,Jt,Zt;const{notify:r,unreadCount:i,systemNotifications:u,markAsRead:c,markAllRead:b}=us(),{user:h,logout:y}=sa(),{isDarkMode:j,toggleDarkMode:f,autoSync:p,permissions:k,autoRefreshEnabled:N,autoRefreshInterval:M,syncDuration:z}=zl();k==null||k.showSyncPopup,k==null||k.showRefreshPopup;const w=(k==null?void 0:k.refreshDuration)??1e3,O=tn();rl();const[B,J]=x.useState(!1),[L,U]=x.useState(navigator.onLine),[D,q]=x.useState(!1),[Z,P]=x.useState(!1),[ee,I]=x.useState(0),[ae,xe]=x.useState(0),[ve,Ue]=x.useState(!1),[st,Ye]=x.useState(!1),T=x.useRef(null),[F,ne]=x.useState(M||30),[be,ce]=x.useState(!1),[C,Y]=x.useState(0),[he,le]=x.useState(0),[je,Ee]=x.useState(!1),[me,ie]=x.useState({name:"",companyName:"",password:"",logoUrl:""}),[Ce,Qe]=x.useState(!1),[at,ge]=x.useState(!1),[Se,ye]=x.useState(!1),[Ge,Re]=x.useState(!1),[Ae,Q]=x.useState(null),pe=()=>{try{const ue=localStorage.getItem("app_system_config_global");if(ue){const Me=JSON.parse(ue),Dt=Me.showRefreshPopup===!0||Me.showRefreshPopup==="true";return console.log("[getShowRefreshPopup] Value:",Dt,"Raw:",Me.showRefreshPopup),Dt}}catch(ue){console.error("Error reading showRefreshPopup:",ue)}return!1},R=()=>{try{const ue=localStorage.getItem("app_system_config_global");if(ue){const Me=JSON.parse(ue),Dt=Me.showSyncPopup!==!1&&Me.showSyncPopup!=="false";return console.log("[getShowSyncPopup] Value:",Dt,"Raw:",Me.showSyncPopup),Dt}}catch(ue){console.error("Error reading showSyncPopup:",ue)}return!0},fe=x.useRef(!1),_e=(ue=!1)=>{if(fe.current){console.log("[handleRefresh] Blocked - already refreshing");return}if(!L){r("   ","error");return}const Me=pe();if(console.log("[handleRefresh] Starting refresh, shouldShowPopup:",Me,"isAuto:",ue),fe.current=!0,ce(!0),Y(0),le(0),Qe(Me),window.dispatchEvent(new CustomEvent("autoRefreshData")),!Me){setTimeout(()=>{fe.current=!1,ce(!1),Y(0),le(0),Qe(!1),ue||r("   ","success"),console.log("[handleRefresh] Finished (no popup)")},300);return}const Dt=w||1e3,wt=50,lt=Dt/wt;let xa=0;const Ua=setInterval(()=>{xa++;const ja=Math.min(xa/lt*100,100);Y(ja);const br=Math.min(Math.floor(ja/100*Gn.length),Gn.length-1);le(br),xa>=lt&&(clearInterval(Ua),setTimeout(()=>{fe.current=!1,ce(!1),Y(0),le(0),Qe(!1),ue||r("   ","success"),console.log("[handleRefresh] Finished (with popup)")},300))},wt)};x.useEffect(()=>{if(!N||M<=0||!L||!D){ne(M>0?M:30);return}const ue=setInterval(()=>{ne(Me=>Me<=1?(setTimeout(()=>_e(!0),0),M):Me-1)},1e3);return()=>clearInterval(ue)},[N,M,L,D]),x.useEffect(()=>{ne(M>0?M:30)},[M]),x.useEffect(()=>{const ue=async()=>{const Dt=await Yj();q(Dt)};ue();const Me=setInterval(ue,3e4);return()=>clearInterval(Me)},[]),x.useEffect(()=>{(async()=>{if(h!=null&&h.accountId)try{const Me=await is.getUsage(h.accountId);Q(Me)}catch(Me){console.error("Error loading account usage:",Me)}})()},[h==null?void 0:h.accountId]),x.useEffect(()=>{function ue(Me){T.current&&!T.current.contains(Me.target)&&window.innerWidth>=768&&Ye(!1)}return document.addEventListener("mousedown",ue),()=>document.removeEventListener("mousedown",ue)},[]),x.useEffect(()=>{let ue;return p&&L&&(ue=setInterval(()=>{Z||(P(!0),setTimeout(()=>{P(!1)},1e3))},3e4)),()=>clearInterval(ue)},[p,L]),x.useEffect(()=>{const ue=()=>{U(!0),r("    -  ","success")},Me=()=>{U(!1),r("  -     ","warning")};return window.addEventListener("online",ue),window.addEventListener("offline",Me),()=>{window.removeEventListener("online",ue),window.removeEventListener("offline",Me)}},[r]),x.useEffect(()=>{h&&je&&ie({name:h.name,companyName:h.companyName,password:"",logoUrl:h.accountLogo||""})},[h,je]);const He=()=>{if(!L){r("   ","error");return}const ue=R();if(console.log("[handleSync] Starting sync, shouldShowPopup:",ue),P(!0),I(0),xe(0),ge(ue),!ue){setTimeout(()=>{P(!1),I(0),xe(0),ge(!1),r("   ","success"),console.log("[handleSync] Finished (no popup)")},300);return}const Me=z||1500,Dt=50,wt=Me/Dt;let lt=0;const xa=setInterval(()=>{lt++;const Ua=Math.min(lt/wt*100,100);I(Ua);const ja=Math.min(Math.floor(Ua/100*Gn.length),Gn.length-1);xe(ja),lt>=wt&&(clearInterval(xa),setTimeout(()=>{P(!1),I(0),xe(0),ge(!1),r("      ","success"),console.log("[handleSync] Finished (with popup)")},300))},Dt)},Ze=()=>{Ue(!0)},Ke=()=>{Ue(!1),y(),O("/login",{replace:!0}),r("   ","info")},[We,At]=x.useState(!1),Oe=async ue=>{if(ue.preventDefault(),h&&me.password&&me.password.length<6){r("     6   ","warning");return}if(h){At(!0);try{await Qj.update(Number(h.id),{fullName:me.name,password:me.password||void 0}),h.accountId&&me.logoUrl!==h.accountLogo&&await is.updateLogo(h.accountId,me.logoUrl||""),r("     ","success"),Ee(!1),me.logoUrl!==h.accountLogo&&window.location.reload()}catch(Me){r(Me.message||"   ","error")}finally{At(!1)}}},jt=ue=>{var wt;const Me=(wt=ue.target.files)==null?void 0:wt[0];if(!Me)return;if(Me.size>500*1024){r("   !   500KB","error");return}const Dt=new FileReader;Dt.onload=lt=>{var Ua;const xa=(Ua=lt.target)==null?void 0:Ua.result;ie({...me,logoUrl:xa})},Dt.readAsDataURL(Me)},_t=x.useCallback(ue=>{switch(console.log("[Layout] Shortcut action:",ue),ue){case"navigate-home":O("/");break;case"navigate-products":O("/products");break;case"navigate-customers":O("/customers");break;case"navigate-invoices":O("/invoices");break;case"navigate-expenses":O("/expenses");break;case"navigate-reports":O("/reports");break;case"navigate-settings":O("/settings");break;case"navigate-notifications":O("/notifications");break;case"navigate-messages":O("/messages");break;case"global-search":ye(!0);break;case"show-shortcuts":Re(!0);break;case"toggle-dark-mode":f();break;case"toggle-sidebar":J(Me=>!Me);break;case"close-modal":ye(!1),Re(!1),Ee(!1),Ue(!1),Ye(!1);break;case"search":window.dispatchEvent(new CustomEvent("shortcut:search"));break;case"new-item":window.dispatchEvent(new CustomEvent("shortcut:new"));break;case"save":window.dispatchEvent(new CustomEvent("shortcut:save"));break;case"refresh":_e(!1);break;case"print":window.print();break;default:console.log("[Layout] Unknown shortcut action:",ue)}},[O,f]);c2(_t);const W=(h==null?void 0:h.role)==="sys_admin",Le=a2(),ke=[{to:"/",label:"",icon:e.jsx(rv,{size:20}),visible:k.showDashboard&&Le.canShowDashboard},{to:"/products",label:" ()",icon:e.jsx(Ya,{size:20}),visible:k.showInventoryModule&&Le.canShowProducts&&(W||(($e=h==null?void 0:h.permissions)==null?void 0:$e.canManageProducts)!==!1)},{to:"/customers",label:" ",icon:e.jsx(Za,{size:20}),visible:k.showCustomersModule&&Le.canShowCustomers&&(W||((S=h==null?void 0:h.permissions)==null?void 0:S.canManageCustomers)!==!1)},{to:"/invoices",label:" ",icon:e.jsx(Fa,{size:20}),visible:k.showInvoicesModule&&Le.canShowInvoices&&(W||((we=h==null?void 0:h.permissions)==null?void 0:we.canCreateInvoices)!==!1)},{to:"/expenses",label:" ",icon:e.jsx(Pr,{size:20}),visible:k.showExpensesModule&&Le.canShowExpenses&&(W||((Nt=h==null?void 0:h.permissions)==null?void 0:Nt.canManageExpenses)!==!1)},{to:"/reports",label:" ",icon:e.jsx(kb,{size:20}),visible:k.showReportsModule&&Le.canShowReports&&(W||((Ot=h==null?void 0:h.permissions)==null?void 0:Ot.canViewReports)!==!1)},{to:"/notifications",label:"",icon:e.jsx(cr,{size:20}),visible:Le.canShowNotifications},{to:"/messages",label:"",icon:e.jsx(al,{size:20}),visible:Le.canShowMessages},{to:"/plans",label:" ",icon:e.jsx(Es,{size:20}),visible:!0},{to:"/settings",label:" ",icon:e.jsx(mr,{size:20}),visible:(k.showSettingsModule||W)&&Le.canShowSettings&&(W||((Jt=h==null?void 0:h.permissions)==null?void 0:Jt.canManageSettings)!==!1)}],se=()=>e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-white",children:""}),i>0&&e.jsxs("button",{onClick:b,className:"text-xs text-primary hover:text-blue-700 flex items-center gap-1",children:[e.jsx(Fo,{size:12}),"   "]})]}),e.jsx("div",{className:"overflow-y-auto flex-1 max-h-[300px] md:max-h-64 custom-scrollbar",children:u.length>0?u.map(ue=>e.jsxs("div",{onClick:()=>!ue.isRead&&c(ue.id),className:`p-3 border-b border-slate-50 dark:border-slate-700 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer transition-colors ${ue.isRead?"":"bg-blue-50/50 dark:bg-blue-900/10"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("span",{className:`text-xs font-bold ${ue.isRead?"text-slate-600 dark:text-slate-400":"text-primary dark:text-blue-400"}`,children:ue.title}),!ue.isRead&&e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300 line-clamp-2",children:ue.content}),e.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] text-slate-400",children:qs(ue.date)}),e.jsx("span",{className:"text-[10px] text-slate-400 bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:ue.sender})]})]},ue.id)):e.jsxs("div",{className:"p-6 text-center text-slate-400 flex flex-col items-center",children:[e.jsx(cr,{size:24,className:"mb-2 opacity-50"}),e.jsx("span",{className:"text-xs",children:"   "})]})})]});return e.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 overflow-hidden print:bg-white print:h-auto",children:[st&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-start justify-center pt-20 px-4 md:hidden animate-in fade-in",onClick:()=>Ye(!1),children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-xl shadow-2xl overflow-hidden animate-in slide-in-from-top-4",onClick:ue=>ue.stopPropagation(),children:[e.jsx(se,{}),e.jsx("div",{className:"p-2 border-t border-slate-100 dark:border-slate-700 text-center",children:e.jsx("button",{onClick:()=>Ye(!1),className:"text-sm text-slate-500 py-2 w-full hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:""})})]})}),Z&&at&&e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-white/95 dark:bg-slate-800/95 p-6 rounded-2xl shadow-2xl w-full max-w-xs animate-in zoom-in-95 duration-200 border border-slate-200/50 dark:border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"p-2.5 bg-blue-100 dark:bg-blue-900/50 rounded-full",children:e.jsx(Oa,{size:22,className:"text-blue-600 dark:text-blue-400 animate-spin"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:" "}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[Math.round(ee),"% "]})]})]}),e.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden mb-5",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-cyan-500 transition-all duration-100 ease-linear rounded-full",style:{width:`${ee}%`}})}),e.jsx("div",{className:"space-y-2",children:Gn.map((ue,Me)=>{const Dt=ue.icon,wt=Me<ae,lt=Me===ae;return e.jsxs("div",{className:`flex items-center gap-3 p-2.5 rounded-lg transition-all duration-300 ${lt?"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800":wt?"bg-green-50 dark:bg-green-900/20":"bg-slate-50 dark:bg-slate-700/50"}`,children:[e.jsx("div",{className:`p-1.5 rounded-full transition-colors ${lt?"bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300":wt?"bg-green-100 dark:bg-green-800 text-green-600 dark:text-green-300":"bg-slate-100 dark:bg-slate-600 text-slate-400"}`,children:wt?e.jsx(aa,{size:14}):lt?e.jsx(Dt,{size:14,className:"animate-pulse"}):e.jsx(Rf,{size:14})}),e.jsx("span",{className:`text-sm font-medium transition-colors ${lt?"text-blue-700 dark:text-blue-300":wt?"text-green-700 dark:text-green-300":"text-slate-400 dark:text-slate-500"}`,children:ue.label}),lt&&e.jsx("div",{className:"mr-auto",children:e.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}),wt&&e.jsx("span",{className:"mr-auto text-xs text-green-600 dark:text-green-400",children:""})]},ue.id)})})]})}),be&&Ce&&e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-white/95 dark:bg-slate-800/95 p-6 rounded-2xl shadow-2xl w-full max-w-xs animate-in zoom-in-95 duration-200 border border-emerald-200/50 dark:border-emerald-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"p-2.5 bg-emerald-100 dark:bg-emerald-900/50 rounded-full",children:e.jsx(Oa,{size:22,className:"text-emerald-600 dark:text-emerald-400 animate-spin"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:" "}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[Math.round(C),"% "]})]})]}),e.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden mb-5",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-teal-500 transition-all duration-100 ease-linear rounded-full",style:{width:`${C}%`}})}),e.jsx("div",{className:"space-y-2",children:Gn.map((ue,Me)=>{const Dt=ue.icon,wt=Me<he,lt=Me===he;return e.jsxs("div",{className:`flex items-center gap-3 p-2.5 rounded-lg transition-all duration-300 ${lt?"bg-emerald-50 dark:bg-emerald-900/30 border border-emerald-200 dark:border-emerald-800":wt?"bg-green-50 dark:bg-green-900/20":"bg-slate-50 dark:bg-slate-700/50"}`,children:[e.jsx("div",{className:`p-1.5 rounded-full transition-colors ${lt?"bg-emerald-100 dark:bg-emerald-800 text-emerald-600 dark:text-emerald-300":wt?"bg-green-100 dark:bg-green-800 text-green-600 dark:text-green-300":"bg-slate-100 dark:bg-slate-600 text-slate-400"}`,children:wt?e.jsx(aa,{size:14}):lt?e.jsx(Dt,{size:14,className:"animate-pulse"}):e.jsx(Rf,{size:14})}),e.jsx("span",{className:`text-sm font-medium transition-colors ${lt?"text-emerald-700 dark:text-emerald-300":wt?"text-green-700 dark:text-green-300":"text-slate-400 dark:text-slate-500"}`,children:ue.label}),lt&&e.jsx("div",{className:"mr-auto",children:e.jsx("div",{className:"w-4 h-4 border-2 border-emerald-500 border-t-transparent rounded-full animate-spin"})}),wt&&e.jsx("span",{className:"mr-auto text-xs text-green-600 dark:text-green-400",children:""})]},ue.id)})})]})}),ve&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-sm w-full animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-rose-600 mb-4",children:[e.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/50 p-2 rounded-full",children:e.jsx(Uf,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:" "})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-6",children:"         "}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:Ke,className:"flex-1 bg-rose-600 text-white py-2 rounded-lg font-bold hover:bg-rose-700 transition-colors",children:" "}),e.jsx("button",{onClick:()=>Ue(!1),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 py-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:""})]})]})}),je&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[110] p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800/95 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 sticky top-0 bg-white dark:bg-slate-800 z-10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 rounded-xl bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Ca,{size:22,className:"text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-blue-600 dark:text-blue-400",children:" "}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"  "})]})]}),e.jsx("button",{onClick:()=>Ee(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-xl text-slate-500 hover:text-slate-700 transition-all",children:e.jsx(gt,{size:22})})]})}),e.jsxs("form",{onSubmit:Oe,className:"p-6 space-y-5",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4 pb-5 border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-400",children:[e.jsx(Bs,{size:16,className:"text-purple-500"})," "]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-24 h-24 rounded-2xl overflow-hidden border-3 border-slate-200 dark:border-slate-600 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 flex items-center justify-center shadow-lg",children:me.logoUrl?e.jsx("img",{src:me.logoUrl,alt:" ",className:"w-full h-full object-cover",onError:ue=>{ue.target.style.display="none"}}):e.jsx("div",{className:"flex flex-col items-center gap-1 text-slate-400",children:e.jsx(Bs,{size:32})})}),e.jsx("input",{type:"file",id:"profile-logo-upload",accept:"image/png,image/jpeg,image/jpg,image/svg+xml,image/webp",className:"hidden",onChange:jt}),e.jsx("label",{htmlFor:"profile-logo-upload",className:"absolute inset-0 bg-black/50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",children:e.jsx(Qn,{size:20,className:"text-white"})})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"url",placeholder:"   URL...",value:(Zt=me.logoUrl)!=null&&Zt.startsWith("data:")?"":me.logoUrl||"",onChange:ue=>ie({...me,logoUrl:ue.target.value}),className:"px-3 py-2 border-2 border-slate-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-slate-800 dark:text-white text-xs w-52 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 outline-none transition-all"}),me.logoUrl&&e.jsx("button",{type:"button",onClick:()=>ie({...me,logoUrl:""}),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-xl transition-colors",title:" ",children:e.jsx(qt,{size:16})})]}),e.jsx("p",{className:"text-xs text-slate-400",children:"(PNG, JPG, SVG -   500KB)"})]}),e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:[e.jsx(Ca,{size:16,className:"text-emerald-500"})," "]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:me.name,onChange:ue=>ie({...me,name:ue.target.value}),className:"w-full border-2 border-slate-200 dark:border-slate-600 p-3 pr-10 rounded-xl bg-slate-50 dark:bg-slate-700/50 text-slate-900 dark:text-white focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20 outline-none transition-all",placeholder:" ..."}),e.jsx(Ca,{size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"})]})]}),e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:[e.jsx(Bs,{size:16,className:"text-blue-500"}),"  / "]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:me.companyName,onChange:ue=>ie({...me,companyName:ue.target.value}),className:`w-full border-2 border-slate-200 dark:border-slate-600 p-3 pr-10 rounded-xl bg-slate-50 dark:bg-slate-700/50 text-slate-900 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all ${h!=null&&h.parentId?"opacity-60 cursor-not-allowed":""}`,placeholder:"   ...",disabled:!!(h!=null&&h.parentId)}),e.jsx(Bs,{size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"})]}),(h==null?void 0:h.parentId)&&e.jsxs("p",{className:"flex items-center gap-1.5 text-xs text-amber-500 mt-2",children:[e.jsx(ga,{size:12}),"     "]})]}),e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:[e.jsx(Nl,{size:16,className:"text-amber-500"}),"  ",e.jsx("span",{className:"text-slate-400 text-xs font-normal",children:"()"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:me.password,onChange:ue=>ie({...me,password:ue.target.value}),className:"w-full border-2 border-slate-200 dark:border-slate-600 p-3 pr-10 rounded-xl bg-slate-50 dark:bg-slate-700/50 text-slate-900 dark:text-white focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 outline-none transition-all",placeholder:"     "}),e.jsx(Nl,{size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs("button",{type:"submit",disabled:We,className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-xl font-bold hover:from-blue-700 hover:to-indigo-700 flex items-center justify-center gap-2 disabled:opacity-50 shadow-lg shadow-blue-500/25 transition-all transform hover:-translate-y-0.5 active:translate-y-0",children:[We?e.jsx(xt,{className:"animate-spin",size:18}):e.jsx(aa,{size:18})," "]}),e.jsxs("button",{type:"button",onClick:()=>Ee(!1),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-200 py-3 rounded-xl hover:bg-slate-200 dark:hover:bg-slate-600 font-semibold flex items-center justify-center gap-2 transition-all",children:[e.jsx(gt,{size:18}),""]})]})]})]})}),e.jsx(d2,{isOpen:Se,onClose:()=>ye(!1)}),e.jsx(m2,{isOpen:Ge,onClose:()=>Re(!1)}),B&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden print:hidden",onClick:()=>J(!1)}),e.jsx("aside",{className:`fixed md:static inset-y-0 right-0 z-30 w-[280px] md:w-64 bg-white dark:bg-gradient-to-b dark:from-slate-800 dark:to-slate-900 shadow-xl md:shadow-lg transform transition-transform duration-300 ease-in-out print:hidden border-l border-slate-200 dark:border-slate-700 ${B?"translate-x-0":"translate-x-full md:translate-x-0"}`,children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-200 dark:border-slate-700/50 bg-gradient-to-br from-slate-50 to-white dark:from-slate-800 dark:to-slate-850",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary dark:text-blue-300",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-400 dark:to-blue-600 p-1.5 md:p-2 rounded-lg md:rounded-xl text-white shadow-lg shadow-blue-500/30 dark:shadow-blue-500/20",children:e.jsx(xd,{size:18})}),e.jsx("h1",{className:"text-base md:text-lg font-bold text-slate-800 dark:text-slate-100",children:" "})]}),e.jsx("button",{className:"md:hidden text-slate-500 dark:text-slate-400 p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",onClick:()=>J(!1),children:e.jsx(gt,{size:22})})]}),h&&e.jsxs("div",{onClick:()=>Ee(!0),className:`bg-white dark:bg-slate-700 border rounded-lg p-2 md:p-3 flex items-center gap-2 md:gap-3 shadow-sm mb-2 md:mb-3 cursor-pointer hover:shadow-md transition-all group ${h.role==="sys_admin"?"border-amber-400 ring-1 ring-amber-400":"border-slate-200 dark:border-slate-600 hover:border-blue-300"}`,children:[e.jsxs("div",{className:"relative w-9 h-9 md:w-10 md:h-10 rounded-full overflow-hidden border-2 border-slate-200 dark:border-slate-600 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-600 dark:to-slate-700 flex items-center justify-center group-hover:border-primary transition-colors shrink-0",children:[h.accountLogo?e.jsx("img",{src:h.accountLogo,alt:h.companyName,className:"w-full h-full object-cover",onError:ue=>{var Me;ue.target.style.display="none",(Me=ue.target.nextElementSibling)==null||Me.classList.remove("hidden")}}):null,e.jsx("div",{className:`${h.accountLogo?"hidden":""} p-2 rounded-full transition-colors ${h.role==="sys_admin"?"bg-amber-100 text-amber-600":"bg-blue-100 dark:bg-slate-600 text-primary dark:text-blue-300 group-hover:bg-blue-600 group-hover:text-white"}`,children:h.role==="sys_admin"?e.jsx(tl,{size:16}):e.jsx(Ca,{size:16})})]}),e.jsxs("div",{className:"overflow-hidden flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs md:text-sm font-bold text-slate-800 dark:text-white truncate",children:h.companyName}),e.jsxs("p",{className:"text-[9px] md:text-[10px] text-slate-500 dark:text-slate-400 truncate flex items-center gap-1",children:[h.name,h.role==="sys_admin"&&e.jsx("span",{className:"text-amber-500 font-bold",children:"(Admin)"}),h.parentId&&e.jsx("span",{className:"text-[9px] bg-slate-100 dark:bg-slate-600 px-1 rounded",children:""})]})]}),e.jsx(mr,{size:12,className:"text-slate-300 group-hover:text-blue-500 shrink-0"})]}),Ae&&e.jsxs(Ou,{to:"/plans",onClick:()=>J(!1),className:"block bg-gradient-to-r from-violet-50 to-purple-50 dark:from-violet-900/30 dark:to-purple-900/30 p-2 md:p-2.5 rounded-lg border border-violet-200 dark:border-violet-700/50 hover:shadow-md transition-all group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Es,{size:12,className:"text-violet-600 dark:text-violet-400"}),e.jsx("span",{className:"text-[10px] md:text-xs font-bold text-violet-700 dark:text-violet-300",children:Ae.planName})]}),Ae.daysRemaining<=7&&Ae.daysRemaining>0&&e.jsxs("span",{className:"text-[8px] bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-400 px-1 py-0.5 rounded",children:[Ae.daysRemaining,"d"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsxs("div",{className:"text-[8px] md:text-[9px] text-slate-500 dark:text-slate-400 flex items-center justify-between",children:[e.jsx("span",{children:""}),e.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:[Ae.currentMonthInvoices,"/",Ae.maxInvoices===-1?"":Ae.maxInvoices]})]}),e.jsxs("div",{className:"text-[8px] md:text-[9px] text-slate-500 dark:text-slate-400 flex items-center justify-between",children:[e.jsx("span",{children:""}),e.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:[Ae.currentCustomers,"/",Ae.maxCustomers===-1?"":Ae.maxCustomers]})]})]}),e.jsx("div",{className:"mt-1.5 h-1 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all ${Ae.invoicesPercentage>=90?"bg-rose-500":Ae.invoicesPercentage>=70?"bg-amber-500":"bg-violet-500"}`,style:{width:`${Math.min(Ae.invoicesPercentage,100)}%`}})})]}),e.jsxs("div",{className:"flex gap-1.5 md:gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1 md:gap-2 bg-white/50 dark:bg-slate-700/50 p-1.5 md:p-2 rounded-lg border border-slate-100 dark:border-slate-600",children:[L?e.jsx(Ej,{size:12,className:"text-emerald-500"}):e.jsx(Sj,{size:12,className:"text-rose-500"}),e.jsx("span",{className:`text-[9px] md:text-[10px] font-bold ${L?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"}`,children:L?"":""})]}),e.jsxs("div",{className:"flex items-center gap-1 md:gap-2 bg-white/50 dark:bg-slate-700/50 p-1.5 md:p-2 rounded-lg border border-slate-100 dark:border-slate-600",title:D?" ":"   -  ",children:[e.jsx(Jo,{size:12,className:D?"text-emerald-500":"text-amber-500"}),e.jsx("span",{className:`text-[9px] md:text-[10px] font-bold ${D?"text-emerald-600 dark:text-emerald-400":"text-amber-600 dark:text-amber-400"}`,children:D?"API":""})]}),e.jsx("button",{onClick:f,className:"p-1.5 md:p-2 rounded-lg border border-slate-100 dark:border-slate-600 bg-white/50 dark:bg-slate-700/50 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",title:j?" ":" ",children:j?e.jsx(qu,{size:12}):e.jsx(Iu,{size:12})}),e.jsx("button",{onClick:()=>ye(!0),className:"p-1.5 md:p-2 rounded-lg border border-slate-100 dark:border-slate-600 bg-white/50 dark:bg-slate-700/50 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors group",title:"  (Ctrl+K)",children:e.jsx(ua,{size:12,className:"group-hover:text-blue-500 transition-colors"})}),e.jsx("button",{onClick:()=>Re(!0),className:"hidden md:flex p-1.5 md:p-2 rounded-lg border border-slate-100 dark:border-slate-600 bg-white/50 dark:bg-slate-700/50 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors group",title:"   (Ctrl+/)",children:e.jsx(wb,{size:12,className:"group-hover:text-purple-500 transition-colors"})}),e.jsxs("div",{className:"relative hidden md:block",ref:T,children:[e.jsxs("button",{onClick:()=>Ye(!st),className:`p-1.5 md:p-2 rounded-lg border border-slate-100 dark:border-slate-600 bg-white/50 dark:bg-slate-700/50 transition-colors ${st?"bg-blue-100 dark:bg-slate-600 text-primary":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,title:"",children:[e.jsx(cr,{size:12}),i>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-rose-500 text-white text-[8px] font-bold w-3.5 h-3.5 rounded-full flex items-center justify-center animate-bounce",children:i>9?"+":i})]}),st&&e.jsx("div",{className:"absolute top-10 right-0 z-[100] w-72 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 overflow-hidden animate-in fade-in slide-in-from-top-2",children:e.jsx(se,{})})]})]})]}),e.jsx("nav",{className:"flex-1 p-2 md:p-4 space-y-1 md:space-y-2 overflow-y-auto",children:ke.filter(ue=>ue.visible).map(ue=>e.jsxs(Ou,{to:ue.to,onClick:()=>J(!1),className:({isActive:Me})=>`flex items-center gap-2 md:gap-3 px-3 md:px-4 py-2.5 md:py-3 rounded-lg md:rounded-xl transition-all duration-200 text-sm md:text-base ${Me?"bg-gradient-to-l from-blue-500 to-blue-600 text-white font-semibold shadow-lg shadow-blue-500/30 dark:shadow-blue-500/20":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700/70 hover:text-blue-600 dark:hover:text-blue-400 active:bg-slate-200 dark:active:bg-slate-600"}`,children:[tb.cloneElement(ue.icon,{size:18}),e.jsx("span",{children:ue.label})]},ue.to))}),e.jsxs("div",{className:"p-3 md:p-4 border-t border-slate-200 dark:border-slate-700/50 bg-gradient-to-t from-slate-100 to-white dark:from-slate-900 dark:to-slate-850 space-y-2 md:space-y-3",children:[N&&M>0&&L&&D&&e.jsxs("button",{onClick:()=>_e(!1),disabled:be,className:"relative w-full flex items-center justify-center gap-1.5 md:gap-2 py-2 md:py-2.5 rounded-lg text-[11px] md:text-xs font-medium overflow-hidden bg-cyan-50 dark:bg-cyan-900/20 text-cyan-700 dark:text-cyan-300 border border-cyan-200 dark:border-cyan-800 hover:bg-cyan-100 dark:hover:bg-cyan-900/40 transition-colors cursor-pointer",title:"  ",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 bg-cyan-500/30 dark:bg-cyan-400/30 transition-all duration-1000 ease-linear",style:{width:`${(M-F)/M*100}%`}}),e.jsx(Oa,{size:12,className:`relative z-10 ${be?"animate-spin text-cyan-500":""}`}),e.jsx("span",{className:"relative z-10",children:be?" ...":`   ${F}`})]}),k.showDataSync&&e.jsxs("button",{onClick:He,disabled:!L||Z,className:`relative w-full flex items-center justify-center gap-1.5 md:gap-2 py-2 md:py-2.5 rounded-lg text-[11px] md:text-xs font-medium transition-all overflow-hidden ${L?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 hover:bg-indigo-100 dark:hover:bg-indigo-900/40 border border-indigo-200 dark:border-indigo-800":"bg-slate-100 dark:bg-slate-800 text-slate-400 cursor-not-allowed"}`,children:[Z&&e.jsx("div",{className:"absolute inset-y-0 left-0 bg-indigo-500/20 dark:bg-indigo-400/20 transition-all duration-100 ease-linear",style:{width:`${ee}%`}}),e.jsx(nd,{size:12,className:`relative z-10 ${Z?"animate-pulse text-indigo-500":""}`}),e.jsx("span",{className:"relative z-10",children:Z?`  ${Math.round(ee)}%`:" "})]}),e.jsxs("button",{type:"button",onClick:Ze,className:"w-full flex items-center justify-center gap-1.5 md:gap-2 py-2 rounded-lg text-[11px] md:text-xs font-medium bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400 hover:bg-rose-100 dark:hover:bg-rose-900/40 transition-colors",children:[e.jsx(Uf,{size:12})," "]})]})]})}),e.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden print:overflow-visible print:h-auto",children:[e.jsxs("header",{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-lg shadow-sm p-4 md:hidden flex items-center justify-between z-10 print:hidden border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary dark:text-blue-400 font-bold",children:[e.jsx(xd,{size:24}),e.jsx("span",{children:""})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>Ye(!0),className:"p-2 text-slate-600 dark:text-slate-300 relative",children:[e.jsx(cr,{size:24}),i>0&&e.jsx("span",{className:"absolute top-1 right-1 bg-rose-500 text-white text-[10px] font-bold w-4 h-4 rounded-full flex items-center justify-center animate-bounce",children:i})]}),L?e.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full"}):e.jsx("div",{className:"w-3 h-3 bg-rose-500 rounded-full"}),e.jsx("button",{onClick:()=>J(!0),className:"p-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:e.jsx(jv,{size:24})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-8 print:p-0 print:overflow-visible",children:e.jsx(fy,{})})]})]})},fr=({title:r="   ",message:i="     .       ."})=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-3",children:r}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:i}),e.jsxs("a",{href:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-white rounded-xl hover:bg-blue-600 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})," "]})]})}),f2=({isOpen:r,onClose:i,widgets:u,onToggleVisibility:c,onReset:b})=>{if(!r)return null;const h={};u.forEach(f=>{h[f.category]||(h[f.category]=[]),h[f.category].push(f)});const y={stats:"",charts:" ",lists:"",performance:""},j={stats:e.jsx(Bo,{size:16,className:"text-blue-500"}),charts:e.jsx(Bo,{size:16,className:"text-green-500"}),lists:e.jsx(Bo,{size:16,className:"text-purple-500"}),performance:e.jsx(Bo,{size:16,className:"text-orange-500"})};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md max-h-[80vh] overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"bg-gradient-to-l from-blue-600 to-blue-700 p-4 text-white flex justify-between items-center",children:[e.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[e.jsx(Ku,{size:20}),"  "]}),e.jsx("button",{onClick:i,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:e.jsx(gt,{size:20})})]}),e.jsxs("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:[e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"       .    ."}),Object.entries(h).map(([f,p])=>e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-3 flex items-center gap-2",children:[j[f],y[f]]}),e.jsx("div",{className:"space-y-2",children:p.map(k=>e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border transition-all cursor-pointer ${k.visible?"bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600 hover:border-blue-300 dark:hover:border-blue-500":"bg-slate-50 dark:bg-slate-800/50 border-slate-100 dark:border-slate-700 opacity-60"}`,onClick:()=>c(k.id),children:[e.jsx(J1,{size:16,className:"text-slate-300 dark:text-slate-600 cursor-grab"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm font-medium truncate ${k.visible?"text-slate-700 dark:text-slate-200":"text-slate-400 dark:text-slate-500"}`,children:k.title}),e.jsxs("p",{className:"text-[10px] text-slate-400 dark:text-slate-500",children:[": ",k.size==="small"?"":k.size==="medium"?"":k.size==="large"?"":" "]})]}),e.jsx("div",{className:`p-2 rounded-full transition-colors ${k.visible?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-slate-100 dark:bg-slate-700 text-slate-400 dark:text-slate-500"}`,children:k.visible?e.jsx(_a,{size:16}):e.jsx(dd,{size:16})})]},k.id))})]},f))]}),e.jsxs("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800/50",children:[e.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 text-sm text-slate-600 dark:text-slate-400 hover:text-rose-600 dark:hover:text-rose-400 transition-colors",children:[e.jsx(Bu,{size:16})," "]}),e.jsx("button",{onClick:i,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:""})]})]})})},ex=[{id:"widget-1",type:"total-revenue",title:" ",icon:"DollarSign",position:1,visible:!0,size:"small",category:"stats"},{id:"widget-2",type:"total-expenses",title:" ",icon:"ShoppingBag",position:2,visible:!0,size:"small",category:"stats"},{id:"widget-3",type:"net-profit",title:" ",icon:"TrendingUp",position:3,visible:!0,size:"small",category:"stats"},{id:"widget-4",type:"outstanding-debts",title:" ",icon:"CreditCard",position:4,visible:!0,size:"small",category:"stats"},{id:"widget-5",type:"revenue-comparison",title:"  ",icon:"BarChart",position:5,visible:!0,size:"full",category:"charts"},{id:"widget-6",type:"monthly-chart",title:" ",icon:"LineChart",position:6,visible:!0,size:"large",category:"charts"},{id:"widget-7",type:"revenue-breakdown",title:" ",icon:"PieChart",position:7,visible:!0,size:"medium",category:"charts"},{id:"widget-8",type:"recent-invoices",title:" ",icon:"FileText",position:8,visible:!0,size:"medium",category:"lists"},{id:"widget-9",type:"top-products",title:"  ",icon:"Package",position:9,visible:!0,size:"medium",category:"lists"},{id:"widget-10",type:"top-customers",title:" ",icon:"Users",position:10,visible:!1,size:"medium",category:"lists"},{id:"widget-11",type:"performance-indicators",title:" ",icon:"Activity",position:11,visible:!0,size:"large",category:"performance"},{id:"widget-12",type:"plan-usage",title:" ",icon:"Crown",position:12,visible:!0,size:"medium",category:"performance"},{id:"widget-13",type:"low-stock-alert",title:" ",icon:"AlertTriangle",position:13,visible:!0,size:"small",category:"performance"},{id:"widget-14",type:"quick-actions",title:" ",icon:"Zap",position:14,visible:!0,size:"small",category:"performance"}],tx="dashboard_widgets_config";function b2(){try{const r=localStorage.getItem(tx);if(r){const i=JSON.parse(r);return y2(i)}}catch(r){console.error("Error loading widget config:",r)}return[...ex]}function p2(r){try{localStorage.setItem(tx,JSON.stringify(r))}catch(i){console.error("Error saving widget config:",i)}}function g2(){return localStorage.removeItem(tx),[...ex]}function y2(r){const i=new Set(r.map(c=>c.id)),u=[...r];return ex.forEach(c=>{i.has(c.id)||u.push({...c,position:u.length+1})}),u.sort((c,b)=>c.position-b.position)}function v2(r,i,u){const c=[...r],[b]=c.splice(i,1);return c.splice(u,0,b),c.map((h,y)=>({...h,position:y+1}))}function j2(r,i){return r.map(u=>u.id===i?{...u,visible:!u.visible}:u)}function k2(r,i,u){return r.map(c=>c.id===i?{...c,size:u}:c)}function N2(r){return r.filter(i=>i.visible).sort((i,u)=>i.position-u.position)}function w2(){const[r,i]=x.useState([]),[u,c]=x.useState(!1),[b,h]=x.useState(null);x.useEffect(()=>{const w=b2();i(w)},[]),x.useEffect(()=>{r.length>0&&p2(r)},[r]);const y=N2(r),j=x.useCallback(w=>{h(w)},[]),f=x.useCallback(w=>{w.preventDefault()},[]),p=x.useCallback(w=>{if(!b||b===w){h(null);return}const O=r.findIndex(J=>J.id===b),B=r.findIndex(J=>J.id===w);if(O!==-1&&B!==-1){const J=v2(r,O,B);i(J)}h(null)},[b,r]),k=x.useCallback(w=>{i(O=>j2(O,w))},[]),N=x.useCallback((w,O)=>{i(B=>k2(B,w,O))},[]),M=x.useCallback(()=>{const w=g2();i(w)},[]),z=x.useCallback(()=>{c(w=>!w)},[]);return{widgets:r,visibleWidgets:y,editMode:u,draggedWidget:b,toggleEditMode:z,handleDragStart:j,handleDragOver:f,handleDrop:p,handleToggleVisibility:k,handleUpdateSize:N,handleReset:M}}const S2=()=>{const{currency:r,autoRefreshEnabled:i,autoRefreshInterval:u}=zl(),{user:c}=sa(),[b,h]=x.useState(null),[y,j]=x.useState(!1),[f,p]=x.useState(u||30),[k,N]=x.useState(!1),{widgets:M,handleToggleVisibility:z,handleReset:w}=w2(),[O,B]=x.useState(!1),{customers:J,loading:L,refresh:U}=gd(),{products:D,loading:q,refresh:Z}=pd(),{invoices:P,loading:ee,refresh:I}=yd(),{expenses:ae,loading:xe,refresh:ve}=oc(),{loading:Ue,refresh:st}=Ob(),Ye=hr("dashboard"),T=L||q||ee||xe||Ue,F=ge=>{const Se=M.find(ye=>ye.type===ge);return(Se==null?void 0:Se.visible)??!0};x.useEffect(()=>{(async()=>{if(c!=null&&c.accountId)try{j(!0);const Se=await is.getUsage(c.accountId);h(Se)}catch(Se){console.error("Error loading account usage:",Se)}finally{j(!1)}})()},[c==null?void 0:c.accountId]),x.useEffect(()=>{if(!i||u<=0){p(u>0?u:30);return}const ge=setInterval(()=>{p(Se=>Se<=1?(ne(),u):Se-1)},1e3);return()=>clearInterval(ge)},[i,u]);const ne=async()=>{N(!0);try{await Promise.all([U==null?void 0:U(),Z==null?void 0:Z(),I==null?void 0:I(),ve==null?void 0:ve(),st==null?void 0:st()])}catch(ge){console.error("Refresh error:",ge)}finally{N(!1),p(u||30)}};if(Ye.checked&&!Ye.canView)return e.jsx(fr,{});const be=x.useMemo(()=>{const ge=P.reduce((Q,pe)=>Q+(pe.paidAmount||0),0),Se=ae.filter(Q=>{var pe;return!((pe=Q.transactionTypeCode)!=null&&pe.includes("PURCHASE"))&&Q.transactionTypeCode!=="OTHER_REV"}).reduce((Q,pe)=>Q+(pe.totalAmount||0),0),ye=ae.filter(Q=>{var pe;return(pe=Q.transactionTypeCode)==null?void 0:pe.includes("PURCHASE")}).reduce((Q,pe)=>Q+(pe.totalAmount||0),0),Ge=P.reduce((Q,pe)=>Q+(pe.remainingAmount||0),0),Re=ae.filter(Q=>Q.transactionTypeCode==="OTHER_REV").reduce((Q,pe)=>Q+(pe.totalAmount||0),0),Ae=ge+Re-Se-ye;return{totalRevenue:ge,totalExpenses:Se,totalPurchases:ye,netProfit:Ae,outstandingDebts:Ge,totalOtherIncome:Re}},[P,ae]),ce=x.useMemo(()=>{const ge=P.filter(Ae=>(Ae.remainingAmount||0)<=0),Se=P.filter(Ae=>(Ae.remainingAmount||0)>0),ye=ge.reduce((Ae,Q)=>Ae+(Q.paidAmount||0),0),Ge=Se.reduce((Ae,Q)=>Ae+(Q.paidAmount||0),0),Re=ae.filter(Ae=>Ae.transactionTypeCode==="OTHER_REV").reduce((Ae,Q)=>Ae+(Q.totalAmount||0),0);return{directSales:ye,collections:Ge,otherIncome:Re}},[P,ae]),C=x.useMemo(()=>{const ge=new Array(12).fill(0).map(()=>({revenue:0,expense:0,otherIncome:0})),Se=ye=>{if(!ye)return-1;if(ye.includes("-")){const Re=ye.split("-");if(Re.length>=2){const Ae=parseInt(Re[1],10)-1;if(!isNaN(Ae))return Ae}}const Ge=new Date(ye);return isNaN(Ge.getTime())?-1:Ge.getMonth()};return P.forEach(ye=>{const Ge=Se(ye.date);Ge>=0&&Ge<12&&(ge[Ge].revenue+=ye.totalAmount)}),ae.forEach(ye=>{const Ge=Se(ye.expenseDate);Ge>=0&&Ge<12&&ye.transactionTypeCode!=="OTHER_REV"&&(ge[Ge].expense+=Number(ye.totalAmount)||0)}),ae.filter(ye=>ye.transactionTypeCode==="OTHER_REV").forEach(ye=>{const Ge=Se(ye.expenseDate);Ge>=0&&Ge<12&&(ge[Ge].otherIncome+=Number(ye.totalAmount)||0)}),ge},[P,ae]),Y=x.useMemo(()=>ae.filter(ge=>ge.transactionTypeCode==="OTHER_REV").map(ge=>({id:ge.id,description:ge.description,amount:ge.totalAmount||0,date:ge.expenseDate})).sort((ge,Se)=>new Date(Se.date).getTime()-new Date(ge.date).getTime()),[ae]),he=x.useMemo(()=>{const ge=P.filter(ye=>(ye.remainingAmount||0)>0),Se=P.filter(ye=>(ye.remainingAmount||0)===0);return{total:P.length,cash:Se.length,credit:ge.length}},[P]),le=x.useMemo(()=>{const ge=be.totalRevenue>0?be.netProfit/be.totalRevenue*100:0,Se=P.length>0&&P.reduce((Re,Ae)=>Re+Ae.paidAmount,0)/P.reduce((Re,Ae)=>Re+Ae.totalAmount,0)*100||0,ye=P.length>0?P.reduce((Re,Ae)=>Re+Ae.totalAmount,0)/P.length:0,Ge=D.filter(Re=>Re.stock<=(Re.minStockLevel||5)).length;return{profitMargin:ge.toFixed(1),collectionRate:Se.toFixed(1),avgInvoiceValue:ye,lowStockProducts:Ge,totalSales:P.length,activeCustomers:J.filter(Re=>Re.isActive!==!1).length}},[be,P,D,J]),je=x.useMemo(()=>{const ge=[];if(P.forEach(Re=>{Re.date&&ge.push(new Date(Re.date))}),ae.forEach(Re=>{Re.expenseDate&&ge.push(new Date(Re.expenseDate))}),ge.length===0)return{from:null,to:null,text:"  "};const Se=ge.sort((Re,Ae)=>Re.getTime()-Ae.getTime()),ye=Se[0],Ge=Se[Se.length-1];return{from:ye,to:Ge,text:`${qs(ye)} - ${qs(Ge)}`}},[P,ae]),Ee=Math.max(...C.map(ge=>Math.max(ge.revenue,ge.expense,ge.otherIncome)),500),me=x.useMemo(()=>{const ge={};return P.forEach(Se=>{Se.items.forEach(ye=>{ge[ye.name]=(ge[ye.name]||0)+ye.quantity})}),Object.entries(ge).sort((Se,ye)=>ye[1]-Se[1]).slice(0,5)},[P]);if(T)return e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xt,{className:"animate-spin h-12 w-12 text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"   ..."})]})});const ie=({title:ge,value:Se,color:ye,icon:Ge,children:Re,period:Ae})=>e.jsxs("div",{className:"bg-white dark:bg-slate-800/80 p-2 sm:p-3 md:p-5 rounded-lg sm:rounded-xl shadow-sm border border-slate-200 dark:border-slate-700/50 flex flex-col justify-between transition-all hover:shadow-md active:scale-[0.98] md:hover:scale-[1.02] duration-200 h-full relative overflow-hidden backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-start justify-between gap-1 sm:gap-2 mb-1 sm:mb-2 z-10",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-[8px] sm:text-xs md:text-sm font-medium mb-0.5 sm:mb-1 leading-tight line-clamp-2 sm:truncate",children:ge}),e.jsx("h3",{className:`text-sm sm:text-xl md:text-3xl font-black ${ye} leading-none tracking-tight tabular-nums`,style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:Se.toLocaleString("en-US")}),e.jsx("div",{className:"flex items-center gap-1 mt-0.5",children:e.jsx("span",{className:"text-[6px] sm:text-[9px] md:text-xs text-slate-400 dark:text-slate-500 font-medium",children:r})})]}),e.jsx("div",{className:`p-1 sm:p-2 md:p-3 rounded-md sm:rounded-lg md:rounded-xl bg-opacity-10 dark:bg-opacity-30 ${ye.replace("text","bg")} shrink-0`,children:e.jsx(Ge,{className:`${ye} w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5`})})]}),Re&&e.jsx("div",{className:"mt-1.5 sm:mt-3 md:mt-4 pt-1.5 sm:pt-2 md:pt-3 border-t border-slate-100 dark:border-slate-700/50 z-10",children:Re})]}),Ce=be.totalRevenue+be.totalOtherIncome,Qe=be.totalExpenses+be.totalPurchases,at=Ce+Qe||1;return e.jsxs("div",{className:"space-y-4 md:space-y-6 px-1 md:px-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-1",children:[e.jsxs("div",{className:"flex items-center gap-1 md:gap-2 min-w-0",children:[e.jsx(a1,{className:"text-primary shrink-0 w-4 h-4 md:w-5 md:h-5"}),e.jsx("h2",{className:"text-xs sm:text-sm md:text-xl font-bold text-slate-800 dark:text-white truncate",children:" "})]}),e.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 md:gap-2 shrink-0",children:[e.jsxs("div",{className:"hidden sm:flex text-[7px] sm:text-[8px] md:text-[10px] bg-blue-50 dark:bg-blue-900/30 px-1 sm:px-1.5 md:px-2 py-0.5 md:py-1 rounded-full text-blue-600 dark:text-blue-400 whitespace-nowrap items-center gap-0.5",children:[" ",je.text]}),e.jsxs("div",{className:`text-[7px] sm:text-[8px] md:text-[11px] px-1 sm:px-1.5 md:px-2 py-0.5 md:py-1 rounded-full font-semibold flex items-center gap-0.5 ${be.netProfit>=0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400"}`,children:[be.netProfit>=0?e.jsx(sl,{className:"w-2 h-2 sm:w-2.5 sm:h-2.5"}):e.jsx(_f,{className:"w-2 h-2 sm:w-2.5 sm:h-2.5"}),e.jsx("span",{className:"hidden sm:inline",children:be.netProfit>=0?"":""})]}),e.jsx("div",{className:"text-[7px] sm:text-[8px] md:text-[11px] bg-slate-100 dark:bg-slate-800 px-1 sm:px-1.5 md:px-2 py-0.5 md:py-1 rounded-full text-slate-500 dark:text-slate-400 whitespace-nowrap",children:qs(new Date)}),i&&u>0&&e.jsxs("button",{onClick:ne,disabled:k,className:"relative flex items-center gap-0.5 sm:gap-1 px-1.5 sm:px-2 py-0.5 sm:py-1 bg-cyan-50 dark:bg-cyan-900/30 rounded-full shadow-sm text-cyan-600 dark:text-cyan-400 border border-cyan-200 dark:border-cyan-700 hover:bg-cyan-100 dark:hover:bg-cyan-900/50 transition-all shrink-0 overflow-hidden text-[7px] sm:text-[9px] md:text-[10px] font-medium",title:`   ${f}`,children:[e.jsx("div",{className:"absolute inset-0 bg-cyan-200 dark:bg-cyan-700/50 transition-all duration-1000 ease-linear",style:{width:`${(u-f)/u*100}%`}}),e.jsx(Oa,{className:`w-2.5 h-2.5 sm:w-3 sm:h-3 relative z-10 ${k?"animate-spin":""}`}),e.jsx("span",{className:"relative z-10 tabular-nums",children:f})]}),e.jsx("button",{onClick:()=>B(!0),className:"flex items-center justify-center w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8 bg-white dark:bg-slate-800 rounded-full shadow-sm text-slate-500 dark:text-slate-400 border border-slate-200 dark:border-slate-700 hover:border-blue-400 transition-all shrink-0",title:"",children:e.jsx(Ku,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 md:w-3.5 md:h-3.5 text-blue-500"})})]})]}),e.jsx(f2,{isOpen:O,onClose:()=>B(!1),widgets:M,onToggleVisibility:z,onReset:w}),i&&u>0&&e.jsxs("button",{onClick:ne,disabled:k,className:"sm:hidden relative w-full flex items-center justify-center gap-2 py-2 bg-gradient-to-r from-cyan-50 to-blue-50 dark:from-cyan-900/20 dark:to-blue-900/20 rounded-lg border border-cyan-200 dark:border-cyan-800 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 bg-cyan-200/50 dark:bg-cyan-700/30 transition-all duration-1000 ease-linear",style:{width:`${(u-f)/u*100}%`}}),e.jsx(Oa,{className:`w-3.5 h-3.5 text-cyan-600 dark:text-cyan-400 relative z-10 ${k?"animate-spin":""}`}),e.jsx("span",{className:"text-[11px] font-medium text-cyan-700 dark:text-cyan-300 relative z-10",children:k?" ...":`   ${f} `})]}),F("revenue-comparison")&&e.jsxs("div",{className:"bg-white dark:bg-slate-800/80 p-2 sm:p-3 md:p-6 rounded-lg sm:rounded-xl shadow-sm border border-slate-200 dark:border-slate-700/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3 md:mb-4",children:[e.jsxs("h3",{className:"text-[10px] sm:text-xs md:text-sm font-bold text-slate-600 dark:text-slate-300 flex items-center gap-1 sm:gap-2",children:[e.jsx(Hu,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-primary"}),"  "]}),e.jsxs("span",{className:"text-[7px] sm:text-[9px] md:text-[11px] bg-slate-100 dark:bg-slate-700 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-slate-500 dark:text-slate-400",children:[" ",Fj(new Date)]})]}),e.jsxs("div",{className:"h-5 sm:h-6 md:h-6 w-full bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden flex shadow-inner",children:[e.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-400 to-emerald-600 transition-all duration-1000 ease-out flex items-center justify-center",style:{width:`${Ce/at*100}%`},children:Ce>0&&e.jsxs("span",{className:"text-[7px] sm:text-[8px] md:text-[10px] text-white font-bold px-0.5",children:[(Ce/at*100).toFixed(0),"%"]})}),e.jsx("div",{className:"h-full bg-gradient-to-r from-rose-400 to-rose-600 transition-all duration-1000 ease-out flex items-center justify-center",style:{width:`${Qe/at*100}%`},children:Qe>0&&e.jsxs("span",{className:"text-[7px] sm:text-[8px] md:text-[10px] text-white font-bold px-0.5",children:[(Qe/at*100).toFixed(0),"%"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-1.5 sm:gap-2 md:gap-3 mt-2 sm:mt-3 text-[9px] sm:text-[10px] md:text-xs",children:[e.jsxs("div",{className:"flex items-center justify-between sm:justify-start gap-1 text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 rounded px-2 py-1 sm:bg-transparent sm:p-0",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-emerald-500 shrink-0"}),e.jsx("span",{children:""})]}),e.jsx("b",{className:"tabular-nums",children:Ce.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between sm:justify-start gap-1 text-rose-600 dark:text-rose-400 bg-rose-50 dark:bg-rose-900/20 rounded px-2 py-1 sm:bg-transparent sm:p-0",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-rose-500 shrink-0"}),e.jsx("span",{children:""})]}),e.jsx("b",{className:"tabular-nums",children:Qe.toLocaleString()})]}),e.jsxs("div",{className:`flex items-center justify-between sm:justify-end gap-1 rounded px-2 py-1 sm:bg-transparent sm:p-0 ${be.netProfit>=0?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/20"}`,children:[e.jsx("span",{className:"sm:hidden",children:""}),e.jsxs("b",{className:"tabular-nums",children:[be.netProfit>0?"+":"",be.netProfit.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-1.5 sm:gap-2 md:gap-4",children:[e.jsx(ie,{title:"",value:Ce,color:"text-emerald-600 dark:text-emerald-400",icon:xd,period:je.text,children:e.jsxs("div",{className:"space-y-1 sm:space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-400",children:[e.jsxs("span",{className:"flex items-center gap-0.5 text-[8px] sm:text-[10px] md:text-xs",children:[e.jsx(Uu,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-emerald-500"})," "]}),e.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400 text-[10px] sm:text-xs",style:{fontFamily:"system-ui"},children:ce.directSales.toLocaleString("en-US")})]}),e.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-400",children:[e.jsxs("span",{className:"flex items-center gap-0.5 text-[8px] sm:text-[10px] md:text-xs",children:[e.jsx(Oa,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-blue-500"})," "]}),e.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400 text-[10px] sm:text-xs",style:{fontFamily:"system-ui"},children:ce.collections.toLocaleString("en-US")})]}),e.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-400 border-t border-dashed dark:border-slate-600 pt-1",children:[e.jsxs("span",{className:"flex items-center gap-0.5 text-[8px] sm:text-[10px] md:text-xs",children:[e.jsx(sl,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-violet-500"})," "]}),e.jsx("span",{className:"font-bold text-violet-600 dark:text-violet-400 text-[10px] sm:text-xs",style:{fontFamily:"system-ui"},children:ce.otherIncome.toLocaleString("en-US")})]})]})}),e.jsx(ie,{title:" ",value:be.outstandingDebts,color:"text-amber-600 dark:text-amber-400",icon:Jr,period:je.text,children:e.jsxs("div",{className:"space-y-1 sm:space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-400",children:[e.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs",children:" "}),e.jsx("span",{className:"font-bold text-amber-600 dark:text-amber-400 text-[10px] sm:text-xs",style:{fontFamily:"system-ui"},children:he.credit})]}),e.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-400",children:[e.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs",children:" "}),e.jsxs("span",{className:`font-bold text-[10px] sm:text-xs ${Number(le.collectionRate)>=70?"text-emerald-600":"text-orange-600"}`,style:{fontFamily:"system-ui"},children:[le.collectionRate,"%"]})]})]})}),e.jsx(ie,{title:"",value:Qe,color:"text-rose-600 dark:text-rose-400",icon:_f,period:je.text,children:e.jsxs("div",{className:"space-y-1 sm:space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-400",children:[e.jsxs("span",{className:"flex items-center gap-0.5 text-[8px] sm:text-[10px] md:text-xs",children:[e.jsx(lc,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-rose-500"})," "]}),e.jsx("span",{className:"font-bold text-rose-600 dark:text-rose-400 text-[10px] sm:text-xs",style:{fontFamily:"system-ui"},children:be.totalExpenses.toLocaleString("en-US")})]}),e.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-400",children:[e.jsxs("span",{className:"flex items-center gap-0.5 text-[8px] sm:text-[10px] md:text-xs",children:[e.jsx(Pr,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-orange-500"})," "]}),e.jsx("span",{className:"font-bold text-orange-600 dark:text-orange-400 text-[10px] sm:text-xs",style:{fontFamily:"system-ui"},children:be.totalPurchases.toLocaleString("en-US")})]})]})}),e.jsx(ie,{title:" ",value:be.netProfit,color:be.netProfit>=0?"text-primary dark:text-blue-400":"text-rose-600 dark:text-rose-400",icon:be.netProfit>=0?Df:ga,period:je.text,children:e.jsxs("div",{className:"space-y-1 sm:space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-400",children:[e.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs",children:" "}),e.jsxs("span",{className:`font-bold text-[10px] sm:text-xs ${Number(le.profitMargin)>=20?"text-emerald-600":Number(le.profitMargin)>=0?"text-amber-600":"text-rose-600"}`,style:{fontFamily:"system-ui"},children:[le.profitMargin,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-400",children:[e.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs",children:" "}),e.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200 text-[10px] sm:text-xs",style:{fontFamily:"system-ui"},children:le.avgInvoiceValue.toLocaleString("en-US",{maximumFractionDigits:0})})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-2 sm:gap-4 md:gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-2 sm:p-3 md:p-6 rounded-lg sm:rounded-xl shadow-sm border border-slate-100 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4 md:mb-6",children:[e.jsxs("h3",{className:"text-[10px] sm:text-sm md:text-lg font-bold text-slate-800 dark:text-white flex items-center gap-1 sm:gap-2",children:[e.jsx(sl,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5 text-primary dark:text-blue-400"}),e.jsx("span",{className:"truncate",children:" "})]}),e.jsx("span",{className:"text-[7px] sm:text-[9px] md:text-[10px] bg-slate-100 dark:bg-slate-700 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-slate-500 dark:text-slate-400",children:new Date().getFullYear()})]}),e.jsx("div",{className:"h-32 sm:h-48 md:h-64 flex items-end gap-0.5 sm:gap-1 md:gap-4 justify-between px-0.5 sm:px-2",children:C.map((ge,Se)=>e.jsxs("div",{className:"flex flex-col justify-end items-center gap-1 h-full flex-1 group relative",children:[e.jsxs("div",{className:"absolute -top-24 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white text-xs p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity z-10 whitespace-nowrap shadow-lg pointer-events-none",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"})," : ",ge.revenue.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"  : ",ge.otherIncome.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("div",{className:"w-2 h-2 bg-rose-500 rounded-full"})," : ",ge.expense.toLocaleString()]})]}),e.jsxs("div",{className:"w-full flex gap-0.5 items-end justify-center h-full",children:[e.jsx("div",{className:"w-1/3 bg-emerald-500 rounded-t-sm hover:bg-emerald-600 transition-all relative min-h-[4px]",style:{height:`${ge.revenue/Ee*100}%`}}),e.jsx("div",{className:"w-1/3 bg-blue-500 rounded-t-sm hover:bg-blue-600 transition-all relative min-h-[4px]",style:{height:`${ge.otherIncome/Ee*100}%`}}),e.jsx("div",{className:"w-1/3 bg-rose-500 rounded-t-sm hover:bg-rose-600 transition-all relative min-h-[4px]",style:{height:`${ge.expense/Ee*100}%`}})]}),e.jsx("span",{className:"text-[6px] sm:text-[9px] md:text-xs text-slate-500 dark:text-slate-400 font-medium",children:Se+1})]},Se))}),e.jsxs("div",{className:"mt-2 sm:mt-3 md:mt-4 flex flex-wrap justify-center gap-2 sm:gap-3 md:gap-6 text-[8px] sm:text-[10px] md:text-xs text-slate-600 dark:text-slate-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 bg-gradient-to-r from-emerald-400 to-emerald-600 rounded-sm"})," "]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 bg-gradient-to-r from-blue-400 to-blue-600 rounded-sm"})," "]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 bg-gradient-to-r from-rose-400 to-rose-600 rounded-sm"})," "]})]})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-2 sm:p-3 md:p-6 rounded-lg sm:rounded-xl shadow-sm border border-slate-100 dark:border-slate-700",children:[e.jsxs("h3",{className:"text-[10px] sm:text-sm md:text-lg font-bold text-slate-800 dark:text-white mb-2 sm:mb-3 md:mb-4 flex items-center gap-1 sm:gap-2",children:[e.jsx(Df,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-5 md:h-5 text-yellow-500"})," "]}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 md:space-y-3",children:[me.map(([ge,Se],ye)=>e.jsxs("div",{className:"flex justify-between items-center text-[10px] sm:text-xs md:text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1 sm:gap-1.5 min-w-0",children:[e.jsx("span",{className:`w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 rounded-full flex items-center justify-center text-[8px] sm:text-[9px] md:text-[10px] font-bold shadow-sm shrink-0 ${ye===0?"bg-gradient-to-br from-yellow-400 to-yellow-600 text-white":ye===1?"bg-gradient-to-br from-slate-300 to-slate-400 text-white":ye===2?"bg-gradient-to-br from-amber-500 to-amber-700 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300"}`,children:ye+1}),e.jsx("span",{className:"text-slate-800 dark:text-slate-200 truncate max-w-[80px] sm:max-w-none",children:ge})]}),e.jsx("span",{className:"font-bold text-primary dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-1 sm:px-1.5 md:px-2 py-0.5 rounded text-[8px] sm:text-[10px] md:text-xs whitespace-nowrap",children:Se})]},ge)),me.length===0&&e.jsx("p",{className:"text-slate-400 text-center text-[10px] sm:text-xs md:text-sm py-2 sm:py-3 md:py-4",children:"  "})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gradient-to-br dark:from-slate-800 dark:to-slate-900 p-2 sm:p-3 md:p-5 rounded-lg sm:rounded-xl shadow-sm border border-slate-200 dark:border-transparent dark:shadow-lg",children:[e.jsxs("h3",{className:"text-[10px] sm:text-xs md:text-sm font-bold mb-2 sm:mb-3 md:mb-4 flex items-center gap-1 sm:gap-2 text-slate-700 dark:text-white dark:opacity-90",children:[e.jsx(ij,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-indigo-500 dark:text-white"})," "]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1.5 sm:gap-2 md:gap-3",children:[e.jsxs("div",{className:"bg-slate-50 dark:bg-white/10 p-1.5 sm:p-2 md:p-3 rounded-md sm:rounded-lg border border-slate-100 dark:border-transparent",children:[e.jsx("p",{className:"text-[7px] sm:text-[9px] md:text-[10px] text-slate-500 dark:text-white/70",children:" "}),e.jsxs("p",{className:`text-xs sm:text-sm md:text-lg font-bold ${Number(le.profitMargin)>=20?"text-emerald-600 dark:text-emerald-400":Number(le.profitMargin)>=0?"text-amber-600 dark:text-amber-400":"text-rose-600 dark:text-rose-400"}`,children:[le.profitMargin,"%"]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-white/10 p-1.5 sm:p-2 md:p-3 rounded-md sm:rounded-lg border border-slate-100 dark:border-transparent",children:[e.jsx("p",{className:"text-[7px] sm:text-[9px] md:text-[10px] text-slate-500 dark:text-white/70",children:" "}),e.jsxs("p",{className:`text-xs sm:text-sm md:text-lg font-bold ${Number(le.collectionRate)>=80?"text-emerald-600 dark:text-emerald-400":Number(le.collectionRate)>=50?"text-amber-600 dark:text-amber-400":"text-rose-600 dark:text-rose-400"}`,children:[le.collectionRate,"%"]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-white/10 p-1.5 sm:p-2 md:p-3 rounded-md sm:rounded-lg border border-slate-100 dark:border-transparent",children:[e.jsx("p",{className:"text-[7px] sm:text-[9px] md:text-[10px] text-slate-500 dark:text-white/70",children:" "}),e.jsx("p",{className:"text-xs sm:text-sm md:text-lg font-bold text-blue-600 dark:text-blue-400",children:le.avgInvoiceValue.toLocaleString(void 0,{maximumFractionDigits:0})})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-white/10 p-1.5 sm:p-2 md:p-3 rounded-md sm:rounded-lg border border-slate-100 dark:border-transparent",children:[e.jsx("p",{className:"text-[7px] sm:text-[9px] md:text-[10px] text-slate-500 dark:text-white/70",children:" "}),e.jsx("p",{className:"text-xs sm:text-sm md:text-lg font-bold text-violet-600 dark:text-violet-400",children:le.totalSales})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1.5 sm:gap-2 md:gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/30 dark:to-cyan-900/30 p-1.5 sm:p-2 md:p-4 rounded-lg sm:rounded-xl shadow-sm border border-teal-100 dark:border-teal-800 col-span-2",children:[e.jsxs("h3",{className:"text-[8px] sm:text-[10px] md:text-xs font-bold text-teal-600 dark:text-teal-400 mb-0.5 sm:mb-1 flex items-center gap-0.5 sm:gap-1",children:[e.jsx(Ya,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})," "]}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("p",{className:"text-base sm:text-xl md:text-2xl font-bold text-teal-700 dark:text-teal-300",children:[D.length," ",e.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs font-normal text-teal-500",children:""})]}),le.lowStockProducts>0?e.jsxs("div",{className:"text-[7px] sm:text-[9px] md:text-[10px] text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/30 px-1 sm:px-1.5 py-0.5 rounded flex items-center gap-0.5",children:[e.jsx(ga,{className:"w-2 h-2 sm:w-2.5 sm:h-2.5"})," ",le.lowStockProducts," "]}):e.jsxs("div",{className:"text-[7px] sm:text-[9px] md:text-[10px] text-teal-600 dark:text-teal-400 bg-teal-100 dark:bg-teal-900/30 px-1 sm:px-1.5 py-0.5 rounded flex items-center gap-0.5",children:[e.jsx(ud,{className:"w-2 h-2 sm:w-2.5 sm:h-2.5"}),"  "]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-900/30 dark:to-blue-900/30 p-1.5 sm:p-2 md:p-4 rounded-lg sm:rounded-xl shadow-sm border border-indigo-100 dark:border-indigo-800 col-span-2",children:[e.jsxs("h3",{className:"text-[8px] sm:text-[10px] md:text-xs font-bold text-indigo-600 dark:text-indigo-400 mb-1 sm:mb-2 flex items-center gap-0.5 sm:gap-1",children:[e.jsx(sl,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),"  "]}),e.jsxs("div",{className:"space-y-1 sm:space-y-1.5",children:[Y.length>0?Y.map(ge=>e.jsxs("div",{className:"flex justify-between items-center text-[9px] sm:text-xs bg-white/50 dark:bg-white/5 p-1 sm:p-1.5 rounded-md sm:rounded-lg",children:[e.jsx("span",{className:"text-slate-700 dark:text-slate-300 truncate flex-1 max-w-[100px] sm:max-w-none",children:ge.description}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 shrink-0",children:[e.jsx("span",{className:"hidden sm:inline text-[8px] sm:text-[9px] text-slate-500 dark:text-slate-400",children:qs(ge.date)}),e.jsx("span",{className:"font-bold text-indigo-600 dark:text-indigo-400 bg-indigo-100 dark:bg-indigo-900/30 px-1 sm:px-1.5 py-0.5 rounded text-[8px] sm:text-[10px]",children:ge.amount.toLocaleString("en-US")})]})]},ge.id)):e.jsx("p",{className:"text-slate-400 text-center text-[9px] sm:text-xs py-1.5 sm:py-2",children:" "}),Y.length>0&&e.jsxs("div",{className:"flex justify-between items-center pt-1 sm:pt-1.5 border-t border-indigo-200 dark:border-indigo-700 mt-1",children:[e.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs font-bold text-indigo-700 dark:text-indigo-300",children:""}),e.jsx("span",{className:"font-bold text-indigo-700 dark:text-indigo-300 text-[10px] sm:text-xs",children:Y.reduce((ge,Se)=>ge+Se.amount,0).toLocaleString("en-US")})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-purple-50 dark:from-violet-900/30 dark:to-purple-900/30 p-1.5 sm:p-2 md:p-4 rounded-lg sm:rounded-xl shadow-sm border border-violet-100 dark:border-violet-800 col-span-2",children:[e.jsxs("h3",{className:"text-[8px] sm:text-[10px] md:text-xs font-bold text-violet-600 dark:text-violet-400 mb-0.5 sm:mb-1 flex items-center gap-0.5 sm:gap-1",children:[e.jsx(Za,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})," "]}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("p",{className:"text-base sm:text-xl md:text-2xl font-bold text-violet-700 dark:text-violet-300",children:[J.length," ",e.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs font-normal text-violet-500",children:""})]}),e.jsxs("div",{className:"text-[7px] sm:text-[9px] md:text-[10px] text-violet-600 dark:text-violet-400 bg-violet-100 dark:bg-violet-900/30 px-1 sm:px-1.5 py-0.5 rounded flex items-center gap-0.5",children:[e.jsx(ud,{className:"w-2 h-2 sm:w-2.5 sm:h-2.5"})," ",le.activeCustomers," "]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-gray-50 dark:from-slate-800 dark:to-gray-800 p-1.5 sm:p-2 md:p-4 rounded-lg sm:rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 col-span-2 space-y-1 sm:space-y-2",children:[e.jsxs("h3",{className:"text-[8px] sm:text-[10px] md:text-xs font-bold text-slate-600 dark:text-slate-400 mb-1 sm:mb-1.5 flex items-center gap-0.5 sm:gap-1",children:[e.jsx(Fa,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})," "]}),e.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 dark:border-slate-700 pb-1 sm:pb-1.5",children:[e.jsx("span",{className:"text-[10px] sm:text-xs font-bold text-slate-700 dark:text-slate-300",children:" "}),e.jsx("span",{className:"text-[10px] sm:text-xs font-bold bg-primary/10 text-primary px-1.5 sm:px-2 py-0.5 rounded-full",children:he.total})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-[8px] sm:text-[10px] md:text-xs flex items-center gap-0.5 text-slate-600 dark:text-slate-400",children:[e.jsx(Uu,{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 text-emerald-500"})," "]}),e.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 px-1 sm:px-1.5 py-0.5 rounded",children:he.cash})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-[8px] sm:text-[10px] md:text-xs flex items-center gap-0.5 text-slate-600 dark:text-slate-400",children:[e.jsx(Ba,{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 text-amber-500"})," "]}),e.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs font-bold text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 px-1 sm:px-1.5 py-0.5 rounded",children:he.credit})]})]})]})]})]})]})},C2=()=>{const{notify:r}=us(),{currency:i,defaultViewMode:u}=zl(),[c,b]=x.useState("list"),[h,y]=x.useState(u||"grid"),{products:j,loading:f,error:p,addProduct:k,updateProduct:N,deleteProduct:M}=pd(),{units:z,unitNames:w,loading:O,addUnit:B,updateUnit:J,deleteUnit:L}=n2(),[U,D]=x.useState(""),[q,Z]=x.useState(null),[P,ee]=x.useState(!1),[I,ae]=x.useState(""),[xe,ve]=x.useState(""),[Ue,st]=x.useState(""),[Ye,T]=x.useState(""),[F,ne]=x.useState(null),be=hr("products");if(s2(),be.checked&&!be.canView)return e.jsx(fr,{});const[ce,C]=x.useState(null),[Y,he]=x.useState(null),[le,je]=x.useState(null),[Ee,me]=x.useState(""),[ie,Ce]=x.useState(""),[Qe,at]=x.useState(""),[ge,Se]=x.useState(""),[ye,Ge]=x.useState(""),[Re,Ae]=x.useState(!1),[Q,pe]=x.useState(null),[R,fe]=x.useState(!1),_e=x.useMemo(()=>j.filter(S=>S.name.toLowerCase().includes(U.toLowerCase())||S.id.toString().includes(U)),[j,U]),He=x.useMemo(()=>z.filter(S=>S.name.toLowerCase().includes(Ye.toLowerCase())||(S.nameEn||"").toLowerCase().includes(Ye.toLowerCase())||S.symbol.toLowerCase().includes(Ye.toLowerCase())),[z,Ye]),Ze=async S=>{if(S.preventDefault(),!Ee||!ie){r("    ","warning");return}le?fe(!0):Ke()},Ke=async()=>{Ae(!0);try{le?(await N(le,{name:Ee,price:Number(ie),stock:Qe?Number(Qe):void 0,unit:ge,notes:ye}),r("    ","success"),je(null)):(await k({name:Ee,price:Number(ie),stock:Qe?Number(Qe):void 0,unit:ge,notes:ye}),r("    ","success")),me(""),Ce(""),at(""),Se(""),Ge(""),fe(!1),b("list")}catch(S){console.error(S),r(S.message||"     ","error")}finally{Ae(!1)}},We=S=>{pe(S)},At=()=>{Q&&(me(Q.name),Ce(Q.price.toString()),at(Q.stock?Q.stock.toString():""),Se(Q.unit||""),Ge(Q.notes||""),je(Q.id),r(`  : ${Q.name}`,"info"),pe(null),b("create"))},Oe=()=>{je(null),me(""),Ce(""),at(""),Se(""),Ge(""),b("list")},jt=async()=>{if(q){try{await M(q),r("   ","success")}catch(S){r(S.message||"   ","error")}Z(null)}},_t=async()=>{if(!I.trim()){r("   ","warning");return}if(w.includes(I.trim())){r("   ","warning");return}try{await B(I.trim(),xe.trim(),Ue.trim()||I.trim()),r("   ","success"),ae(""),ve(""),st("")}catch(S){r(S.message||"    ","error")}},W=S=>{C(S)},Le=async()=>{if(ce){try{await L(ce.id),r("   ","success")}catch(S){r(S.message||"    ","error")}C(null)}},ke=S=>{ne({id:S.id,name:S.name,nameEn:S.nameEn||"",symbol:S.symbol})},se=()=>{if(!F||!F.name.trim()){r("   ","warning");return}he(F)},$e=async()=>{if(Y){try{await J(Y.id,{name:Y.name,nameEn:Y.nameEn,symbol:Y.symbol}),r("   ","success")}catch(S){r(S.message||"    ","error")}he(null),ne(null)}};return f||O?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xt,{className:"animate-spin h-12 w-12 text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"  ..."})]})}):p?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ga,{className:"h-12 w-12 text-rose-500 mx-auto mb-4"}),e.jsx("p",{className:"text-rose-500 font-bold mb-2",children:" "}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:p})]})}):e.jsxs("div",{className:"space-y-6 relative",children:[P&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[110] p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800/95 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[85vh] border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 shrink-0",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 rounded-xl bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Qr,{size:22,className:"text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-blue-600 dark:text-blue-400",children:" "}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"   "})]})]}),e.jsx("button",{onClick:()=>ee(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-xl text-slate-500 hover:text-slate-700 transition-all",children:e.jsx(gt,{size:22})})]})}),e.jsxs("div",{className:"p-5 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-700 shrink-0 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-slate-300",children:[e.jsx($a,{size:16,className:"text-emerald-500"}),"  "]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-500 dark:text-slate-400 mb-1",children:"  *"}),e.jsx("input",{type:"text",placeholder:": ",className:"w-full border-2 border-slate-200 dark:border-slate-600 p-2.5 rounded-xl text-sm outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20 text-slate-900 dark:text-white bg-white dark:bg-slate-700 placeholder:text-slate-400 font-medium transition-all",value:I,onChange:S=>ae(S.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-500 dark:text-slate-400 mb-1",children:" "}),e.jsx("input",{type:"text",placeholder:"Kilogram",className:"w-full border-2 border-slate-200 dark:border-slate-600 p-2.5 rounded-xl text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 text-slate-900 dark:text-white bg-white dark:bg-slate-700 placeholder:text-slate-400 transition-all",value:xe,onChange:S=>ve(S.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-500 dark:text-slate-400 mb-1",children:""}),e.jsx("input",{type:"text",placeholder:"kg",className:"w-full border-2 border-slate-200 dark:border-slate-600 p-2.5 rounded-xl text-sm outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 text-slate-900 dark:text-white bg-white dark:bg-slate-700 placeholder:text-slate-400 font-mono transition-all",value:Ue,onChange:S=>st(S.target.value)})]})]}),e.jsxs("button",{onClick:_t,className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 text-white p-3 rounded-xl hover:from-emerald-700 hover:to-teal-700 transition-all shadow-lg shadow-emerald-500/25 flex items-center justify-center gap-2 font-bold transform hover:-translate-y-0.5 active:translate-y-0",children:[e.jsx($a,{size:18}),e.jsx("span",{children:" "})]})]}),e.jsx("div",{className:"px-5 py-3 border-b border-slate-200 dark:border-slate-700 shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx(ua,{size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"  ...",className:"w-full pr-10 pl-4 py-2.5 border-2 border-slate-200 dark:border-slate-600 rounded-xl text-sm bg-white dark:bg-slate-700 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all",value:Ye,onChange:S=>T(S.target.value)})]})}),e.jsxs("div",{className:"overflow-y-auto flex-1 dark:bg-slate-800",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-2 px-5 py-3 bg-slate-100 dark:bg-slate-700/50 text-xs font-bold text-slate-600 dark:text-slate-300 sticky top-0 border-b border-slate-200 dark:border-slate-600",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(Qr,{size:12}),"  "]}),e.jsx("span",{children:" "}),e.jsx("span",{children:""}),e.jsx("span",{className:"text-center",children:""})]}),He.map(S=>e.jsx("div",{className:"grid grid-cols-4 gap-2 px-5 py-3 hover:bg-slate-50 dark:hover:bg-slate-700/50 border-b border-slate-100 dark:border-slate-700 last:border-0 items-center text-sm transition-colors",children:(F==null?void 0:F.id)===S.id?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",className:"border-2 border-emerald-500 p-2 rounded-lg text-sm text-slate-900 dark:text-white bg-white dark:bg-slate-600 outline-none font-bold",value:F.name,onChange:we=>ne({...F,name:we.target.value}),autoFocus:!0}),e.jsx("input",{type:"text",className:"border-2 border-blue-400 p-2 rounded-lg text-sm text-slate-900 dark:text-white bg-white dark:bg-slate-600 outline-none",value:F.nameEn,onChange:we=>ne({...F,nameEn:we.target.value})}),e.jsx("input",{type:"text",className:"border-2 border-purple-400 p-2 rounded-lg text-sm text-slate-900 dark:text-white bg-white dark:bg-slate-600 outline-none font-mono",value:F.symbol,onChange:we=>ne({...F,symbol:we.target.value})}),e.jsxs("div",{className:"flex gap-1.5 justify-center",children:[e.jsx("button",{onClick:se,className:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 hover:bg-emerald-200 dark:hover:bg-emerald-900/50 p-2 rounded-lg transition-colors",children:e.jsx(aa,{size:16})}),e.jsx("button",{onClick:()=>ne(null),className:"bg-rose-100 dark:bg-rose-900/30 text-rose-700 dark:text-rose-400 hover:bg-rose-200 dark:hover:bg-rose-900/50 p-2 rounded-lg transition-colors",children:e.jsx(Fn,{size:16})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:S.name}),e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:S.nameEn||"-"}),e.jsx("span",{className:"text-slate-500 dark:text-slate-400 font-mono bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded text-xs",children:S.symbol}),e.jsxs("div",{className:"flex gap-1.5 justify-center",children:[e.jsx("button",{onClick:()=>ke(S),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"",children:e.jsx(Wt,{size:16})}),e.jsx("button",{onClick:()=>W({id:S.id,name:S.name}),className:"p-2 text-rose-500 dark:text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",title:"",children:e.jsx(qt,{size:16})})]})]})},S.id)),He.length===0&&e.jsxs("div",{className:"text-center text-slate-400 p-10 text-sm flex flex-col items-center gap-3",children:[e.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700 rounded-full",children:e.jsx(Qr,{size:32,className:"opacity-30"})}),e.jsx("p",{children:"   "})]})]})]})}),ce&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[120] p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-sm w-full animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-rose-600 mb-4",children:[e.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/30 p-2 rounded-full",children:e.jsx(ga,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "})]}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-6",children:["      ",e.jsxs("span",{className:"font-bold text-slate-800 dark:text-white",children:['"',ce.name,'"']}),"",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-rose-500 mt-1 block",children:"      ."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:Le,className:"flex-1 bg-rose-600 text-white py-2 rounded-lg font-bold hover:bg-rose-700",children:" "}),e.jsx("button",{onClick:()=>C(null),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:""})]})]})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[120] p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-md w-full animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-blue-600 mb-4",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-full",children:e.jsx(ur,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"  "})]}),e.jsxs("div",{className:"text-slate-600 dark:text-slate-300 text-sm mb-6 space-y-2",children:[e.jsx("p",{children:"   :"}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 p-3 rounded-lg space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:" :"})," ",e.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:Y.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:" :"})," ",e.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:Y.nameEn||"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:":"})," ",e.jsx("span",{className:"font-bold text-slate-800 dark:text-white font-mono",children:Y.symbol})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:$e,className:"flex-1 bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-700",children:" "}),e.jsx("button",{onClick:()=>he(null),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:""})]})]})}),Q&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[110] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-sm w-full mx-auto animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-blue-600 mb-4",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-full",children:e.jsx(Wt,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "})]}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-6 text-sm",children:["   : ",e.jsx("span",{className:"font-bold",children:Q.name}),""]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:At,className:"flex-1 bg-blue-600 text-white py-2.5 rounded-lg font-bold hover:bg-blue-700 transition-colors",children:"  "}),e.jsx("button",{onClick:()=>pe(null),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2.5 rounded-lg font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:""})]})]})}),R&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[110] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-sm w-full mx-auto animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-emerald-600 mb-4",children:[e.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-full",children:e.jsx(xr,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 text-sm",children:"       "}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:Ke,className:"flex-1 bg-emerald-600 text-white py-2.5 rounded-lg font-bold hover:bg-emerald-700 transition-colors",children:" "}),e.jsx("button",{onClick:()=>fe(!1),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2.5 rounded-lg font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:""})]})]})}),q&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-sm w-full mx-auto animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-rose-600 mb-4",children:[e.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/30 p-2 rounded-full",children:e.jsx(ga,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "})]}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-6 text-sm leading-relaxed",children:["      ",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-rose-500 block mt-1",children:"     ."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:jt,className:"flex-1 bg-rose-600 text-white py-2.5 rounded-lg font-bold hover:bg-rose-700 transition-colors shadow-lg shadow-rose-200",children:" "}),e.jsx("button",{onClick:()=>Z(null),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2.5 rounded-lg font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:""})]})]})}),c==="list"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 print:hidden",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:" "}),e.jsxs("div",{className:"flex bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg p-0.5",children:[e.jsx("button",{onClick:()=>y("table"),className:`p-1.5 rounded transition-all ${h==="table"?"bg-blue-500 text-white":"text-slate-400 hover:text-slate-600"}`,title:" ",children:e.jsx(Sl,{size:18})}),e.jsx("button",{onClick:()=>y("grid"),className:`p-1.5 rounded transition-all ${h==="grid"?"bg-blue-500 text-white":"text-slate-400 hover:text-slate-600"}`,title:" ",children:e.jsx(Zr,{size:18})})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:[e.jsxs("div",{className:"relative flex-1 md:w-64",children:[e.jsx(ua,{size:18,className:"absolute right-3 top-2.5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"   ...",className:"w-full pr-10 pl-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm focus:border-primary outline-none bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder:text-slate-400 shadow-sm",value:U,onChange:S=>D(S.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>ee(!0),className:"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-3 py-2 rounded-lg flex items-center gap-1.5 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors shadow-sm text-sm",children:[e.jsx(mr,{size:16}),e.jsx("span",{children:""})]}),e.jsxs("button",{onClick:()=>window.print(),className:"bg-slate-800 dark:bg-slate-700 text-white px-3 py-2 rounded-lg flex items-center gap-1.5 hover:bg-slate-700 dark:hover:bg-slate-600 transition-colors shadow-sm text-sm",children:[e.jsx(ll,{size:16}),e.jsx("span",{children:""})]}),be.canCreate&&e.jsxs("button",{onClick:()=>{je(null),me(""),Ce(""),at(""),Se(""),Ge(""),b("create")},className:"bg-primary hover:bg-blue-700 text-white px-3 py-2 rounded-lg flex items-center gap-1.5 transition-colors shadow-lg shadow-blue-200 dark:shadow-none text-sm",children:[e.jsx($a,{size:16}),e.jsx("span",{children:""})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800/90 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700/50 overflow-hidden print:shadow-none print:border-black backdrop-blur-sm",children:[e.jsxs("div",{className:"hidden print:block text-center p-4 border-b border-black",children:[e.jsx("h2",{className:"text-xl font-bold",children:" "}),e.jsxs("p",{className:"text-sm",children:[" : ",_e.length]})]}),h==="table"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right min-w-[600px] md:min-w-full text-sm",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700 print:bg-gray-200 print:text-black",children:e.jsxs("tr",{className:"text-slate-600 dark:text-slate-400",children:[e.jsx("th",{className:"p-4 text-center w-[100px] print:hidden no-print",children:""}),e.jsx("th",{className:"p-4 whitespace-nowrap",children:""}),e.jsx("th",{className:"p-4 whitespace-nowrap",children:""}),e.jsx("th",{className:"p-4 whitespace-nowrap",children:""}),e.jsxs("th",{className:"p-4 whitespace-nowrap",children:[" (",i,")"]}),e.jsx("th",{className:"p-4 whitespace-nowrap",children:""})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 print:divide-black",children:[_e.map(S=>e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[e.jsxs("td",{className:"p-4 flex justify-center gap-1 print:hidden no-print",children:[be.canEdit&&e.jsxs("button",{className:"flex items-center gap-1 px-2 py-1.5 text-blue-500 hover:text-blue-700 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors text-xs font-medium",title:"",onClick:()=>We(S),children:[e.jsx(Wt,{size:14}),e.jsx("span",{children:""})]}),be.canDelete&&e.jsxs("button",{className:"flex items-center gap-1 px-2 py-1.5 text-rose-500 hover:text-rose-700 dark:hover:text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors text-xs font-medium",title:"",onClick:()=>Z(S.id),children:[e.jsx(qt,{size:14}),e.jsx("span",{children:""})]})]}),e.jsxs("td",{className:"p-4 text-slate-400 font-mono print:text-black",children:["#",S.id]}),e.jsxs("td",{className:"p-4",children:[e.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:S.name}),S.notes&&e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:S.notes})]}),e.jsxs("td",{className:"p-4 text-slate-600 dark:text-slate-300 flex items-center gap-1",children:[e.jsx(Qr,{size:14,className:"text-slate-400"})," ",S.unit||""]}),e.jsx("td",{className:"p-4 text-emerald-600 dark:text-emerald-400 font-bold",children:S.price.toLocaleString()}),e.jsx("td",{className:"p-4",children:S.stock!==void 0&&S.stock!==null?e.jsx("span",{className:`font-medium ${S.stock<5?"text-rose-600 dark:text-rose-400":"text-emerald-600 dark:text-emerald-400"}`,children:S.stock}):e.jsx("span",{className:"text-slate-400",children:"-"})})]},S.id)),_e.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-slate-400",children:"   "})})]})]})}),h==="grid"&&e.jsxs("div",{className:"p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[_e.map(S=>e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-4 hover:shadow-lg transition-all group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"p-2",children:e.jsx(Ya,{size:20,className:S.stock!==void 0&&S.stock!==null&&S.stock<5?"text-rose-600 dark:text-rose-400":"text-emerald-600 dark:text-emerald-400"})}),e.jsxs("span",{className:"text-xs font-mono text-slate-400",children:["#",S.id]})]}),e.jsx("h4",{className:"font-bold text-slate-800 dark:text-white truncate mb-1",children:S.name}),S.notes&&e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3 line-clamp-2",children:S.notes}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3 text-center",children:[e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-lg p-2",children:[e.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 block",children:""}),e.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400 text-sm",children:S.price.toLocaleString()}),e.jsx("span",{className:"text-xs mr-1",children:i})]}),e.jsxs("div",{className:"rounded-lg p-2 border border-slate-200 dark:border-slate-600",children:[e.jsx("span",{className:`text-[10px] block ${S.stock!==void 0&&S.stock!==null&&S.stock<5?"text-rose-600 dark:text-rose-400":"text-emerald-600 dark:text-emerald-400"}`,children:""}),S.stock!==void 0&&S.stock!==null?e.jsx("span",{className:`font-bold text-sm ${S.stock<5?"text-rose-600 dark:text-rose-400":"text-emerald-600 dark:text-emerald-400"}`,children:S.stock}):e.jsx("span",{className:"text-slate-400 text-sm",children:"-"})]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 dark:border-slate-700 pt-3",children:[e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[e.jsx(Qr,{size:12})," ",S.unit||""]}),e.jsxs("div",{className:"flex gap-0.5",children:[be.canEdit&&e.jsxs("button",{onClick:()=>We(S),className:"flex items-center gap-0.5 px-1.5 py-1 text-blue-600 hover:text-blue-800 dark:text-blue-500 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-[10px] font-medium",title:"",children:[e.jsx(Wt,{size:12}),e.jsx("span",{children:""})]}),be.canDelete&&e.jsxs("button",{onClick:()=>Z(S.id),className:"flex items-center gap-0.5 px-1.5 py-1 text-rose-500 hover:text-rose-700 dark:text-rose-400 dark:hover:text-rose-300 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded text-[10px] font-medium",title:"",children:[e.jsx(qt,{size:12}),e.jsx("span",{children:""})]})]})]})]},S.id)),_e.length===0&&e.jsxs("div",{className:"col-span-full p-8 text-center text-slate-400",children:[e.jsx(Ya,{size:48,className:"mx-auto mb-3 opacity-30"}),"   "]})]})]})]}):e.jsxs("div",{className:"max-w-2xl mx-auto animate-in slide-in-from-left-4 duration-300",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800/95 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700/50 backdrop-blur-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-5 border-b border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2.5 rounded-xl ${le?"bg-blue-100 dark:bg-blue-900/30":"bg-emerald-100 dark:bg-emerald-900/30"}`,children:le?e.jsx(Wt,{size:24,className:"text-blue-600 dark:text-blue-400"}):e.jsx(Ya,{size:24,className:"text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-bold text-xl ${le?"text-blue-600 dark:text-blue-400":"text-emerald-600 dark:text-emerald-400"}`,children:le?" ":"  "}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-0.5",children:le?"   ":"    "})]})]}),e.jsx("button",{onClick:Oe,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-xl text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 transition-all",children:e.jsx(gt,{size:22})})]})}),e.jsxs("form",{onSubmit:Ze,className:"p-6 space-y-5",children:[e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:[e.jsx(Ya,{size:16,className:"text-emerald-500"})," ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-xl px-4 py-3.5 pr-11 focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 dark:focus:border-emerald-400 outline-none bg-slate-50 dark:bg-slate-700/50 text-slate-900 dark:text-white placeholder:text-slate-400 transition-all",value:Ee,onChange:S=>me(S.target.value),placeholder:":  ..."}),e.jsx("div",{className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-slate-400",children:e.jsx(Ya,{size:18})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:[e.jsx(Ko,{size:16,className:"text-amber-500"})," ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-xl px-4 py-3.5 pr-11 focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 dark:focus:border-amber-400 outline-none bg-slate-50 dark:bg-slate-700/50 text-slate-900 dark:text-white placeholder:text-slate-400 transition-all",value:ie,onChange:S=>Ce(S.target.value),placeholder:"0.00",step:"0.01"}),e.jsx("div",{className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-slate-400",children:e.jsx(Ko,{size:18})}),e.jsx("span",{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-xs font-medium text-slate-500 dark:text-slate-400 bg-slate-200 dark:bg-slate-600 px-2 py-1 rounded-md",children:i})]})]}),e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"flex items-center justify-between text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Qr,{size:16,className:"text-blue-500"}),""]}),e.jsxs("button",{type:"button",onClick:()=>ee(!0),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 text-xs flex items-center gap-1 bg-blue-50 dark:bg-blue-900/30 px-2.5 py-1 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-all",children:[e.jsx(mr,{size:12}),"  "]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-xl px-4 py-3.5 pr-11 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 dark:focus:border-blue-400 outline-none bg-slate-50 dark:bg-slate-700/50 text-slate-900 dark:text-white transition-all appearance-none cursor-pointer",value:ge,onChange:S=>Se(S.target.value),children:w.map(S=>e.jsx("option",{value:S,children:S},S))}),e.jsx("div",{className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",children:e.jsx(Qr,{size:18})})]})]})]}),e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:[e.jsx(Tf,{size:16,className:"text-purple-500"})," ",e.jsx("span",{className:"text-slate-400 text-xs font-normal",children:"()"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-xl px-4 py-3.5 pr-11 focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 dark:focus:border-purple-400 outline-none bg-slate-50 dark:bg-slate-700/50 text-slate-900 dark:text-white placeholder:text-slate-400 transition-all",value:Qe,onChange:S=>at(S.target.value),placeholder:"0"}),e.jsx("div",{className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-slate-400",children:e.jsx(Tf,{size:18})})]})]}),e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:[e.jsx(Wt,{size:16,className:"text-slate-500"}),"",e.jsx("span",{className:"text-slate-400 text-xs font-normal",children:"()"})]}),e.jsx("textarea",{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-xl px-4 py-3.5 focus:ring-2 focus:ring-slate-500/20 focus:border-slate-400 dark:focus:border-slate-500 outline-none bg-slate-50 dark:bg-slate-700/50 text-slate-900 dark:text-white placeholder:text-slate-400 resize-none h-28 transition-all",value:ye,onChange:S=>Ge(S.target.value),placeholder:"     ..."})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsx("button",{type:"submit",disabled:Re,className:`flex-1 text-white py-3.5 rounded-xl transition-all font-bold flex items-center justify-center gap-2.5 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-70 disabled:cursor-not-allowed ${le?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-blue-500/25":"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 shadow-emerald-500/25"}`,children:Re?e.jsxs(e.Fragment,{children:[e.jsx(xt,{size:20,className:"animate-spin"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xr,{size:20}),le?" ":" "]})}),e.jsxs("button",{type:"button",onClick:Oe,className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-200 px-6 py-3.5 rounded-xl hover:bg-slate-200 dark:hover:bg-slate-600 font-semibold flex items-center gap-2 transition-all",children:[e.jsx(Fn,{size:18}),""]})]})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800/50 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-800/30 rounded-lg",children:e.jsx(ur,{size:18,className:"text-amber-600 dark:text-amber-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-300 text-sm",children:" "}),e.jsxs("ul",{className:"mt-1.5 text-xs text-amber-700 dark:text-amber-400/80 space-y-1",children:[e.jsx("li",{children:"        "}),e.jsx("li",{children:"        "}),e.jsx("li",{children:"      "})]})]})]})})]})]})},E2=()=>{const r=new Date,i=r.toLocaleDateString("ar-EG",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"-"),u=r.toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit",hour12:!1}).replace(/:/g,"-");return{date:i,time:u,datetime:`${i}_${u}`}},z2=r=>r.replace(/[<>:"/\\|?*]/g,"").replace(/\s+/g,"_").trim(),A2=r=>{const u=md().fileNameFormat||"{app}-{company}-{type}-{customer}-{date}",{date:c,time:b,datetime:h}=E2(),y={app:r.appName||"_",company:r.companyName||"",type:r.type||"",customer:r.customerName||"",invoice:r.invoiceNumber||"",date:c,time:b,datetime:h,custom:r.customText||""};let j=u;return Object.entries(y).forEach(([f,p])=>{j=j.replace(new RegExp(`\\{${f}\\}`,"g"),p)}),j=z2(j).replace(/-{2,}/g,"-").replace(/^-|-$/g,""),j},M2=r=>{const i=document.title;return document.title=r,i},T2=r=>{document.title=r},Wr=r=>{const i=A2(r),u=M2(i);setTimeout(()=>{window.print(),setTimeout(()=>{T2(u)},1e3)},100)},zs=({value:r,onChange:i,className:u="",placeholder:c="--",disabled:b=!1})=>{const h=x.useRef(null),y=z=>{if(!z)return"";const w=z.split("-");return w.length===3&&w[0].length===4?`${w[2]}-${w[1]}-${w[0]}`:z},j=z=>{if(!z)return"";const w=z.split("-");return w.length===3&&w[2].length===4?`${w[2]}-${w[1]}-${w[0]}`:z},[f,p]=x.useState(y(r));x.useEffect(()=>{p(y(r))},[r]);const k=z=>{let w=z.target.value;if(w=w.replace(/[^\d-]/g,""),(w.length===2&&!w.includes("-")||w.length===5&&w.split("-").length===2)&&(w=w+"-"),w.length<=10&&(p(w),w.length===10)){const O=j(w),B=new Date(O);isNaN(B.getTime())||i(O)}},N=z=>{const w=z.target.value;i(w),p(y(w))},M=()=>{h.current&&!b&&h.current.showPicker()};return e.jsxs("div",{className:"relative inline-flex items-center w-full",children:[e.jsx("input",{type:"text",value:f,onChange:k,placeholder:c,disabled:b,className:`${u} pr-7`,dir:"ltr",style:{textAlign:"left"}}),e.jsx("button",{type:"button",onClick:M,disabled:b,className:"absolute right-1 top-1/2 -translate-y-1/2 text-slate-400 hover:text-primary dark:hover:text-slate-300",title:" ",children:e.jsx(Ka,{size:14})}),e.jsx("input",{ref:h,type:"date",value:r,onChange:N,className:"absolute opacity-0 w-0 h-0 pointer-events-none",tabIndex:-1})]})},Kf=({options:r,value:i,onChange:u,placeholder:c,disabled:b})=>{const[h,y]=x.useState(!1),[j,f]=x.useState(""),p=r.find(N=>N.id===i),k=r.filter(N=>N.label.toLowerCase().includes(j.toLowerCase())||N.subLabel&&N.subLabel.toLowerCase().includes(j.toLowerCase()));return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{onClick:()=>!b&&y(!h),className:`w-full border border-slate-300 dark:border-slate-600 rounded-lg p-2.5 flex justify-between items-center bg-white dark:bg-slate-700 transition-colors ${b?"bg-slate-100 dark:bg-slate-800 cursor-not-allowed":"cursor-pointer hover:border-blue-400"}`,children:[e.jsx("span",{className:`${p?"text-slate-900 dark:text-white font-medium":"text-slate-500 dark:text-slate-400"} truncate block`,children:p?p.label:c}),e.jsx(Nb,{size:16,className:`text-slate-400 transition-transform ${h?"rotate-180":""}`})]}),h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[50]",onClick:()=>y(!1)}),e.jsxs("div",{className:"absolute z-[51] w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 rounded-lg shadow-xl mt-1 max-h-60 overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[e.jsx("div",{className:"p-2 border-b border-slate-50 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50 sticky top-0",children:e.jsxs("div",{className:"relative",children:[e.jsx(ua,{size:14,className:"absolute right-3 top-2.5 text-slate-400"}),e.jsx("input",{autoFocus:!0,type:"text",placeholder:"...",className:"w-full pr-9 pl-3 py-1.5 border border-slate-200 dark:border-slate-600 rounded text-sm outline-none focus:border-primary text-right bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:j,onChange:N=>f(N.target.value)})]})}),e.jsxs("div",{className:"overflow-y-auto flex-1 p-1 custom-scrollbar",children:[k.map(N=>e.jsxs("div",{onClick:()=>{u(N.id),y(!1),f("")},className:`p-2 text-sm rounded cursor-pointer flex justify-between items-center hover:bg-slate-50 dark:hover:bg-slate-700 ${i===N.id?"bg-blue-50 dark:bg-blue-900/30 text-primary dark:text-blue-300 font-bold":"text-slate-700 dark:text-slate-300"}`,children:[e.jsx("span",{className:"truncate",children:N.label}),N.subLabel&&e.jsx("span",{className:"text-xs text-slate-500 bg-slate-100 dark:bg-slate-600 dark:text-slate-300 px-1.5 py-0.5 rounded whitespace-nowrap",children:N.subLabel})]},N.id)),k.length===0&&e.jsx("p",{className:"text-xs text-slate-400 text-center p-3",children:"  "})]})]})]})]})},_2=()=>{var Ft,Fe;const{notify:r}=us(),{currency:i,defaultViewMode:u,autoRefreshEnabled:c,autoRefreshInterval:b}=zl(),{user:h}=sa(),[y,j]=x.useState("list"),[f,p]=x.useState(u||"grid"),{customers:k,loading:N,refresh:M}=gd(),{products:z,loading:w,refresh:O}=pd(),{invoices:B,loading:J,refresh:L,addInvoice:U,updateInvoice:D,deleteInvoice:q,unconfirmInvoice:Z,deletePayment:P}=yd(),ee=x.useCallback(()=>[L,M,O],[L,M,O]),{isRefreshing:I,manualRefresh:ae}=i2(ee(),b,c&&y==="list"),[xe,ve]=x.useState(""),[Ue,st]=x.useState("all"),[Ye,T]=x.useState(""),[F,ne]=x.useState(""),[be,ce]=x.useState(null),[C,Y]=x.useState(null),[he,le]=x.useState(null),[je,Ee]=x.useState(null),[me,ie]=x.useState(!1),[Ce,Qe]=x.useState(null),[at,ge]=x.useState(null),[Se,ye]=x.useState(null),[Ge,Re]=x.useState(null),[Ae,Q]=x.useState(""),[pe,R]=x.useState(new Date().toISOString().split("T")[0]),[fe,_e]=x.useState(dr.CASH),[He,Ze]=x.useState([]),[Ke,We]=x.useState(0),[At,Oe]=x.useState(""),[jt,_t]=x.useState(""),[W,Le]=x.useState(""),[ke,se]=x.useState(1),[$e,S]=x.useState(0),[we,Nt]=x.useState(""),Ot=hr("invoices"),Jt=Qf("btn_unconfirm_invoice");if(Qf("btn_delete_payment"),Ot.checked&&!Ot.canView)return e.jsx(fr,{});const Zt=H=>{const Xe=new Date;let dt=new Date;const ta=Xe,Yt=ya=>{const da=ya.getFullYear(),Gt=String(ya.getMonth()+1).padStart(2,"0"),Ea=String(ya.getDate()).padStart(2,"0");return`${da}-${Gt}-${Ea}`};if(H==="all"){T(""),ne(""),st("all");return}else H==="week"?(dt=new Date(Xe),dt.setDate(Xe.getDate()-7)):H==="month"?dt=new Date(Xe.getFullYear(),Xe.getMonth(),1):H==="year"?dt=new Date(Xe.getFullYear(),0,1):H==="custom"&&(dt=new Date(Xe),dt.setFullYear(Xe.getFullYear()-1));T(Yt(dt)),ne(Yt(ta)),st(H)},ue=N||w||J,Me=x.useMemo(()=>B.filter(H=>{const Xe=String(H.id).toLowerCase().includes(xe.toLowerCase())||H.customerName.toLowerCase().includes(xe.toLowerCase());let dt=!0;if(Ye||F){const ta=new Date(H.date);if(Ye){const Yt=new Date(Ye);dt=dt&&ta>=Yt}if(F){const Yt=new Date(F);Yt.setHours(23,59,59),dt=dt&&ta<=Yt}}return Xe&&dt}),[B,xe,Ye,F]),Dt=H=>{const Xe=B.find(ta=>String(ta.id)===H);if(!Xe){r("  ","error");return}console.log("Invoice status:",Xe.status,"type:",typeof Xe.status);const dt=Xe.status??0;if(dt!==0){const ta={0:"",1:"",2:"",3:"",4:"",5:" ",6:"",7:""};r(dt===2||dt===4||dt===5?`    (${ta[dt]}).    " " `:`    - : ${ta[dt]||" "}`,"warning");return}Ee(H)},wt=()=>{if(!je)return;const H=B.find(Xe=>String(Xe.id)===je);if(H){if((H.status??0)!==0){r("       ","error"),Ee(null);return}ce(String(H.id)),Q(String(H.customerId));const dt=H.date?H.date.split("T")[0]:new Date().toISOString().split("T")[0];R(dt),_e(H.type),Ze(H.items),We(H.paidAmount),Oe(H.notes||""),j("create"),r("   ","info")}Ee(null)},lt=async()=>{if(C){try{await q(Number(C)),r("   ","success")}catch{r("   ","error")}Y(null)}},xa=async()=>{if(Ce){try{await Z(Number(Ce)),r("     .   ","success"),le(null)}catch(H){r(H.message||"    ","error")}Qe(null)}},Ua=async()=>{if(at){try{await P(at.invoiceId,at.paymentId),r("   ","success")}catch(H){r(H.message||"    ","error")}ge(null)}},ja=H=>{if(_t(H),H){const Xe=z.find(dt=>String(dt.id)===H);if(Xe){Le(Xe.name),S(Xe.price);const dt=typeof Xe.unit=="object"&&Xe.unit?Xe.unit.name:Xe.unit;Nt(dt||"")}}},br=()=>{const H=Number(ke),Xe=Number($e);if(!W||Xe<=0||H<=0){r("       ","warning");return}const dt=Number((H*Xe).toFixed(2));if(Se)Ze(ta=>ta.map(Yt=>Yt.id===Se?{...Yt,productId:jt||void 0,name:W,quantity:H,price:Xe,unit:we,total:dt}:Yt)),r("   ","success"),Wa();else{const ta=He.findIndex(Yt=>jt&&Yt.productId===jt||!jt&&Yt.name===W&&Yt.price===Xe);if(ta!==-1)Ze(Yt=>Yt.map((ya,da)=>{if(da===ta){const Gt=ya.quantity+H,Ea=Number((Gt*ya.price).toFixed(2));return{...ya,quantity:Gt,total:Ea}}return ya})),r(`    ${He[ta].quantity+H}`,"success");else{const Yt={id:Math.random().toString(36).substr(2,9),productId:jt||void 0,name:W,quantity:H,price:Xe,unit:we,total:dt};Ze([...He,Yt]),r("   ","success")}_t(""),Le(""),se(1),S(0)}},pr=H=>{ye(H.id),_t(H.productId||""),Le(H.name),se(H.quantity),S(H.price);const Xe=typeof H.unit=="object"&&H.unit?H.unit.name:H.unit;Nt(Xe||""),r("     ","info"),window.scrollTo({top:0,behavior:"smooth"})},Wa=()=>{ye(null),_t(""),Le(""),se(1),S(0),Nt("")},gr=()=>{Ge&&(Ze(H=>H.filter(Xe=>Xe.id!==Ge)),r("    ","warning"),Re(null),Se===Ge&&Wa())},yr=()=>{j("list"),ce(null),Ze([]),We(0),Q(""),Oe(""),Wa(),ie(!1)},an=()=>{if(!Ae||He.length===0){r("       ","error");return}be?ie(!0):vr()},vr=async()=>{const H=k.find(da=>String(da.id)===Ae);if(!H)return;const Xe=He.reduce((da,Gt)=>da+Gt.total,0),dt=Ke,ta=new Date,Yt=new Date(pe);Yt.setHours(ta.getHours(),ta.getMinutes(),ta.getSeconds());const ya=Yt.toISOString();try{if(be)await D(Number(be),{customerId:H.id,customerName:H.name,date:ya,items:He,totalAmount:Xe,paidAmount:dt,notes:At}),r(`    ${be} `,"success");else{const da=await U({customerId:H.id,customerName:H.name,date:ya,items:He,totalAmount:Xe,type:fe,paidAmount:dt,notes:At});r(`     ${da.invoiceNumber||da.id}`,"success")}yr()}catch(da){let Gt="   ";da.message&&(Gt=da.message),Gt.includes("  ")&&(Gt=" "+Gt+`

   " "    `),r(Gt,"error"),console.error("   :",da)}},ia=He.reduce((H,Xe)=>H+Xe.total,0),Ie=x.useMemo(()=>B.find(H=>String(H.id)===he),[B,he]);return ue?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xt,{className:"animate-spin h-12 w-12 text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"  ..."})]})}):e.jsxs("div",{className:"space-y-6 relative",children:[je&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[120] p-4 print:hidden",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-sm w-full animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-blue-600 mb-4",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-full",children:e.jsx(Wt,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "})]}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-6 text-sm",children:["     ",e.jsxs("span",{className:"font-bold",children:["#",je]}),""]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:wt,className:"flex-1 bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-700",children:"  "}),e.jsx("button",{onClick:()=>Ee(null),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:""})]})]})}),me&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[120] p-4 print:hidden",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-sm w-full animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-emerald-600 mb-4",children:[e.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-full",children:e.jsx(xr,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 text-sm",children:"       "}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:vr,className:"flex-1 bg-emerald-600 text-white py-2 rounded-lg font-bold hover:bg-emerald-700",children:" "}),e.jsx("button",{onClick:()=>ie(!1),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:""})]})]})}),C&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] p-4 print:hidden",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-sm w-full animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-rose-600 mb-4",children:[e.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/30 p-2 rounded-full",children:e.jsx(ga,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "})]}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-6 text-sm",children:["       ",e.jsxs("span",{className:"font-bold",children:["#",C]}),""]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:lt,className:"flex-1 bg-rose-600 text-white py-2 rounded-lg font-bold hover:bg-rose-700",children:" "}),e.jsx("button",{onClick:()=>Y(null),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:""})]})]})}),Ge&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[110] p-4 print:hidden",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-sm w-full animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-amber-600 mb-4",children:[e.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 p-2 rounded-full",children:e.jsx(ur,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 text-sm",children:"      "}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:gr,className:"flex-1 bg-rose-600 text-white py-2 rounded-lg font-bold hover:bg-rose-700",children:" "}),e.jsx("button",{onClick:()=>Re(null),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:""})]})]})}),Ce&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[250] p-4 print:hidden",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-md w-full animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-amber-600 mb-4",children:[e.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 p-2 rounded-full",children:e.jsx(Bu,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"  "})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4 text-sm",children:"        "}),e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-700 rounded-lg p-3 mb-4",children:e.jsxs("p",{className:"text-amber-700 dark:text-amber-400 text-xs",children:[e.jsx("strong",{children:":"}),"        ( ).       ."]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:xa,className:"flex-1 bg-amber-500 text-white py-2 rounded-lg font-bold hover:bg-amber-600",children:"  "}),e.jsx("button",{onClick:()=>Qe(null),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:""})]})]})}),at&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[260] p-4 print:hidden",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-md w-full animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-rose-600 mb-4",children:[e.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/30 p-2 rounded-full",children:e.jsx(qt,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "})]}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-4 text-sm",children:["     (",at.amount.toLocaleString()," ",i,")"]}),e.jsx("div",{className:"bg-rose-50 dark:bg-rose-900/20 border border-rose-200 dark:border-rose-700 rounded-lg p-3 mb-4",children:e.jsxs("p",{className:"text-rose-700 dark:text-rose-400 text-xs",children:[e.jsx("strong",{children:":"}),"        ."]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:Ua,className:"flex-1 bg-rose-600 text-white py-2 rounded-lg font-bold hover:bg-rose-700",children:"  "}),e.jsx("button",{onClick:()=>ge(null),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:""})]})]})}),Ie&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[200] p-4 print:p-0 print:bg-white print:static",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto flex flex-col animate-in zoom-in-95 duration-200 print:shadow-none print:max-h-full print:rounded-none print:w-full",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800 print:hidden",children:[e.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-slate-800 dark:text-white",children:[e.jsx(Fa,{size:20}),"  ",Ie.status!==void 0&&Ie.status!==0&&e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${Ie.status===2?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":Ie.status===4?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":Ie.status===5?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":Ie.status===3?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300"}`,children:Ie.status===2?"":Ie.status===4?"":Ie.status===5?" ":Ie.status===3?"":""})]}),e.jsxs("div",{className:"flex gap-2",children:[Ie.status!==void 0&&Ie.status!==0&&Ie.status!==3&&Jt.edit&&e.jsxs("button",{onClick:()=>{Ie.paidAmount>0?r("      .    ","warning"):Qe(String(Ie.id))},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm ${Ie.paidAmount>0?"bg-slate-400 text-white cursor-not-allowed":"bg-amber-500 text-white hover:bg-amber-600"}`,title:Ie.paidAmount>0?"    -   ":"    ",children:[e.jsx(Bu,{size:14}),"  "]}),e.jsxs("button",{onClick:()=>Wr({companyName:h==null?void 0:h.companyName,type:"",customerName:Ie.customerName||"",invoiceNumber:Ie.invoiceNumber}),className:"flex items-center gap-2 bg-slate-800 text-white px-3 py-1.5 rounded-lg hover:bg-slate-700 text-sm",children:[e.jsx(ll,{size:16})," "]}),e.jsx("button",{onClick:()=>le(null),className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full text-slate-500 dark:text-slate-400",children:e.jsx(gt,{size:24})})]})]}),e.jsxs("div",{className:"p-5 print:p-3 print:w-full print:text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-300 pb-3 mb-3 print:border-b print:border-gray-300 print:pb-2 print:mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h!=null&&h.accountLogo?e.jsx("img",{src:h.accountLogo,alt:"",className:"h-12 w-12 object-contain print:h-10 print:w-10"}):e.jsx("div",{className:"h-12 w-12 bg-slate-50 dark:bg-slate-700 rounded flex items-center justify-center border border-slate-200 dark:border-slate-500 print:h-10 print:w-10 print:border-gray-300",children:e.jsx(Cb,{className:"text-slate-400",size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white print:text-black print:text-base",children:(h==null?void 0:h.companyName)||" "}),e.jsxs("p",{className:"text-sm text-slate-500 print:text-gray-500",children:[": ",Ie.customerName||""]})]})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-lg font-bold text-primary print:text-black",children:Ie.invoiceNumber||`#${Ie.id}`}),e.jsx("p",{className:"text-sm text-slate-500 print:text-gray-500",children:ds(Ie.date)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 text-sm print:mb-2",children:[e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded print:bg-transparent print:p-2",children:[e.jsx("span",{className:"text-slate-500 print:text-gray-500",children:": "}),e.jsx("span",{className:"font-bold text-slate-800 dark:text-white print:text-black",children:Ie.customerName||""}),((Ft=k.find(H=>H.id===Ie.customerId))==null?void 0:Ft.phone)&&e.jsxs("span",{className:"text-slate-500 mr-2",children:["(",(Fe=k.find(H=>H.id===Ie.customerId))==null?void 0:Fe.phone,")"]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded print:bg-transparent print:p-2",children:[e.jsx("span",{className:"text-slate-500 print:text-gray-500",children:": "}),e.jsx("span",{className:`font-bold print:text-black flex items-center gap-1.5 ${Ie.remainingAmount>0?"text-amber-600 dark:text-amber-400":"text-emerald-600 dark:text-emerald-400"}`,children:Ie.remainingAmount>0?Ie.paidAmount>0?e.jsxs(e.Fragment,{children:[e.jsx(Ba,{size:14,className:"inline"}),"  "]}):e.jsxs(e.Fragment,{children:[e.jsx(ur,{size:14,className:"inline"})," "]}):e.jsxs(e.Fragment,{children:[e.jsx(aa,{size:14,className:"inline"}),"  "]})})]})]}),e.jsx("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg overflow-hidden mb-3 print:border print:border-gray-400 print:mb-2 print:rounded-none",children:e.jsxs("table",{className:"w-full text-right text-sm print:text-xs border-collapse",children:[e.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-white print:bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2.5 border border-slate-300 dark:border-slate-600 print:p-1 print:border-gray-400 w-10 text-center",children:"#"}),e.jsx("th",{className:"p-2.5 border border-slate-300 dark:border-slate-600 print:p-1 print:border-gray-400",children:""}),e.jsx("th",{className:"p-2.5 border border-slate-300 dark:border-slate-600 print:p-1 print:border-gray-400 w-20 text-center",children:""}),e.jsx("th",{className:"p-2.5 border border-slate-300 dark:border-slate-600 print:p-1 print:border-gray-400 w-24 text-center",children:""}),e.jsx("th",{className:"p-2.5 border border-slate-300 dark:border-slate-600 print:p-1 print:border-gray-400 w-28 text-center",children:""})]})}),e.jsx("tbody",{children:Ie.items.map((H,Xe)=>{var dt;return e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 print:hover:bg-transparent",children:[e.jsx("td",{className:"p-2.5 border border-slate-200 dark:border-slate-600 print:p-1 print:border-gray-300 text-slate-500 dark:text-slate-400 text-center",children:Xe+1}),e.jsx("td",{className:"p-2.5 border border-slate-200 dark:border-slate-600 print:p-1 print:border-gray-300 font-medium text-slate-800 dark:text-white print:text-black",children:H.name}),e.jsxs("td",{className:"p-2.5 border border-slate-200 dark:border-slate-600 print:p-1 print:border-gray-300 text-slate-600 dark:text-slate-300 text-center",children:[H.quantity," ",typeof H.unit=="object"?(dt=H.unit)==null?void 0:dt.name:H.unit]}),e.jsxs("td",{className:"p-2.5 border border-slate-200 dark:border-slate-600 print:p-1 print:border-gray-300 text-slate-600 dark:text-slate-300 text-center",children:[H.price.toLocaleString()," ",i]}),e.jsxs("td",{className:"p-2.5 border border-slate-200 dark:border-slate-600 print:p-1 print:border-gray-300 font-bold text-slate-800 dark:text-white text-center",children:[H.total.toLocaleString()," ",i]})]},Xe)})})]})}),e.jsxs("div",{className:"flex justify-between items-start gap-3",children:[e.jsx("div",{className:"flex-1 text-sm",children:Ie.notes&&e.jsxs("p",{className:"text-slate-500 print:text-gray-600",children:[e.jsx("b",{children:":"})," ",Ie.notes]})}),e.jsx("div",{className:"w-52 print:w-44 text-sm print:text-xs",children:e.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded overflow-hidden print:border print:border-gray-400 print:rounded-none",children:[e.jsxs("div",{className:"flex justify-between p-2 print:p-1 border-b border-slate-200 dark:border-slate-700 print:border-b print:border-gray-300",children:[e.jsx("span",{className:"text-slate-600 print:text-gray-700",children:":"}),e.jsxs("span",{className:"font-bold text-slate-900 dark:text-white print:text-black",children:[Ie.totalAmount.toLocaleString()," ",i]})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 print:p-1 border-b border-slate-200 dark:border-slate-700 print:border-b print:border-gray-300 text-emerald-600 print:text-gray-700",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(aa,{size:14})," :"]}),e.jsxs("span",{className:"print:text-black",children:[Ie.paidAmount.toLocaleString()," ",i]})]}),e.jsxs("div",{className:`flex justify-between items-center p-2 print:p-1 border-t-2 border-slate-400 dark:border-slate-500 print:border-t print:border-gray-400 ${Ie.remainingAmount>0?"bg-rose-50 dark:bg-rose-900/20":"bg-emerald-50 dark:bg-emerald-900/20"} print:bg-gray-100`,children:[e.jsxs("span",{className:`font-bold flex items-center gap-1 ${Ie.remainingAmount>0?"text-rose-700 dark:text-rose-400":"text-emerald-700 dark:text-emerald-400"} print:text-black`,children:[Ie.remainingAmount>0?e.jsx(ur,{size:14}):e.jsx(aa,{size:14})," :"]}),e.jsxs("span",{className:`font-bold ${Ie.remainingAmount>0?"text-rose-600 dark:text-rose-400":"text-emerald-600 dark:text-emerald-400"} print:text-black`,children:[Ie.remainingAmount>0?Ie.remainingAmount.toLocaleString():" "," ",Ie.remainingAmount>0?i:""]})]})]})})]}),Ie.payments&&Ie.payments.length>0&&e.jsxs("div",{className:"mt-4 print:hidden",children:[e.jsxs("h4",{className:"font-bold text-sm text-slate-700 dark:text-slate-300 mb-2 flex items-center gap-2",children:[e.jsx(Jr,{size:16}),"   (",Ie.payments.length,")"]}),e.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 text-right text-slate-600 dark:text-slate-400",children:"#"}),e.jsx("th",{className:"p-2 text-right text-slate-600 dark:text-slate-400",children:""}),e.jsx("th",{className:"p-2 text-right text-slate-600 dark:text-slate-400",children:""}),e.jsx("th",{className:"p-2 text-right text-slate-600 dark:text-slate-400",children:" "}),Ot.canDelete&&e.jsx("th",{className:"p-2 text-center text-slate-600 dark:text-slate-400 w-16",children:""})]})}),e.jsx("tbody",{children:Ie.payments.map((H,Xe)=>e.jsxs("tr",{className:"border-t border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[e.jsx("td",{className:"p-2 text-slate-500 dark:text-slate-400",children:Xe+1}),e.jsxs("td",{className:"p-2 font-medium text-emerald-600 dark:text-emerald-400",children:[H.amount.toLocaleString()," ",i]}),e.jsx("td",{className:"p-2 text-slate-600 dark:text-slate-300",children:qs(H.paymentDate)}),e.jsx("td",{className:"p-2 text-slate-600 dark:text-slate-300",children:H.paymentMethod==="Cash"||H.paymentMethod===0?"":H.paymentMethod==="BankTransfer"||H.paymentMethod===1?" ":H.paymentMethod==="Check"||H.paymentMethod===2?"":""}),Ot.canDelete&&e.jsx("td",{className:"p-2 text-center",children:e.jsx("button",{onClick:()=>ge({invoiceId:Ie.id,paymentId:H.id,amount:H.amount}),className:"p-1 text-rose-500 hover:text-rose-700 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded",title:" ",children:e.jsx(qt,{size:14})})})]},H.id))})]})})]}),e.jsx("div",{className:"mt-3 pt-2 border-t border-slate-200 dark:border-slate-600 text-center text-xs text-slate-400 print:mt-2 print:pt-1.5 print:border-t print:border-gray-200",children:e.jsxs("p",{children:[(h==null?void 0:h.companyName)||" "," | ",Ie.customerName||""]})})]})]})}),y==="list"?e.jsxs("div",{className:`space-y-4 ${Ie?"print:hidden":""}`,children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 print:hidden",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"  "}),e.jsxs("div",{className:"flex bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg p-0.5",children:[e.jsx("button",{onClick:()=>p("table"),className:`p-1.5 rounded transition-all ${f==="table"?"bg-blue-500 text-white":"text-slate-400 hover:text-slate-600"}`,title:" ",children:e.jsx(Sl,{size:18})}),e.jsx("button",{onClick:()=>p("grid"),className:`p-1.5 rounded transition-all ${f==="grid"?"bg-blue-500 text-white":"text-slate-400 hover:text-slate-600"}`,title:" ",children:e.jsx(Zr,{size:18})})]}),e.jsx("button",{onClick:ae,disabled:I,className:"p-2 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 disabled:opacity-50",title:" ",children:e.jsx(Oa,{size:18,className:I?"animate-spin":""})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:[e.jsxs("div",{className:"relative flex-1 md:w-64",children:[e.jsx(ua,{size:18,className:"absolute right-3 top-2.5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"     ...",className:"w-full pr-10 pl-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm focus:border-primary outline-none bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder:text-slate-400 shadow-sm",value:xe,onChange:H=>ve(H.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>Wr({companyName:h==null?void 0:h.companyName,type:" "}),className:"bg-slate-800 dark:bg-slate-700 text-white px-3 py-2 rounded-lg flex items-center gap-1.5 hover:bg-slate-700 dark:hover:bg-slate-600 transition-colors shadow-sm text-sm",children:[e.jsx(ll,{size:16}),e.jsx("span",{children:""})]}),Ot.canCreate&&e.jsxs("button",{onClick:()=>{ce(null),Q(""),Ze([]),We(0),Oe(""),j("create")},className:"bg-primary hover:bg-blue-700 text-white px-3 py-2 rounded-lg flex items-center gap-1.5 transition-colors shadow-lg shadow-blue-200 dark:shadow-none text-sm",children:[e.jsx($a,{size:16}),e.jsx("span",{children:""})]})]})]})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-3 print:hidden",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[e.jsxs("div",{className:"flex flex-wrap bg-slate-100 dark:bg-slate-700 p-1 rounded-lg gap-0.5",children:[e.jsx("button",{onClick:()=>Zt("all"),className:`px-2.5 py-1.5 text-xs font-bold rounded-md transition-all ${Ue==="all"?"bg-white dark:bg-slate-600 text-primary dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),e.jsx("button",{onClick:()=>Zt("week"),className:`px-2.5 py-1.5 text-xs font-bold rounded-md transition-all ${Ue==="week"?"bg-white dark:bg-slate-600 text-primary dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),e.jsx("button",{onClick:()=>Zt("month"),className:`px-2.5 py-1.5 text-xs font-bold rounded-md transition-all ${Ue==="month"?"bg-white dark:bg-slate-600 text-primary dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),e.jsx("button",{onClick:()=>Zt("year"),className:`px-2.5 py-1.5 text-xs font-bold rounded-md transition-all ${Ue==="year"?"bg-white dark:bg-slate-600 text-primary dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),e.jsx("button",{onClick:()=>Zt("custom"),className:`px-2.5 py-1.5 text-xs font-bold rounded-md transition-all ${Ue==="custom"?"bg-white dark:bg-slate-600 text-primary dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""})]}),Ue==="custom"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 animate-in fade-in slide-in-from-left-2 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ka,{size:14,className:"text-slate-400"}),e.jsx("span",{className:"text-xs text-slate-500",children:":"}),e.jsx(zs,{value:Ye,onChange:T,className:"px-2 py-1 text-xs border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:outline-none focus:border-primary w-28",placeholder:"--"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-xs text-slate-500",children:":"}),e.jsx(zs,{value:F,onChange:ne,className:"px-2 py-1 text-xs border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:outline-none focus:border-primary w-28",placeholder:"--"})]})]}),e.jsxs("div",{className:"text-xs text-slate-500 sm:mr-auto",children:[e.jsx("span",{className:"font-bold text-primary",children:Me.length})," "]})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800/90 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700/50 overflow-hidden print:shadow-none print:border-black backdrop-blur-sm",children:[e.jsxs("div",{className:"hidden print:block text-center p-4 border-b border-black",children:[e.jsx("h2",{className:"text-xl font-bold",children:" "}),e.jsxs("p",{className:"text-sm",children:[" : ",Me.length]})]}),f==="table"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right min-w-[600px] md:min-w-full text-sm print:text-xs print:border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700 print:bg-gray-100 print:text-black",children:e.jsxs("tr",{className:"text-slate-600 dark:text-slate-400",children:[e.jsx("th",{className:"p-4 text-center w-[140px] print:hidden no-print",children:""}),e.jsx("th",{className:"p-4 whitespace-nowrap print:p-1.5 print:border print:border-gray-400",children:" "}),e.jsx("th",{className:"p-4 whitespace-nowrap print:p-1.5 print:border print:border-gray-400",children:""}),e.jsx("th",{className:"p-4 whitespace-nowrap print:p-1.5 print:border print:border-gray-400",children:""}),e.jsxs("th",{className:"p-4 whitespace-nowrap print:p-1.5 print:border print:border-gray-400",children:[" (",i,")"]}),e.jsx("th",{className:"p-4 whitespace-nowrap print:p-1.5 print:border print:border-gray-400",children:""}),e.jsx("th",{className:"p-4 whitespace-nowrap print:p-1.5 print:border print:border-gray-400",children:""})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 print:divide-y-0",children:[Me.map(H=>e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors print:hover:bg-transparent",children:[e.jsxs("td",{className:"p-4 flex justify-center gap-1 print:hidden no-print",children:[e.jsxs("button",{className:"flex items-center gap-1 px-2 py-1.5 text-emerald-600 hover:text-emerald-800 dark:hover:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded-lg transition-colors text-xs font-medium",title:" ",onClick:()=>le(String(H.id)),children:[e.jsx(_a,{size:14}),e.jsx("span",{children:""})]}),Ot.canEdit&&e.jsxs("button",{className:"flex items-center gap-1 px-2 py-1.5 text-blue-500 hover:text-blue-700 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors text-xs font-medium",title:" ",onClick:()=>Dt(String(H.id)),children:[e.jsx(Wt,{size:14}),e.jsx("span",{children:""})]}),Ot.canDelete&&e.jsxs("button",{className:"flex items-center gap-1 px-2 py-1.5 text-rose-500 hover:text-rose-700 dark:hover:text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors text-xs font-medium",title:" ",onClick:()=>Y(String(H.id)),children:[e.jsx(qt,{size:14}),e.jsx("span",{children:""})]})]}),e.jsx("td",{className:"p-4 text-primary dark:text-blue-400 font-bold print:text-black print:p-1.5 print:border print:border-gray-300 print:font-normal",children:H.invoiceNumber||`#${H.id}`}),e.jsx("td",{className:"p-4 font-medium text-slate-800 dark:text-slate-200 print:p-1.5 print:border print:border-gray-300 print:font-normal print:text-black",children:H.customerName}),e.jsx("td",{className:"p-4 text-slate-500 dark:text-slate-400 print:p-1.5 print:border print:border-gray-300 print:text-black",children:ds(H.date)}),e.jsx("td",{className:"p-4 font-bold text-slate-800 dark:text-white print:p-1.5 print:border print:border-gray-300 print:font-semibold print:text-black print:text-center",children:H.totalAmount.toLocaleString()}),e.jsx("td",{className:"p-4 text-emerald-600 dark:text-emerald-400 print:p-1.5 print:border print:border-gray-300 print:text-black print:text-center",children:H.paidAmount.toLocaleString()}),e.jsx("td",{className:"p-4 text-rose-600 dark:text-rose-400 font-bold print:p-1.5 print:border print:border-gray-300 print:font-semibold print:text-black print:text-center",children:H.remainingAmount.toLocaleString()})]},H.id)),Me.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"p-8 text-center text-slate-400",children:"   "})})]})]})}),f==="grid"&&e.jsxs("div",{className:"p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[Me.map(H=>e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-4 hover:shadow-lg transition-all group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"p-2",children:e.jsx(Fa,{size:20,className:H.remainingAmount>0?"text-rose-600 dark:text-rose-400":"text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs font-mono text-slate-400",children:H.invoiceNumber||`#${H.id}`}),H.type===""?e.jsx(Uu,{size:14,className:"text-emerald-500",title:""}):e.jsx(Jr,{size:14,className:"text-amber-500",title:""})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ca,{size:14,className:"text-slate-400"}),e.jsx("h4",{className:"font-bold text-slate-800 dark:text-white truncate",children:H.customerName})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-xs text-slate-500 dark:text-slate-400",children:[e.jsx(Ka,{size:12}),ds(H.date)]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3 text-center",children:[e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-lg p-2",children:[e.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 block",children:""}),e.jsx("span",{className:"font-bold text-slate-800 dark:text-white text-sm",children:H.totalAmount.toLocaleString()})]}),e.jsxs("div",{className:"rounded-lg p-2 border border-slate-200 dark:border-slate-600",children:[e.jsx("span",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 block",children:""}),e.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400 text-sm",children:H.paidAmount.toLocaleString()})]}),e.jsxs("div",{className:"rounded-lg p-2 border border-slate-200 dark:border-slate-600",children:[e.jsx("span",{className:"text-[10px] text-rose-600 dark:text-rose-400 block",children:""}),e.jsx("span",{className:"font-bold text-rose-600 dark:text-rose-400 text-sm",children:H.remainingAmount.toLocaleString()})]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 dark:border-slate-700 pt-3",children:[e.jsx("span",{className:`text-xs font-medium ${H.remainingAmount>0?"text-rose-600 dark:text-rose-400":"text-emerald-600 dark:text-emerald-400"}`,children:H.remainingAmount>0?`: ${H.remainingAmount.toLocaleString()}`:" "}),e.jsxs("div",{className:"flex gap-0.5",children:[e.jsxs("button",{onClick:()=>le(String(H.id)),className:"flex items-center gap-0.5 px-1.5 py-1 text-emerald-600 hover:text-emerald-800 dark:text-emerald-500 dark:hover:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded text-[10px] font-medium",title:"",children:[e.jsx(_a,{size:12}),e.jsx("span",{children:""})]}),Ot.canEdit&&e.jsxs("button",{onClick:()=>Dt(String(H.id)),className:"flex items-center gap-0.5 px-1.5 py-1 text-blue-600 hover:text-blue-800 dark:text-blue-500 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-[10px] font-medium",title:"",children:[e.jsx(Wt,{size:12}),e.jsx("span",{children:""})]}),Ot.canDelete&&e.jsxs("button",{onClick:()=>Y(String(H.id)),className:"flex items-center gap-0.5 px-1.5 py-1 text-rose-500 hover:text-rose-700 dark:text-rose-400 dark:hover:text-rose-300 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded text-[10px] font-medium",title:"",children:[e.jsx(qt,{size:12}),e.jsx("span",{children:""})]})]})]})]},H.id)),Me.length===0&&e.jsxs("div",{className:"col-span-full p-8 text-center text-slate-400",children:[e.jsx(Fa,{size:48,className:"mx-auto mb-3 opacity-30"}),"   "]})]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-in slide-in-from-left-4 duration-300",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800/95 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700/50 backdrop-blur-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-5 border-b border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2.5 rounded-xl ${be?"bg-blue-100 dark:bg-blue-900/30":"bg-emerald-100 dark:bg-emerald-900/30"}`,children:be?e.jsx(Wt,{size:24,className:"text-blue-600 dark:text-blue-400"}):e.jsx(Fa,{size:24,className:"text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-bold text-xl ${be?"text-blue-600 dark:text-blue-400":"text-emerald-600 dark:text-emerald-400"}`,children:be?" ":"  "}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-0.5",children:be?"   ":"   "})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:an,className:`px-5 py-2.5 rounded-xl flex items-center gap-2 font-bold shadow-lg transition-all transform hover:-translate-y-0.5 active:translate-y-0 ${be?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-blue-500/25":"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white shadow-emerald-500/25"}`,children:[e.jsx(xr,{size:18})," ",be?" ":" "]}),e.jsxs("button",{onClick:yr,className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-4 py-2.5 rounded-xl hover:bg-slate-200 dark:hover:bg-slate-600 transition-all flex items-center gap-2",children:[e.jsx(Fn,{size:18})," "]})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:[e.jsx(Ca,{size:16,className:"text-blue-500"}),""]}),e.jsx(Kf,{options:k.map(H=>({id:String(H.id),label:H.name,subLabel:H.phone||""})),value:Ae,onChange:Q,placeholder:" ...",disabled:ue})]}),e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:[e.jsx(Ka,{size:16,className:"text-amber-500"})," "]}),e.jsx(zs,{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-xl p-2.5 outline-none focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 bg-slate-50 dark:bg-slate-700/50 text-slate-900 dark:text-white transition-all",value:pe,onChange:R,disabled:ue})]})]}),e.jsxs("div",{className:`bg-slate-50 dark:bg-slate-700/50 p-4 rounded-xl border-2 ${Se?"border-amber-300 dark:border-amber-600 bg-amber-50 dark:bg-amber-900/10":"border-slate-200 dark:border-slate-600"} mb-6`,children:[e.jsxs("h4",{className:`text-sm font-bold mb-3 flex items-center gap-2 ${Se?"text-amber-700 dark:text-amber-400":"text-slate-700 dark:text-slate-300"}`,children:[e.jsx(Ya,{size:16,className:Se?"text-amber-500":"text-purple-500"}),Se?"  ":"  "]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 mb-3",children:[e.jsxs("div",{className:"md:col-span-4",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1",children:" ()"}),e.jsx(Kf,{options:z.map(H=>({id:String(H.id),label:H.name,subLabel:`${H.price} ${i}`})),value:jt,onChange:ja,placeholder:" ...",disabled:ue})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1",children:" "}),e.jsx("input",{type:"text",className:"w-full border p-2 rounded text-sm bg-white dark:bg-slate-700 text-slate-900 dark:text-white dark:border-slate-600",value:W,onChange:H=>Le(H.target.value),placeholder:" "})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1",children:""}),e.jsx("input",{type:"number",className:"w-full border p-2 rounded text-center text-sm font-bold bg-white dark:bg-slate-700 text-slate-900 dark:text-white dark:border-slate-600",value:ke,onChange:H=>se(Number(H.target.value)),min:"1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1",children:""}),e.jsx("input",{type:"number",className:"w-full border p-2 rounded text-center text-sm font-bold bg-white dark:bg-slate-700 text-slate-900 dark:text-white dark:border-slate-600",value:$e,onChange:H=>S(Number(H.target.value)),min:"0"})]}),e.jsx("div",{className:"md:col-span-1 flex items-end",children:e.jsx("button",{onClick:br,className:`w-full p-2 rounded text-white flex justify-center items-center transition-colors ${Se?"bg-amber-500 hover:bg-amber-600":"bg-slate-800 hover:bg-slate-700"}`,children:Se?e.jsx(aa,{size:18}):e.jsx($a,{size:18})})})]}),Se&&e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:Wa,className:"text-xs text-rose-500 hover:underline flex items-center gap-1",children:[e.jsx(Fn,{size:12}),"   "]})})]}),e.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full text-right text-sm",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-slate-600 dark:text-slate-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3",children:""}),e.jsx("th",{className:"p-3",children:""}),e.jsx("th",{className:"p-3",children:""}),e.jsx("th",{className:"p-3",children:""}),e.jsx("th",{className:"p-3",children:""}),e.jsx("th",{className:"p-3 w-20"})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[He.map((H,Xe)=>{var dt;return e.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/50 ${Se===H.id?"bg-amber-50 dark:bg-amber-900/20":""}`,children:[e.jsx("td",{className:"p-3 text-slate-400",children:Xe+1}),e.jsx("td",{className:"p-3 font-medium text-slate-800 dark:text-white",children:H.name}),e.jsxs("td",{className:"p-3 text-slate-600 dark:text-slate-300",children:[H.quantity," ",typeof H.unit=="object"?(dt=H.unit)==null?void 0:dt.name:H.unit]}),e.jsx("td",{className:"p-3 text-slate-600 dark:text-slate-300",children:H.price}),e.jsx("td",{className:"p-3 font-bold text-slate-800 dark:text-white",children:H.total.toLocaleString()}),e.jsxs("td",{className:"p-3 flex justify-end gap-1",children:[e.jsx("button",{onClick:()=>pr(H),className:"p-1.5 text-blue-500 hover:bg-blue-50 dark:hover:bg-slate-600 rounded",children:e.jsx(Wt,{size:14})}),e.jsx("button",{onClick:()=>Re(H.id),className:"p-1.5 text-rose-500 hover:bg-rose-50 dark:hover:bg-slate-600 rounded",children:e.jsx(qt,{size:14})})]})]},H.id)}),He.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-slate-400",children:"    "})})]})]})})]})]})}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-100 dark:border-slate-700 transition-colors",children:[e.jsx("h4",{className:"text-slate-500 dark:text-slate-400 text-sm font-bold mb-4",children:" "}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:" "}),e.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:He.length})]}),e.jsxs("div",{className:"flex justify-between items-center mb-6 pt-2 border-t border-slate-200 dark:border-slate-700",children:[e.jsx("span",{className:"text-xl font-bold text-slate-800 dark:text-white",children:" "}),e.jsxs("span",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:[ia.toLocaleString()," ",e.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:i})]})]}),!be&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-600 dark:text-slate-300 mb-2",children:" "}),e.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 rounded p-1",children:[e.jsx("button",{onClick:()=>{_e(dr.CASH),We(ia)},className:`flex-1 py-2 text-sm font-bold rounded transition-all ${fe===dr.CASH?"bg-emerald-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"}`,children:"  ()"}),e.jsx("button",{onClick:()=>{_e(dr.CREDIT),We(0)},className:`flex-1 py-2 text-sm font-bold rounded transition-all ${fe===dr.CREDIT?"bg-amber-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"}`,children:"  ()"})]})]}),!be&&fe===dr.CREDIT&&e.jsxs("div",{className:"mt-4 bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg border border-amber-200 dark:border-amber-700",children:[e.jsx("label",{className:"block text-xs font-bold text-amber-700 dark:text-amber-400 mb-2",children:"   ()"}),e.jsx("input",{type:"number",className:"w-full bg-white dark:bg-slate-800 border border-amber-300 dark:border-amber-600 rounded p-2 text-slate-900 dark:text-white text-center font-bold outline-none focus:border-amber-500 transition-colors",value:Ke,onChange:H=>We(Math.min(Number(H.target.value),ia)),placeholder:"0.00",max:ia}),e.jsxs("div",{className:"flex justify-between items-center mt-3 text-sm bg-white dark:bg-slate-800 p-2 rounded",children:[e.jsx("span",{className:"text-rose-600 dark:text-rose-400 font-bold",children:" :"}),e.jsxs("span",{className:"font-bold text-rose-600 dark:text-rose-400 text-lg",children:[(ia-Ke).toLocaleString()," ",i]})]})]}),!be&&fe===dr.CASH&&ia>0&&e.jsxs("div",{className:"mt-4 bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-lg border border-emerald-200 dark:border-emerald-700",children:[e.jsx("label",{className:"block text-xs font-bold text-emerald-700 dark:text-emerald-400 mb-2",children:"   "}),e.jsx("input",{type:"number",className:"w-full bg-white dark:bg-slate-800 border border-emerald-300 dark:border-emerald-600 rounded p-2 text-slate-900 dark:text-white text-center font-bold outline-none focus:border-emerald-500 transition-colors",value:Ke,onChange:H=>We(Math.min(Number(H.target.value),ia)),placeholder:"0.00",max:ia}),Ke<ia&&Ke>0&&e.jsxs("div",{className:"flex justify-between items-center mt-3 text-sm bg-white dark:bg-slate-800 p-2 rounded",children:[e.jsx("span",{className:"text-rose-600 dark:text-rose-400 font-bold",children:":"}),e.jsxs("span",{className:"font-bold text-rose-600 dark:text-rose-400 text-lg",children:[(ia-Ke).toLocaleString()," ",i]})]}),Ke>=ia&&e.jsx("div",{className:"flex items-center justify-center mt-3 text-sm bg-white dark:bg-slate-800 p-2 rounded",children:e.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold",children:"  "})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-600 dark:text-slate-400 mb-2",children:" "}),e.jsx("textarea",{className:"w-full border border-slate-300 dark:border-slate-600 rounded-lg p-3 text-sm h-32 resize-none outline-none focus:border-primary bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"   ...",value:At,onChange:H=>Oe(H.target.value)})]})]})]})]})},D2=()=>{const{notify:r}=us(),{currency:i,defaultViewMode:u}=zl(),{user:c}=sa(),[b,h]=x.useState("list"),[y,j]=x.useState(""),[f,p]=x.useState("all"),[k,N]=x.useState(""),[M,z]=x.useState(""),[w,O]=x.useState(u||"grid"),{customers:B,loading:J,error:L,addCustomer:U,updateCustomer:D,deleteCustomer:q}=gd(),{invoices:Z,loading:P}=yd(),[ee,I]=x.useState(null),[ae,xe]=x.useState(null),[ve,Ue]=x.useState(""),[st,Ye]=x.useState(""),[T,F]=x.useState(""),[ne,be]=x.useState(null),[ce,C]=x.useState(!1),[Y,he]=x.useState(null),[le,je]=x.useState(!1),Ee=x.useMemo(()=>ee?Z.filter(S=>S.customerId===ee.id):[],[ee,Z]),[me,ie]=x.useState(0),[Ce,Qe]=x.useState(null),[at,ge]=x.useState(0),[Se,ye]=x.useState(""),[Ge,Re]=x.useState(!1),[Ae,Q]=x.useState(!1),[pe,R]=x.useState([]),[fe,_e]=x.useState(!1),He=hr("customers");if(He.checked&&!He.canView)return e.jsx(fr,{});const Ze=S=>{const we=new Date;let Nt=new Date;const Ot=we;if(S==="all"){N(""),z(""),p("all");return}else S==="week"?(Nt=new Date(we),Nt.setDate(we.getDate()-7)):S==="month"?Nt=new Date(we.getFullYear(),we.getMonth(),1):S==="year"&&(Nt=new Date(we.getFullYear(),0,1));const Jt=Zt=>{const ue=Zt.getFullYear(),Me=String(Zt.getMonth()+1).padStart(2,"0"),Dt=String(Zt.getDate()).padStart(2,"0");return`${ue}-${Me}-${Dt}`};N(Jt(Nt)),z(Jt(Ot)),p(S)},Ke=x.useCallback(async S=>{_e(!0);try{const we=await Yu.getByCustomer(S);R(we)}catch(we){console.error("   :",we),R([])}finally{_e(!1)}},[]);x.useEffect(()=>{ee?Ke(ee.id):R([])},[ee,Ke]);const We=x.useMemo(()=>B.filter(S=>{const we=S.name.includes(y)||S.phone&&S.phone.includes(y);let Nt=!0;if(k||M){const Ot=Z.filter(Jt=>Jt.customerId===S.id);Ot.length===0?Nt=!1:Nt=Ot.some(Jt=>{const Zt=new Date(Jt.date);let ue=!0;if(k){const Me=new Date(k);ue=ue&&Zt>=Me}if(M){const Me=new Date(M);Me.setHours(23,59,59),ue=ue&&Zt<=Me}return ue})}return we&&Nt}),[B,y,k,M,Z]),At=S=>{if(S.preventDefault(),!ve){r("  ","error");return}ne?je(!0):Oe()},Oe=async()=>{C(!0);try{ne?(await D(ne,{name:ve,phone:st,notes:T}),r("    ","success"),be(null)):(await U({name:ve,phone:st,notes:T}),r("   ","success")),Ue(""),Ye(""),F(""),h("list")}catch(S){r(S.message||"   ","error")}finally{C(!1),je(!1)}},jt=S=>{he(S)},_t=()=>{Y&&(be(Y.id),Ue(Y.name),Ye(Y.phone||""),F(Y.notes||""),r(`   : ${Y.name}`,"info"),he(null),h("create"))},W=()=>{be(null),Ue(""),Ye(""),F(""),h("list")},Le=S=>{I(S),h("detail")},ke=async()=>{if(ae){try{await q(ae),r("   ","success")}catch(S){r(S.message||"   ","error")}xe(null)}},se=async()=>{if(me<=0){r("   ","warning");return}if(!ee){r("  ","error");return}Q(!0);try{await Yu.create({customerId:ee.id,invoiceId:Ce||void 0,amount:me,paymentDate:new Date().toISOString(),paymentMethod:"Cash",paymentType:"Receipt",notes:Ce?`   ${Se}`:"  "}),r(`    ${me.toLocaleString()} ${i}`,"success"),Re(!1),ie(0),Qe(null),ye(""),ge(0),Ke(ee.id)}catch(S){r(S.message||"   ","error")}finally{Q(!1)}},$e=x.useMemo(()=>Ee.reduce((S,we)=>S+(we.remainingAmount||0),0),[Ee]);return J||P?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xt,{className:"animate-spin h-12 w-12 text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"   ..."})]})}):L?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ga,{className:"h-12 w-12 text-rose-500 mx-auto mb-4"}),e.jsx("p",{className:"text-rose-500 font-bold mb-2",children:" "}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:L})]})}):e.jsxs("div",{className:"space-y-6 relative",children:[Y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[110] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-sm w-full mx-auto animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-blue-600 mb-4",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-full",children:e.jsx(Wt,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"  "})]}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-6 text-sm",children:["    : ",e.jsx("span",{className:"font-bold",children:Y.name}),""]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:_t,className:"flex-1 bg-blue-600 text-white py-2.5 rounded-lg font-bold hover:bg-blue-700 transition-colors",children:"  "}),e.jsx("button",{onClick:()=>he(null),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2.5 rounded-lg font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:""})]})]})}),le&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[110] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-sm w-full mx-auto animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-emerald-600 mb-4",children:[e.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-full",children:e.jsx(xr,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6 text-sm",children:"        "}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:Oe,className:"flex-1 bg-emerald-600 text-white py-2.5 rounded-lg font-bold hover:bg-emerald-700 transition-colors",children:" "}),e.jsx("button",{onClick:()=>je(!1),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2.5 rounded-lg font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:""})]})]})}),ae&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-sm w-full mx-auto animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-rose-600 mb-4",children:[e.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/30 p-2 rounded-full",children:e.jsx(ga,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"  "})]}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-6 text-sm leading-relaxed",children:["      ",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-rose-500 block mt-1",children:"       ."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:ke,className:"flex-1 bg-rose-600 text-white py-2.5 rounded-lg font-bold hover:bg-rose-700 transition-colors shadow-lg shadow-rose-200",children:" "}),e.jsx("button",{onClick:()=>xe(null),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2.5 rounded-lg font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:""})]})]})}),b==="list"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 print:hidden",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:" "}),e.jsxs("div",{className:"flex bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg p-0.5",children:[e.jsx("button",{onClick:()=>O("table"),className:`p-1.5 rounded transition-all ${w==="table"?"bg-blue-500 text-white":"text-slate-400 hover:text-slate-600"}`,title:" ",children:e.jsx(Sl,{size:18})}),e.jsx("button",{onClick:()=>O("grid"),className:`p-1.5 rounded transition-all ${w==="grid"?"bg-blue-500 text-white":"text-slate-400 hover:text-slate-600"}`,title:" ",children:e.jsx(Zr,{size:18})})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:[e.jsxs("div",{className:"relative flex-1 md:w-64",children:[e.jsx(ua,{size:18,className:"absolute right-3 top-2.5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"    ...",className:"w-full pr-10 pl-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm focus:border-primary outline-none bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder:text-slate-400 shadow-sm",value:y,onChange:S=>j(S.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>Wr({companyName:c==null?void 0:c.companyName,type:" "}),className:"bg-slate-800 dark:bg-slate-700 text-white px-3 py-2 rounded-lg flex items-center gap-1.5 hover:bg-slate-700 dark:hover:bg-slate-600 transition-colors shadow-sm text-sm",children:[e.jsx(ll,{size:16}),e.jsx("span",{children:""})]}),He.canCreate&&e.jsxs("button",{onClick:()=>{be(null),Ue(""),Ye(""),F(""),h("create")},className:"bg-primary hover:bg-blue-700 text-white px-3 py-2 rounded-lg flex items-center gap-1.5 transition-colors shadow-lg shadow-blue-200 dark:shadow-none text-sm",children:[e.jsx($a,{size:16}),e.jsx("span",{children:""})]})]})]})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-2 sm:p-4 print:hidden",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-stretch sm:items-center gap-2 sm:gap-4",children:[e.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-0.5 sm:p-1 rounded-lg overflow-x-auto",children:[e.jsx("button",{onClick:()=>Ze("all"),className:`flex-1 sm:flex-none px-2 sm:px-3 py-1.5 text-[10px] sm:text-xs font-bold rounded-md transition-all whitespace-nowrap ${f==="all"?"bg-white dark:bg-slate-600 text-primary dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),e.jsx("button",{onClick:()=>Ze("week"),className:`flex-1 sm:flex-none px-2 sm:px-3 py-1.5 text-[10px] sm:text-xs font-bold rounded-md transition-all whitespace-nowrap ${f==="week"?"bg-white dark:bg-slate-600 text-primary dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),e.jsx("button",{onClick:()=>Ze("month"),className:`flex-1 sm:flex-none px-2 sm:px-3 py-1.5 text-[10px] sm:text-xs font-bold rounded-md transition-all whitespace-nowrap ${f==="month"?"bg-white dark:bg-slate-600 text-primary dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),e.jsx("button",{onClick:()=>Ze("year"),className:`flex-1 sm:flex-none px-2 sm:px-3 py-1.5 text-[10px] sm:text-xs font-bold rounded-md transition-all whitespace-nowrap ${f==="year"?"bg-white dark:bg-slate-600 text-primary dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),e.jsx("button",{onClick:()=>p("custom"),className:`flex-1 sm:flex-none px-2 sm:px-3 py-1.5 text-[10px] sm:text-xs font-bold rounded-md transition-all whitespace-nowrap ${f==="custom"?"bg-white dark:bg-slate-600 text-primary dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""})]}),f==="custom"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 animate-in fade-in slide-in-from-left-2 duration-200",children:[e.jsx(Ka,{size:14,className:"text-primary hidden sm:block"}),e.jsx("span",{className:"text-[10px] sm:text-xs text-slate-500",children:":"}),e.jsx(zs,{value:k,onChange:N,className:"px-2 py-1 sm:py-1.5 text-[10px] sm:text-xs border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:outline-none focus:border-primary w-24 sm:w-32",placeholder:"--"}),e.jsx("span",{className:"text-[10px] sm:text-xs text-slate-500",children:":"}),e.jsx(zs,{value:M,onChange:z,className:"px-2 py-1 sm:py-1.5 text-[10px] sm:text-xs border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:outline-none focus:border-primary w-24 sm:w-32",placeholder:"--"})]}),e.jsxs("div",{className:"text-[10px] sm:text-xs text-slate-500 sm:mr-auto w-full sm:w-auto text-center sm:text-right pt-1 sm:pt-0 border-t sm:border-0 border-slate-100 dark:border-slate-700",children:[" : ",e.jsx("span",{className:"font-bold text-primary",children:We.length}),f!=="all"&&e.jsx("span",{className:"text-slate-400 mr-1 sm:mr-2 hidden sm:inline",children:"(     )"})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800/90 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700/50 overflow-hidden print:shadow-none print:border-black backdrop-blur-sm",children:[e.jsxs("div",{className:"hidden print:block text-center p-4 border-b border-black",children:[e.jsx("h2",{className:"text-xl font-bold",children:" "}),e.jsxs("p",{className:"text-sm",children:[" : ",We.length]})]}),w==="table"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right min-w-[600px] md:min-w-full text-sm",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700 print:bg-gray-200 print:text-black",children:e.jsxs("tr",{className:"text-slate-600 dark:text-slate-400",children:[e.jsx("th",{className:"p-4 whitespace-nowrap",children:""}),e.jsx("th",{className:"p-4 whitespace-nowrap",children:""}),e.jsx("th",{className:"p-4 whitespace-nowrap",children:""}),e.jsx("th",{className:"p-4 whitespace-nowrap",children:""}),e.jsx("th",{className:"p-4 text-center w-[140px] print:hidden no-print",children:""})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 print:divide-black",children:[We.map(S=>e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[e.jsxs("td",{className:"p-4 text-primary dark:text-blue-400 font-bold print:text-black",children:["#",S.id]}),e.jsx("td",{className:"p-4 font-medium text-slate-800 dark:text-slate-200",children:S.name}),e.jsx("td",{className:"p-4 text-slate-500 dark:text-slate-400",dir:"ltr",children:S.phone||"-"}),e.jsx("td",{className:"p-4 text-slate-500 dark:text-slate-400 max-w-[200px] truncate",children:S.notes||"-"}),e.jsx("td",{className:"p-4 print:hidden no-print",children:e.jsxs("div",{className:"flex justify-center gap-1",children:[e.jsxs("button",{className:"flex items-center gap-1 px-2 py-1.5 text-emerald-600 hover:text-emerald-800 dark:hover:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded-lg transition-colors text-xs font-medium",title:" ",onClick:()=>Le(S),children:[e.jsx(_a,{size:14}),e.jsx("span",{children:" "})]}),He.canEdit&&e.jsxs("button",{className:"flex items-center gap-1 px-2 py-1.5 text-blue-500 hover:text-blue-700 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors text-xs font-medium",title:"",onClick:()=>jt(S),children:[e.jsx(Wt,{size:14}),e.jsx("span",{children:""})]}),He.canDelete&&e.jsxs("button",{className:"flex items-center gap-1 px-2 py-1.5 text-rose-500 hover:text-rose-700 dark:hover:text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors text-xs font-medium",title:"",onClick:()=>xe(S.id),children:[e.jsx(qt,{size:14}),e.jsx("span",{children:""})]})]})})]},S.id)),We.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-400",children:"   "})})]})]})}),w==="grid"&&e.jsxs("div",{className:"p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[We.map(S=>{const we=Z.filter(Ot=>Ot.customerId===S.id),Nt=we.reduce((Ot,Jt)=>Ot+(Jt.remainingAmount||0),0);return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-4 hover:shadow-lg transition-all group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"p-2",children:e.jsx(Ca,{size:20,className:Nt>0?"text-rose-600 dark:text-rose-400":"text-emerald-600 dark:text-emerald-400"})}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs("span",{className:"text-xs font-mono text-slate-400",children:["#",S.id]})})]}),e.jsx("h4",{className:"font-bold text-slate-800 dark:text-white truncate mb-1",children:S.name}),S.phone&&e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-xs text-slate-500 dark:text-slate-400",dir:"ltr",children:[e.jsx(Jn,{size:12}),S.phone]}),S.notes&&e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2 truncate",title:S.notes,children:S.notes}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3 text-center",children:[e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-lg p-2",children:[e.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 block",children:""}),e.jsx("span",{className:"font-bold text-slate-800 dark:text-white text-sm",children:we.length})]}),e.jsxs("div",{className:"rounded-lg p-2 border border-slate-200 dark:border-slate-600",children:[e.jsx("span",{className:`text-[10px] block ${Nt>0?"text-rose-600 dark:text-rose-400":"text-emerald-600 dark:text-emerald-400"}`,children:""}),e.jsx("span",{className:`font-bold text-sm ${Nt>0?"text-rose-600 dark:text-rose-400":"text-emerald-600 dark:text-emerald-400"}`,children:Nt.toLocaleString()})]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 dark:border-slate-700 pt-3",children:[e.jsx("span",{className:`text-xs font-medium ${Nt>0?"text-rose-600 dark:text-rose-400":"text-emerald-600 dark:text-emerald-400"}`,children:Nt>0?`: ${Nt.toLocaleString()}`:"  "}),e.jsxs("div",{className:"flex gap-0.5",children:[e.jsxs("button",{onClick:()=>Le(S),className:"flex items-center gap-0.5 px-1.5 py-1 text-emerald-600 hover:text-emerald-800 dark:text-emerald-500 dark:hover:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded text-[10px] font-medium",title:" ",children:[e.jsx(_a,{size:12}),e.jsx("span",{children:" "})]}),He.canEdit&&e.jsxs("button",{onClick:()=>jt(S),className:"flex items-center gap-0.5 px-1.5 py-1 text-blue-600 hover:text-blue-800 dark:text-blue-500 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-[10px] font-medium",title:"",children:[e.jsx(Wt,{size:12}),e.jsx("span",{children:""})]}),He.canDelete&&e.jsxs("button",{onClick:()=>xe(S.id),className:"flex items-center gap-0.5 px-1.5 py-1 text-rose-500 hover:text-rose-700 dark:text-rose-400 dark:hover:text-rose-300 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded text-[10px] font-medium",title:"",children:[e.jsx(qt,{size:12}),e.jsx("span",{children:""})]})]})]})]},S.id)}),We.length===0&&e.jsxs("div",{className:"col-span-full p-8 text-center text-slate-400",children:[e.jsx(Ca,{size:48,className:"mx-auto mb-3 opacity-30"}),"   "]})]})]})]}):b==="create"?e.jsx("div",{className:"max-w-2xl mx-auto animate-in slide-in-from-left-4 duration-300",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800/95 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700/50 backdrop-blur-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-5 border-b border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2.5 rounded-xl ${ne?"bg-blue-100 dark:bg-blue-900/30":"bg-emerald-100 dark:bg-emerald-900/30"}`,children:ne?e.jsx(Wt,{size:24,className:"text-blue-600 dark:text-blue-400"}):e.jsx(yj,{size:24,className:"text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-bold text-xl ${ne?"text-blue-600 dark:text-blue-400":"text-emerald-600 dark:text-emerald-400"}`,children:ne?"  ":"  "}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-0.5",children:ne?"   ":"    "})]})]}),e.jsx("button",{onClick:W,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-xl text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 transition-all",children:e.jsx(gt,{size:22})})]})}),e.jsxs("form",{onSubmit:At,className:"p-6 space-y-5",children:[e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:[e.jsx(Ca,{size:16,className:"text-emerald-500"})," ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-xl px-4 py-3.5 pr-11 focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 dark:focus:border-emerald-400 outline-none bg-slate-50 dark:bg-slate-700/50 text-slate-900 dark:text-white placeholder:text-slate-400 transition-all",value:ve,onChange:S=>Ue(S.target.value),placeholder:":   ..."}),e.jsx("div",{className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-slate-400",children:e.jsx(Ca,{size:18})})]})]}),e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:[e.jsx(Jn,{size:16,className:"text-blue-500"})," ",e.jsx("span",{className:"text-slate-400 text-xs font-normal",children:"()"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-xl px-4 py-3.5 pr-11 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 dark:focus:border-blue-400 outline-none bg-slate-50 dark:bg-slate-700/50 text-slate-900 dark:text-white placeholder:text-slate-400 transition-all",value:st,onChange:S=>Ye(S.target.value),placeholder:"05xxxxxxxx",dir:"ltr"}),e.jsx("div",{className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-slate-400",children:e.jsx(Jn,{size:18})})]})]}),e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:[e.jsx(tj,{size:16,className:"text-amber-500"}),"",e.jsx("span",{className:"text-slate-400 text-xs font-normal",children:"()"})]}),e.jsx("textarea",{className:"w-full border-2 border-slate-200 dark:border-slate-600 rounded-xl px-4 py-3.5 focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 dark:focus:border-amber-400 outline-none bg-slate-50 dark:bg-slate-700/50 text-slate-900 dark:text-white placeholder:text-slate-400 resize-none h-28 transition-all",value:T,onChange:S=>F(S.target.value),placeholder:"    ..."})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsx("button",{type:"submit",disabled:ce,className:`flex-1 text-white py-3.5 rounded-xl transition-all font-bold flex items-center justify-center gap-2.5 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-70 disabled:cursor-not-allowed ${ne?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-blue-500/25":"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 shadow-emerald-500/25"}`,children:ce?e.jsxs(e.Fragment,{children:[e.jsx(xt,{size:20,className:"animate-spin"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xr,{size:20}),ne?" ":" "]})}),e.jsxs("button",{type:"button",onClick:W,className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-200 px-6 py-3.5 rounded-xl hover:bg-slate-200 dark:hover:bg-slate-600 font-semibold flex items-center gap-2 transition-all",children:[e.jsx(Fn,{size:18}),""]})]})]})]})}):e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between no-print",children:[e.jsx("button",{onClick:()=>h("list"),className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white flex items-center gap-1 bg-white dark:bg-slate-800 px-3 py-2 rounded shadow-sm",children:"  "}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>Wr({companyName:c==null?void 0:c.companyName,type:" ",customerName:ee==null?void 0:ee.name}),className:"bg-slate-800 dark:bg-slate-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-slate-700 dark:hover:bg-slate-600",children:[e.jsx(ll,{size:18}),"   "]})})]}),ee&&e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 print:shadow-none print:border-0 overflow-hidden",children:e.jsxs("div",{className:"p-4 print:p-2 print:w-full print:text-[10px]",children:[e.jsxs("div",{className:"border border-slate-300 dark:border-slate-600 rounded print:border-gray-400 mb-3 print:mb-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-slate-200 dark:border-slate-600 print:border-gray-300 print:p-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[c!=null&&c.accountLogo?e.jsx("img",{src:c.accountLogo,alt:"",className:"h-10 w-10 object-contain print:h-8 print:w-8"}):e.jsx(Cb,{className:"text-slate-500",size:24}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-base font-bold text-slate-800 dark:text-white print:text-black print:text-sm",children:(c==null?void 0:c.companyName)||" "}),(c==null?void 0:c.companyPhone)&&e.jsx("p",{className:"text-slate-500 text-xs print:text-[9px]",dir:"ltr",children:c.companyPhone})]})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-lg font-bold text-slate-800 dark:text-white print:text-black print:text-sm",children:" "}),e.jsx("p",{className:"text-xs text-slate-500 print:text-[9px]",children:ds(new Date)})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 print:p-1.5 text-sm print:text-[10px]",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:": "}),e.jsx("span",{className:"font-bold text-slate-800 dark:text-white print:text-black",children:ee.name}),ee.phone&&e.jsxs("span",{className:"text-slate-400 mr-2",dir:"ltr",children:["(",ee.phone,")"]})]}),e.jsxs("div",{className:"flex items-center gap-4 print:gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:": "}),e.jsx("span",{className:"font-bold",children:Ee.reduce((S,we)=>S+we.totalAmount,0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:": "}),e.jsx("span",{className:"font-bold text-emerald-600",children:Ee.reduce((S,we)=>S+we.paidAmount,0).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:": "}),e.jsxs("span",{className:`font-bold ${$e>0?"text-rose-600":"text-emerald-600"}`,children:[$e.toLocaleString()," ",i]})]})]})]})]}),e.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1 print:text-black print:text-[10px] print:mb-0.5",children:" "}),e.jsx("div",{className:"border border-slate-300 dark:border-slate-600 rounded overflow-hidden mb-3 print:border-gray-400 print:mb-2",children:e.jsxs("table",{className:"w-full text-right text-sm print:text-[10px] border-collapse",children:[e.jsx("thead",{className:"border-b border-slate-300 dark:border-slate-600 print:border-gray-400",children:e.jsxs("tr",{className:"text-slate-600 dark:text-slate-300 print:text-black",children:[e.jsx("th",{className:"p-1.5 print:p-1 w-10 font-semibold border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:"#"}),e.jsx("th",{className:"p-1.5 print:p-1 font-semibold border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:""}),e.jsx("th",{className:"p-1.5 print:p-1 font-semibold border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:""}),e.jsx("th",{className:"p-1.5 print:p-1 font-semibold border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:""}),e.jsx("th",{className:"p-1.5 print:p-1 font-semibold border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:""}),e.jsx("th",{className:"p-1.5 print:p-1 font-semibold border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:""}),e.jsx("th",{className:"p-1.5 print:p-1 font-semibold border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:""}),e.jsx("th",{className:"p-1.5 print:p-1 font-semibold border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:""}),e.jsx("th",{className:"p-1.5 print:p-1 no-print w-14 font-semibold",children:""})]})}),e.jsxs("tbody",{children:[(()=>{let S=0;return Ee.filter(we=>we.remainingAmount>0).map((we,Nt)=>{S+=we.remainingAmount;const Ot=we.invoiceType===0?"":we.invoiceType===1?"":we.invoiceType===2?" ":"";return e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700 print:border-gray-200",children:[e.jsx("td",{className:"p-1.5 print:p-1 text-slate-500 text-xs border-l border-slate-100 dark:border-slate-700 print:border-gray-200",children:we.invoiceNumber||we.id}),e.jsx("td",{className:"p-1.5 print:p-1 text-slate-700 dark:text-slate-300 print:text-black border-l border-slate-100 dark:border-slate-700 print:border-gray-200",children:ds(we.date)}),e.jsx("td",{className:"p-1.5 print:p-1 text-slate-500 text-xs border-l border-slate-100 dark:border-slate-700 print:border-gray-200",children:Ot}),e.jsx("td",{className:"p-1.5 print:p-1 text-slate-500 truncate max-w-[100px] print:max-w-[60px] border-l border-slate-100 dark:border-slate-700 print:border-gray-200",children:we.notes||"-"}),e.jsx("td",{className:"p-1.5 print:p-1 font-medium text-slate-800 dark:text-white print:text-black border-l border-slate-100 dark:border-slate-700 print:border-gray-200",children:we.totalAmount.toLocaleString()}),e.jsx("td",{className:"p-1.5 print:p-1 text-emerald-600 border-l border-slate-100 dark:border-slate-700 print:border-gray-200",children:we.paidAmount.toLocaleString()}),e.jsx("td",{className:"p-1.5 print:p-1 font-bold text-rose-600 border-l border-slate-100 dark:border-slate-700 print:border-gray-200",children:we.remainingAmount.toLocaleString()}),e.jsx("td",{className:"p-1.5 print:p-1 font-bold text-slate-800 dark:text-white print:text-black border-l border-slate-100 dark:border-slate-700 print:border-gray-200",children:S.toLocaleString()}),e.jsx("td",{className:"p-1.5 print:p-1 no-print",children:e.jsx("button",{onClick:()=>{Qe(we.id),ye(we.invoiceNumber||`#${we.id}`),ge(we.remainingAmount||0),ie(we.remainingAmount||0),Re(!0)},className:"bg-primary text-white px-2 py-0.5 rounded text-xs hover:bg-blue-700",children:""})})]},we.id)})})(),Ee.filter(S=>S.remainingAmount>0).length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"p-2 text-center text-slate-400 text-sm print:p-1",children:"   "})})]}),Ee.filter(S=>S.remainingAmount>0).length>0&&e.jsx("tfoot",{className:"border-t border-slate-300 dark:border-slate-500 print:border-gray-400 font-bold",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,className:"p-1.5 print:p-1 text-slate-600 print:text-black border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:""}),e.jsx("td",{className:"p-1.5 print:p-1 border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:Ee.filter(S=>S.remainingAmount>0).reduce((S,we)=>S+we.totalAmount,0).toLocaleString()}),e.jsx("td",{className:"p-1.5 print:p-1 text-emerald-600 border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:Ee.filter(S=>S.remainingAmount>0).reduce((S,we)=>S+we.paidAmount,0).toLocaleString()}),e.jsx("td",{className:"p-1.5 print:p-1 text-rose-600 border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:$e.toLocaleString()}),e.jsx("td",{className:"p-1.5 print:p-1 border-l border-slate-200 dark:border-slate-600 print:border-gray-300"}),e.jsx("td",{className:"p-1.5 print:p-1 no-print"})]})})]})}),e.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1 print:text-black print:text-[10px] print:mb-0.5",children:" "}),e.jsx("div",{className:"border border-slate-300 dark:border-slate-600 rounded overflow-hidden mb-3 print:border-gray-400 print:mb-2",children:e.jsxs("table",{className:"w-full text-right text-sm print:text-[10px] border-collapse",children:[e.jsx("thead",{className:"border-b border-slate-300 dark:border-slate-600 print:border-gray-400",children:e.jsxs("tr",{className:"text-slate-600 dark:text-slate-300 print:text-black",children:[e.jsx("th",{className:"p-1.5 print:p-1 font-semibold border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:""}),e.jsx("th",{className:"p-1.5 print:p-1 font-semibold border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:""}),e.jsx("th",{className:"p-1.5 print:p-1 font-semibold border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:" "}),e.jsx("th",{className:"p-1.5 print:p-1 font-semibold",children:""})]})}),e.jsx("tbody",{children:fe?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-2 text-center",children:e.jsx(xt,{className:"animate-spin h-4 w-4 text-primary mx-auto"})})}):pe.length>0?pe.map(S=>e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700 print:border-gray-200",children:[e.jsx("td",{className:"p-1.5 print:p-1 text-slate-700 dark:text-slate-300 print:text-black border-l border-slate-100 dark:border-slate-700 print:border-gray-200",children:S.paymentDate?ds(S.paymentDate):"-"}),e.jsxs("td",{className:"p-1.5 print:p-1 font-bold text-emerald-600 border-l border-slate-100 dark:border-slate-700 print:border-gray-200",children:[S.amount.toLocaleString()," ",i]}),e.jsx("td",{className:"p-1.5 print:p-1 text-slate-500 text-xs border-l border-slate-100 dark:border-slate-700 print:border-gray-200",children:S.invoiceNumber||(S.invoiceId?`#${S.invoiceId}`:"-")}),e.jsx("td",{className:"p-1.5 print:p-1 text-slate-500 truncate max-w-[120px] print:max-w-[80px]",children:S.notes||S.description||"-"})]},S.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-2 text-center text-slate-400 text-sm print:p-1",children:"   "})})}),pe.length>0&&e.jsx("tfoot",{className:"border-t border-slate-300 dark:border-slate-500 print:border-gray-400 font-bold",children:e.jsxs("tr",{children:[e.jsx("td",{className:"p-1.5 print:p-1 text-slate-600 print:text-black border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:" "}),e.jsxs("td",{className:"p-1.5 print:p-1 text-emerald-600 border-l border-slate-200 dark:border-slate-600 print:border-gray-300",children:[pe.reduce((S,we)=>S+we.amount,0).toLocaleString()," ",i]}),e.jsx("td",{colSpan:2,className:"p-1.5 print:p-1"})]})})]})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 print:text-[9px] pt-2 border-t border-dashed border-slate-200 dark:border-slate-700 print:border-gray-300 print:pt-1",children:[ee.notes&&e.jsxs("p",{children:[e.jsx("b",{children:":"})," ",ee.notes]}),e.jsxs("p",{className:"mr-auto",children:[c==null?void 0:c.companyName," | ",ds(new Date)]})]})]})})]}),Ge&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-md p-6 animate-in zoom-in-95 duration-200",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-white",children:"  "}),Ce&&e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 p-3 rounded mb-4 text-sm text-slate-600 dark:text-slate-300",children:["     ",e.jsxs("span",{className:"font-bold",children:["#",Ce]})]}),e.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-700 p-4 rounded-lg mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-amber-700 dark:text-amber-300 text-sm",children:" :"}),e.jsxs("span",{className:"text-amber-800 dark:text-amber-200 font-bold text-lg",children:[at.toLocaleString()," ",i]})]}),me>0&&me<=at&&e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-amber-200 dark:border-amber-700",children:[e.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 text-sm",children:"  :"}),e.jsxs("span",{className:"text-emerald-700 dark:text-emerald-300 font-bold text-lg",children:[(at-me).toLocaleString()," ",i]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:["   (",i,")"]}),e.jsx("input",{type:"number",className:`w-full border p-3 rounded-lg text-lg font-bold text-center focus:border-primary outline-none bg-white dark:bg-slate-700 text-slate-900 dark:text-white dark:border-slate-600 ${me>at?"border-rose-500 bg-rose-50 dark:bg-rose-900/30":""}`,value:me,max:at,onChange:S=>{const we=Number(S.target.value);we<=at?ie(we):ie(at)}}),me>at&&e.jsx("p",{className:"text-rose-500 text-xs mt-1",children:"      "})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("button",{onClick:se,disabled:Ae||me<=0||me>at,className:"flex-1 bg-emerald-600 text-white py-2.5 rounded-lg hover:bg-emerald-700 font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[Ae&&e.jsx(xt,{className:"animate-spin h-4 w-4"})," "]}),e.jsx("button",{onClick:()=>Re(!1),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2.5 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:""})]})]})]})})]})},Vo={EXPENSE:qe.EXPENSE,OP_EXPENSE:qe.EXPENSE,SALARY:qe.EXPENSE,RENT:qe.EXPENSE,PURCHASE:qe.PURCHASE,CASH_PURCHASE:qe.PURCHASE,CREDIT_PURCHASE:qe.PURCHASE,OTHER_INCOME:qe.OTHER_INCOME,OTHER_REV:qe.OTHER_INCOME},R2={[qe.EXPENSE]:"OP_EXPENSE",[qe.PURCHASE]:"CASH_PURCHASE",[qe.OTHER_INCOME]:"OTHER_REV",[qe.INCOME]:"CASH_SALE"},L2=()=>{const{notify:r}=us(),{currency:i,defaultViewMode:u}=zl(),{user:c}=sa(),[b,h]=x.useState(u||"grid"),{expenses:y,loading:j,addExpense:f,deleteExpense:p}=oc(),[k,N]=x.useState([]),[M,z]=x.useState(!0),[w,O]=x.useState(null),[B,J]=x.useState(!1),[L,U]=x.useState(qe.EXPENSE),[D,q]=x.useState("ALL"),[Z,P]=x.useState(""),ee=new Date,I=new Date(ee.getFullYear()-1,ee.getMonth(),ee.getDate()).toISOString().split("T")[0],[ae,xe]=x.useState(I),[ve,Ue]=x.useState(ee.toISOString().split("T")[0]),[st,Ye]=x.useState(""),[T,F]=x.useState(""),[ne,be]=x.useState(""),[ce,C]=x.useState(new Date().toISOString().split("T")[0]),[Y,he]=x.useState(!1),le=hr("expenses");if(x.useEffect(()=>{(async()=>{try{const fe=await qj.getAll(1);N(fe)}catch(fe){console.error("Error fetching transaction types:",fe)}finally{z(!1)}})()},[]),le.checked&&!le.canView)return e.jsx(fr,{});const je=R=>{var fe;return(fe=k.find(_e=>_e.code===R))==null?void 0:fe.id},Ee=R=>{var He;const fe=R.transactionTypeCode||R.TransactionTypeCode;if(fe&&Vo[fe])return Vo[fe];if((He=R.transactionType)!=null&&He.code&&Vo[R.transactionType.code])return Vo[R.transactionType.code];const _e=R.notes||R.description||"";return _e.includes("[]")||_e.includes("[PURCHASE]")?qe.PURCHASE:_e.includes("[ ]")||_e.includes("[OTHER_INCOME]")?qe.OTHER_INCOME:qe.EXPENSE},me=async R=>{if(R.preventDefault(),!st||!T){r("    ( )","warning");return}const fe=R2[L],_e=je(fe);he(!0);try{await f({expenseDate:ce,description:T,amount:parseFloat(st),taxAmount:0,totalAmount:parseFloat(st),paymentMethod:"Cash",notes:ne||"",transactionTypeId:_e,transactionTypeCode:fe}),Ye(""),F(""),be(""),r(`  ${L} `,"success")}catch(He){r(He.message||"   ","error")}finally{he(!1)}},ie=x.useMemo(()=>(console.log("=== DEBUG: Raw expenses from API ==="),y.forEach((R,fe)=>{console.log(`Expense ${fe}:`,{id:R.id,transactionTypeCode:R.transactionTypeCode,TransactionTypeCode:R.TransactionTypeCode,transactionType:R.transactionType,description:R.description})}),y.map(R=>{const fe=Ee(R),He=(R.notes||R.category||"").replace(/\[(|| |EXPENSE|PURCHASE|OTHER_INCOME)\]\s*/g,"").trim()||"";return console.log(`Mapped expense ${R.id}: typeCode=${R.transactionTypeCode}, mappedType=${fe}`),{id:R.id,expenseNumber:R.expenseNumber||`#${R.id}`,date:R.expenseDate||R.date||"",description:R.description||"",category:He,amount:R.totalAmount??R.amount??0,paymentMethod:R.paymentMethod||"Cash",status:R.status||"Paid",transactionType:fe}})),[y]),Ce=x.useMemo(()=>{console.log("=== DEBUG Filter ==="),console.log("filterTab:",D,"type:",typeof D),console.log("TransactionType.EXPENSE:",qe.EXPENSE),console.log("TransactionType.PURCHASE:",qe.PURCHASE),console.log("TransactionType.OTHER_INCOME:",qe.OTHER_INCOME),console.log("allItems types:",ie.map(fe=>({id:fe.id,type:fe.transactionType})));let R=D==="ALL"?ie:ie.filter(fe=>fe.transactionType===D);if(Z.trim()){const fe=Z.toLowerCase();R=R.filter(_e=>_e.description.toLowerCase().includes(fe)||_e.category.toLowerCase().includes(fe)||_e.expenseNumber.toLowerCase().includes(fe))}return ae&&(R=R.filter(fe=>fe.date>=ae)),ve&&(R=R.filter(fe=>fe.date<=ve)),console.log("Filtered count:",R.length),R},[ie,D,Z,ae,ve]),Qe=Ce.reduce((R,fe)=>R+(fe.amount||0),0),at=()=>{const R=["","","","",""," ",""],fe=Ce.map(Ke=>[Ke.expenseNumber,Ae(Ke.transactionType).label,Ke.date,Ke.description,Ke.category,Ge(Ke.paymentMethod),Ke.amount]);let _e="data:text/csv;charset=utf-8,\uFEFF";_e+=R.join(",")+`\r
`,fe.forEach(Ke=>{_e+=Ke.join(",")+`\r
`});const He=encodeURI(_e),Ze=document.createElement("a");Ze.setAttribute("href",He),Ze.setAttribute("download",`expenses_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(Ze),Ze.click(),document.body.removeChild(Ze),r("   ","success")},ge=()=>{Wr({companyName:c==null?void 0:c.companyName,type:D==="ALL"?" ":D===qe.EXPENSE?"":D===qe.PURCHASE?"":" "})},Se=()=>{P(""),xe(""),Ue(""),q("ALL")},ye=x.useMemo(()=>({expenses:ie.filter(R=>R.transactionType===qe.EXPENSE).reduce((R,fe)=>R+fe.amount,0),purchases:ie.filter(R=>R.transactionType===qe.PURCHASE).reduce((R,fe)=>R+fe.amount,0),otherIncome:ie.filter(R=>R.transactionType===qe.OTHER_INCOME).reduce((R,fe)=>R+fe.amount,0),all:ie.reduce((R,fe)=>R+fe.amount,0)}),[ie]),Ge=R=>{switch(R){case"Cash":return"";case"BankTransfer":return"";case"Cheque":return"";default:return R}},Re=R=>{switch(R){case qe.EXPENSE:return"text-rose-600 dark:text-rose-400";case qe.PURCHASE:return"text-blue-600 dark:text-blue-400";case qe.OTHER_INCOME:return"text-emerald-600 dark:text-emerald-400";case"ALL":return"text-slate-700 dark:text-slate-200";default:return"text-slate-600 dark:text-slate-400"}},Ae=R=>{switch(R){case qe.EXPENSE:return{label:"",color:"bg-rose-100 text-rose-700 dark:bg-rose-900/40 dark:text-rose-300"};case qe.PURCHASE:return{label:"",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300"};case qe.OTHER_INCOME:return{label:" ",color:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300"};default:return{label:"",color:"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300"}}},Q=()=>{switch(L){case qe.EXPENSE:return e.jsx(qo,{size:20,className:"text-rose-500 dark:text-rose-400"});case qe.PURCHASE:return e.jsx(Pr,{size:20,className:"text-blue-500 dark:text-blue-400"});case qe.OTHER_INCOME:return e.jsx(sl,{size:20,className:"text-emerald-500 dark:text-emerald-400"})}},pe=()=>{switch(D){case qe.EXPENSE:return e.jsx(qo,{size:16,className:"text-rose-500"});case qe.PURCHASE:return e.jsx(Pr,{size:16,className:"text-blue-500"});case qe.OTHER_INCOME:return e.jsx(sl,{size:16,className:"text-emerald-500"});default:return e.jsx(Sl,{size:16,className:"text-slate-500"})}};return j?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xt,{className:"animate-spin h-12 w-12 text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"  ..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"   "}),e.jsxs("div",{className:"flex bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg p-0.5",children:[e.jsx("button",{onClick:()=>h("table"),className:`p-1.5 rounded transition-all ${b==="table"?"bg-blue-500 text-white":"text-slate-400 hover:text-slate-600"}`,title:" ",children:e.jsx(Sl,{size:18})}),e.jsx("button",{onClick:()=>h("grid"),className:`p-1.5 rounded transition-all ${b==="grid"?"bg-blue-500 text-white":"text-slate-400 hover:text-slate-600"}`,title:" ",children:e.jsx(Zr,{size:18})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsxs("div",{className:"flex p-1 bg-slate-200 dark:bg-slate-700 rounded-lg overflow-x-auto",children:[e.jsx("button",{onClick:()=>U(qe.EXPENSE),className:`flex-1 py-2 px-1 text-xs md:text-sm font-medium rounded-md transition-all whitespace-nowrap ${L===qe.EXPENSE?"bg-white dark:bg-slate-600 shadow text-rose-600 dark:text-rose-400":"text-slate-600 dark:text-slate-400"}`,children:""}),e.jsx("button",{onClick:()=>U(qe.PURCHASE),className:`flex-1 py-2 px-1 text-xs md:text-sm font-medium rounded-md transition-all whitespace-nowrap ${L===qe.PURCHASE?"bg-white dark:bg-slate-600 shadow text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400"}`,children:""}),e.jsx("button",{onClick:()=>U(qe.OTHER_INCOME),className:`flex-1 py-2 px-1 text-xs md:text-sm font-medium rounded-md transition-all whitespace-nowrap ${L===qe.OTHER_INCOME?"bg-white dark:bg-slate-600 shadow text-emerald-600 dark:text-emerald-400":"text-slate-600 dark:text-slate-400"}`,children:" "})]}),e.jsxs("form",{onSubmit:me,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 space-y-4",children:[e.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-slate-800 dark:text-white",children:[Q()," ",L]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:[" (",i,")"]}),e.jsx("input",{type:"number",className:"w-full border border-slate-300 dark:border-slate-600 rounded-lg p-2.5 focus:border-primary outline-none bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:st,onChange:R=>Ye(R.target.value),min:"0",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:" ()"}),e.jsx("input",{type:"text",className:"w-full border border-slate-300 dark:border-slate-600 rounded-lg p-2.5 focus:border-primary outline-none bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:T,onChange:R=>F(R.target.value),placeholder:L===qe.OTHER_INCOME?":    ...":" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:" ()"}),e.jsx("input",{type:"text",placeholder:":     ",className:"w-full border border-slate-300 dark:border-slate-600 rounded-lg p-2.5 focus:border-primary outline-none bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:ne,onChange:R=>be(R.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsx(zs,{className:"w-full border border-slate-300 dark:border-slate-600 rounded-lg p-2.5 focus:border-primary outline-none bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:ce,onChange:C})]}),e.jsxs("button",{type:"submit",disabled:Y,className:`w-full text-white py-2.5 font-bold rounded-lg transition-colors flex items-center justify-center gap-2 ${Y?"opacity-50 cursor-not-allowed":""} ${L===qe.OTHER_INCOME?"bg-emerald-600 hover:bg-emerald-700":L===qe.EXPENSE?"bg-rose-600 hover:bg-rose-700":"bg-blue-600 hover:bg-blue-700"}`,children:[Y&&e.jsx(xt,{className:"animate-spin",size:18}),""]})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-1 p-1 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[e.jsxs("button",{onClick:()=>q("ALL"),className:`flex flex-col md:flex-row items-center justify-center gap-1 md:gap-2 px-2 py-2 text-xs md:text-sm font-medium rounded-md transition-all ${D==="ALL"?"bg-white dark:bg-slate-600 shadow text-slate-700 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:[e.jsx(Sl,{size:14,className:"md:w-4 md:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:""}),e.jsx("span",{className:"bg-slate-200 dark:bg-slate-500 px-1.5 py-0.5 rounded text-[10px] md:text-xs",children:ie.length})]}),e.jsxs("button",{onClick:()=>q(qe.EXPENSE),className:`flex flex-col md:flex-row items-center justify-center gap-1 md:gap-2 px-2 py-2 text-xs md:text-sm font-medium rounded-md transition-all ${D===qe.EXPENSE?"bg-white dark:bg-slate-600 shadow text-rose-600 dark:text-rose-400":"text-slate-500 dark:text-slate-400 hover:text-rose-600"}`,children:[e.jsx(qo,{size:14,className:"md:w-4 md:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:""}),e.jsx("span",{className:"bg-rose-100 dark:bg-rose-900/40 text-rose-600 dark:text-rose-300 px-1.5 py-0.5 rounded text-[10px] md:text-xs",children:ie.filter(R=>R.transactionType===qe.EXPENSE).length})]}),e.jsxs("button",{onClick:()=>q(qe.PURCHASE),className:`flex flex-col md:flex-row items-center justify-center gap-1 md:gap-2 px-2 py-2 text-xs md:text-sm font-medium rounded-md transition-all ${D===qe.PURCHASE?"bg-white dark:bg-slate-600 shadow text-blue-600 dark:text-blue-400":"text-slate-500 dark:text-slate-400 hover:text-blue-600"}`,children:[e.jsx(Pr,{size:14,className:"md:w-4 md:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:""}),e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-300 px-1.5 py-0.5 rounded text-[10px] md:text-xs",children:ie.filter(R=>R.transactionType===qe.PURCHASE).length})]}),e.jsxs("button",{onClick:()=>q(qe.OTHER_INCOME),className:`flex flex-col md:flex-row items-center justify-center gap-1 md:gap-2 px-2 py-2 text-xs md:text-sm font-medium rounded-md transition-all ${D===qe.OTHER_INCOME?"bg-white dark:bg-slate-600 shadow text-emerald-600 dark:text-emerald-400":"text-slate-500 dark:text-slate-400 hover:text-emerald-600"}`,children:[e.jsx(sl,{size:14,className:"md:w-4 md:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:""}),e.jsx("span",{className:"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-600 dark:text-emerald-300 px-1.5 py-0.5 rounded text-[10px] md:text-xs",children:ie.filter(R=>R.transactionType===qe.OTHER_INCOME).length})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 print:hidden",children:[e.jsxs("div",{className:`bg-white dark:bg-slate-800 p-3 rounded-lg border ${D==="ALL"?"border-slate-300 dark:border-slate-500":"border-slate-100 dark:border-slate-700"}`,children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:" "}),e.jsxs("p",{className:"text-lg font-bold text-slate-700 dark:text-white",children:[ye.all.toLocaleString("ar-SA")," ",e.jsx("span",{className:"text-xs",children:i})]})]}),e.jsxs("div",{className:`bg-white dark:bg-slate-800 p-3 rounded-lg border ${D===qe.EXPENSE?"border-rose-300 dark:border-rose-500":"border-slate-100 dark:border-slate-700"}`,children:[e.jsx("p",{className:"text-xs text-rose-500",children:""}),e.jsxs("p",{className:"text-lg font-bold text-rose-600 dark:text-rose-400",children:[ye.expenses.toLocaleString("ar-SA")," ",e.jsx("span",{className:"text-xs",children:i})]})]}),e.jsxs("div",{className:`bg-white dark:bg-slate-800 p-3 rounded-lg border ${D===qe.PURCHASE?"border-blue-300 dark:border-blue-500":"border-slate-100 dark:border-slate-700"}`,children:[e.jsx("p",{className:"text-xs text-blue-500",children:""}),e.jsxs("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:[ye.purchases.toLocaleString("ar-SA")," ",e.jsx("span",{className:"text-xs",children:i})]})]}),e.jsxs("div",{className:`bg-white dark:bg-slate-800 p-3 rounded-lg border ${D===qe.OTHER_INCOME?"border-emerald-300 dark:border-emerald-500":"border-slate-100 dark:border-slate-700"}`,children:[e.jsx("p",{className:"text-xs text-emerald-500",children:" "}),e.jsxs("p",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:[ye.otherIncome.toLocaleString("ar-SA")," ",e.jsx("span",{className:"text-xs",children:i})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 print:hidden",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(ua,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"      ...",value:Z,onChange:R=>P(R.target.value),className:"w-full pl-3 pr-10 py-2 text-sm border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:outline-none focus:border-primary"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-slate-500",children:":"}),e.jsx(zs,{value:ae,onChange:xe,className:"px-2 py-1.5 text-xs border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:outline-none focus:border-primary w-32",placeholder:"--"}),e.jsx("span",{className:"text-xs text-slate-500",children:":"}),e.jsx(zs,{value:ve,onChange:Ue,className:"px-2 py-1.5 text-xs border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:outline-none focus:border-primary w-32",placeholder:"--"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[(Z||ae||ve||D!=="ALL")&&e.jsxs("button",{onClick:Se,className:"flex items-center gap-1 px-3 py-1.5 text-xs text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",children:[e.jsx(gt,{size:14})," "]}),e.jsxs("button",{onClick:ge,className:"flex items-center gap-1 px-3 py-1.5 text-xs bg-slate-100 dark:bg-slate-600 text-slate-700 dark:text-white rounded-lg hover:bg-slate-200 dark:hover:bg-slate-500 transition-colors",children:[e.jsx(ll,{size:14}),""]}),e.jsxs("button",{onClick:at,className:"flex items-center gap-1 px-3 py-1.5 text-xs bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 rounded-lg hover:bg-emerald-200 dark:hover:bg-emerald-900/50 transition-colors",children:[e.jsx(id,{size:14}),""]})]})]}),e.jsxs("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:[" ",Ce.length,"  ",ie.length," ",Ce.length>0&&e.jsxs("span",{className:"mr-2",children:["| : ",e.jsxs("span",{className:"font-bold text-slate-700 dark:text-white",children:[Qe.toLocaleString("ar-SA")," ",i]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800/90 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700/50 overflow-hidden backdrop-blur-sm",children:[e.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-700/50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[pe(),e.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:D==="ALL"?" ":D}),e.jsxs("span",{className:"text-sm text-slate-400",children:["(",Ce.length," )"]})]}),e.jsxs("span",{className:`text-lg font-bold ${Re(D)}`,children:[Qe.toLocaleString("ar-SA")," ",i]})]}),b==="table"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right text-sm",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900 text-slate-500 dark:text-slate-400",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 whitespace-nowrap",children:"#"}),e.jsx("th",{className:"p-3 whitespace-nowrap",children:""}),e.jsx("th",{className:"p-3 whitespace-nowrap",children:""}),e.jsx("th",{className:"p-3 whitespace-nowrap",children:""}),e.jsx("th",{className:"p-3 whitespace-nowrap",children:""}),e.jsx("th",{className:"p-3 whitespace-nowrap",children:" "}),e.jsx("th",{className:"p-3 whitespace-nowrap",children:""}),e.jsx("th",{className:"p-3 whitespace-nowrap",children:""})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[Ce.map(R=>{const fe=Ae(R.transactionType);return e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[e.jsx("td",{className:"p-3 text-slate-400 text-xs",children:R.expenseNumber}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs whitespace-nowrap ${fe.color}`,children:fe.label})}),e.jsx("td",{className:"p-3 text-slate-600 dark:text-slate-300 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ka,{size:14,className:"text-slate-400"}),qs(R.date)]})}),e.jsx("td",{className:"p-3 font-medium text-slate-800 dark:text-slate-200 max-w-xs truncate",title:R.description,children:R.description||"-"}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-xs text-slate-600 dark:text-slate-300",children:R.category||""})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-1 rounded text-xs",children:Ge(R.paymentMethod)})}),e.jsxs("td",{className:`p-3 font-bold whitespace-nowrap ${Re(R.transactionType)}`,children:[(R.amount||0).toLocaleString("ar-SA")," ",i]}),e.jsx("td",{className:"p-3",children:le.canDelete&&e.jsxs("button",{onClick:()=>O(R.id),className:"flex items-center gap-1 px-2 py-1.5 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors text-xs font-medium",title:"",children:[e.jsx(qt,{size:14}),e.jsx("span",{children:""})]})})]},R.id)}),Ce.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"p-6 text-center text-slate-400",children:"  "})})]})]})}),b==="grid"&&e.jsxs("div",{className:"p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[Ce.map(R=>{const fe=Ae(R.transactionType),He=R.transactionType===qe.EXPENSE?qo:R.transactionType===qe.PURCHASE?Pr:sl,Ze=R.transactionType===qe.EXPENSE?"from-rose-50 to-white dark:from-rose-900/20 dark:to-slate-800/90 border-rose-200 dark:border-rose-700/50":R.transactionType===qe.PURCHASE?"from-blue-50 to-white dark:from-blue-900/20 dark:to-slate-800/90 border-blue-200 dark:border-blue-700/50":"from-emerald-50 to-white dark:from-emerald-900/20 dark:to-slate-800/90 border-emerald-200 dark:border-emerald-700/50",Ke=R.transactionType===qe.EXPENSE?"text-rose-500":R.transactionType===qe.PURCHASE?"text-blue-500":"text-emerald-500";return e.jsxs("div",{className:`bg-gradient-to-br rounded-xl border-2 p-4 hover:shadow-lg transition-all ${Ze}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${fe.color.replace("text-","bg-").split(" ")[0]}/20`,children:e.jsx(He,{size:20,className:Ke})}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${fe.color}`,children:fe.label})]}),e.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-2 line-clamp-2",children:R.description||"-"}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[e.jsx(Ka,{size:12}),qs(R.date)]}),R.category&&e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(rj,{size:12,className:"text-slate-400"}),e.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded text-slate-600 dark:text-slate-300",children:R.category})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(Jr,{size:12,className:"text-slate-400"}),e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:Ge(R.paymentMethod)})]})]}),e.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[le.canDelete&&e.jsxs("button",{onClick:()=>O(R.id),className:"flex items-center gap-0.5 px-1.5 py-1 text-rose-500 hover:bg-rose-100 dark:hover:bg-rose-900/30 rounded-lg transition-colors text-[10px] font-medium",title:"",children:[e.jsx(qt,{size:12}),e.jsx("span",{children:""})]}),!le.canDelete&&e.jsx("div",{}),e.jsxs("span",{className:`text-lg font-bold ${Re(R.transactionType)}`,children:[(R.amount||0).toLocaleString("ar-SA")," ",e.jsx("span",{className:"text-xs",children:i})]})]})})]},R.id)}),Ce.length===0&&e.jsxs("div",{className:"col-span-full p-8 text-center text-slate-400",children:[e.jsx(Ko,{size:48,className:"mx-auto mb-3 opacity-30"}),"  "]})]})]})]})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-md p-6 animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-rose-100 dark:bg-rose-900/30 rounded-full",children:e.jsx(ga,{className:"text-rose-600 dark:text-rose-400",size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:" "}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"      "})]})]}),e.jsx("div",{className:"bg-slate-50 dark:bg-slate-700 p-3 rounded-lg mb-4",children:(()=>{const R=Ce.find(_e=>_e.id===w);if(!R)return null;const fe=Ae(R.transactionType);return e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:":"}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${fe.color}`,children:fe.label})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:":"}),e.jsx("span",{className:"text-slate-800 dark:text-white font-medium",children:R.description})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:":"}),e.jsxs("span",{className:`font-bold ${Re(R.transactionType)}`,children:[R.amount.toLocaleString()," ",i]})]})]})})()}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:async()=>{J(!0);try{await p(w),r("   ","success"),O(null)}catch(R){r(R.message||"  ","error")}finally{J(!1)}},disabled:B,className:"flex-1 bg-rose-600 text-white py-2.5 rounded-lg hover:bg-rose-700 font-bold disabled:opacity-50 flex items-center justify-center gap-2",children:[B&&e.jsx(xt,{className:"animate-spin h-4 w-4"}),""]}),e.jsx("button",{onClick:()=>O(null),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2.5 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:""})]})]})})]})},$2=()=>{var ge,Se,ye,Ge,Re,Ae;const{notify:r}=us(),{currency:i}=zl(),{user:u}=sa(),{customers:c,loading:b}=gd(),{products:h,loading:y}=pd(),{invoices:j,loading:f}=yd(),{expenses:p,loading:k}=oc(),{revenues:N,loading:M}=Ob(),z=b||y||f||k||M,[w,O]=x.useState(""),[B,J]=x.useState(""),[L,U]=x.useState(!1),[D,q]=x.useState("month"),[Z,P]=x.useState(""),[ee,I]=x.useState(""),[ae,xe]=x.useState(""),[ve,Ue]=x.useState(""),[st,Ye]=x.useState(!1),[T,F]=x.useState(!1),[ne,be]=x.useState(""),[ce,C]=x.useState("all"),Y=hr("reports");if(Y.checked&&!Y.canView)return e.jsx(fr,{});const he=x.useMemo(()=>ae.trim()?c.filter(Q=>Q.name.toLowerCase().includes(ae.toLowerCase())||Q.phone&&Q.phone.includes(ae)):c,[c,ae]),le=x.useMemo(()=>ve.trim()?h.filter(Q=>Q.name.toLowerCase().includes(ve.toLowerCase())):h,[h,ve]);x.useEffect(()=>{const Q=pe=>{const R=pe.target;R.closest(".customer-dropdown-container")||Ye(!1),R.closest(".product-dropdown-container")||F(!1)};return document.addEventListener("click",Q),()=>document.removeEventListener("click",Q)},[]),x.useEffect(()=>{je("month")},[]);const je=Q=>{const pe=new Date;let R=new Date,fe=pe;Q==="all"?(R=new Date(pe.getFullYear()-5,0,1),fe=pe):Q==="week"?(R=new Date(pe),R.setDate(pe.getDate()-7)):Q==="month"?R=new Date(pe.getFullYear(),pe.getMonth(),1):Q==="year"&&(R=new Date(pe.getFullYear(),0,1));const _e=He=>{const Ze=He.getFullYear(),Ke=String(He.getMonth()+1).padStart(2,"0"),We=String(He.getDate()).padStart(2,"0");return`${Ze}-${Ke}-${We}`};O(_e(R)),J(_e(fe)),q(Q),U(!0)},Ee=(Q,pe)=>{Q==="start"?O(pe):J(pe),q("custom")},me=x.useMemo(()=>{if(!w||!B||z)return null;const Q=new Date(w),pe=new Date(B);pe.setHours(23,59,59);let R=j.filter(se=>{const $e=new Date(se.date);return $e>=Q&&$e<=pe&&(Z?String(se.customerId)===Z:!0)});ee&&(R=R.filter(se=>se.items.some($e=>String($e.productId)===ee)));const fe=p.filter(se=>{const $e=new Date(se.expenseDate);return $e>=Q&&$e<=pe});console.log(" Reports Debug:",{totalExpenses:p.length,filteredExpenses:fe.length,dateRange:{start:Q.toISOString(),end:pe.toISOString()},sampleExpense:p[0]});const _e=fe,He=N.filter(se=>{const $e=new Date(se.revenueDate);return $e>=Q&&$e<=pe});let Ze=0;ee?Ze=R.reduce((se,$e)=>{const S=$e.items.filter(we=>String(we.productId)===ee);return se+S.reduce((we,Nt)=>we+(Nt.total||0),0)},0):Ze=R.reduce((se,$e)=>se+($e.paidAmount||0),0);const Ke=_e.reduce((se,$e)=>se+($e.totalAmount||0),0),We=He.reduce((se,$e)=>se+($e.totalAmount||0),0),At=Ze+We,Oe=At-Ke,jt=At>0?(Oe/At*100).toFixed(1):"0",_t={},W=(se,$e,S)=>{_t[se]||(_t[se]={income:0,expense:0}),_t[se].income+=$e,_t[se].expense+=S};R.forEach(se=>{const $e=ee?se.items.filter(S=>String(S.productId)===ee).reduce((S,we)=>S+we.total,0):se.paidAmount;W(se.date,$e,0)}),He.forEach(se=>W(se.expenseDate,se.amount,0)),_e.forEach(se=>W(se.expenseDate,0,se.totalAmount));const Le=Object.keys(_t).sort().map(se=>({date:se,income:_t[se].income,expense:_t[se].expense})),ke=[...R.map(se=>({date:se.date,type:" ",ref:se.invoiceNumber||`#${se.id}`,desc:`${se.customerName} (${se.type})`,credit:se.paidAmount,debit:0,totalAmount:se.totalAmount,remaining:se.remainingAmount})),..._e.map(se=>({date:se.expenseDate,type:"",ref:se.expenseNumber||"-",desc:se.description,credit:0,debit:se.totalAmount,totalAmount:se.totalAmount,remaining:0})),...He.map(se=>({date:se.expenseDate,type:" ",ref:se.expenseNumber||"-",desc:se.description,credit:se.totalAmount,debit:0,totalAmount:se.totalAmount,remaining:0}))].sort((se,$e)=>new Date(se.date).getTime()-new Date($e.date).getTime());return{totalRevenue:Ze,totalExpenses:Ke,totalOtherIncome:We,totalIncome:At,netProfit:Oe,profitMargin:jt,chartData:Le,ledgerItems:ke}},[w,B,L,Z,ee,j,p,z]),ie=()=>{if(!me)return;const Q=["","","","",""," ()",""," ()"],pe=me.ledgerItems.map(He=>[He.date,He.type,He.ref,He.desc,He.totalAmount,He.credit,He.remaining,He.debit]);let R="data:text/csv;charset=utf-8,\uFEFF";R+=Q.join(",")+`\r
`,pe.forEach(He=>{R+=He.join(",")+`\r
`});const fe=encodeURI(R),_e=document.createElement("a");_e.setAttribute("href",fe),_e.setAttribute("download",`report_${w}_${B}.csv`),document.body.appendChild(_e),_e.click(),document.body.removeChild(_e),r("   ","success")},Ce=()=>{if(!me)return;let Q=`
        <html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel">
        <head>
          <meta charset="UTF-8">
          <!--[if gte mso 9]>
          <xml>
            <x:ExcelWorkbook>
              <x:ExcelWorksheets>
                <x:ExcelWorksheet>
                  <x:Name> </x:Name>
                  <x:WorksheetOptions>
                    <x:DisplayRightToLeft/>
                  </x:WorksheetOptions>
                </x:ExcelWorksheet>
              </x:ExcelWorksheets>
            </x:ExcelWorkbook>
          </xml>
          <![endif]-->
          <style>
            td, th { border: 1px solid #ddd; padding: 8px; text-align: right; }
            th { background-color: #4472C4; color: white; }
            .income { background-color: #C6EFCE; }
            .expense { background-color: #FFC7CE; }
            .summary { background-color: #E2EFDA; font-weight: bold; }
          </style>
        </head>
        <body>
          <h1>${(u==null?void 0:u.companyName)||" "}</h1>
          <h2>  -  ${w}  ${B}</h2>
          
          <h3> </h3>
          <table>
            <tr><th></th><th> (${i})</th></tr>
            <tr class="income"><td> </td><td>${me.totalRevenue.toLocaleString()}</td></tr>
            <tr class="income"><td> </td><td>${me.totalOtherIncome.toLocaleString()}</td></tr>
            <tr class="expense"><td> </td><td>${me.totalExpenses.toLocaleString()}</td></tr>
            <tr class="summary"><td> </td><td>${me.netProfit.toLocaleString()}</td></tr>
            <tr class="summary"><td> </td><td>${me.profitMargin}%</td></tr>
          </table>
          
          <h3> </h3>
          <table>
            <tr>
              <th></th>
              <th></th>
              <th></th>
              <th></th>
              <th></th>
              <th> ()</th>
              <th></th>
              <th> ()</th>
            </tr>
            ${me.ledgerItems.map(_e=>`
              <tr class="${_e.debit>0?"expense":"income"}">
                <td>${_e.date}</td>
                <td>${_e.type}</td>
                <td>${_e.ref}</td>
                <td>${_e.desc}</td>
                <td>${_e.totalAmount.toLocaleString()}</td>
                <td>${_e.credit.toLocaleString()}</td>
                <td>${_e.remaining.toLocaleString()}</td>
                <td>${_e.debit.toLocaleString()}</td>
              </tr>
            `).join("")}
          </table>
        </body>
        </html>
      `;const pe=new Blob([Q],{type:"application/vnd.ms-excel;charset=utf-8"}),R=URL.createObjectURL(pe),fe=document.createElement("a");fe.href=R,fe.download=`__${w}_${B}.xls`,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),URL.revokeObjectURL(R),r("    Excel","success")},Qe=()=>{Wr(`_${w}_${B}`)},at=Q=>{if(Q.length===0)return e.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-slate-400 bg-slate-50 dark:bg-slate-900 rounded-lg border border-dashed dark:border-slate-700",children:[e.jsx(Lf,{size:32,className:"mb-2 opacity-50"}),e.jsx("span",{children:"      "})]});const pe=250,R=800,fe=50,_e=30,He=R-fe*2,Ze=pe-_e*2;let Ke=Math.max(...Q.map(ke=>Math.max(ke.income,ke.expense)),100)*1.1;Ke===0&&(Ke=100);const We=ke=>Q.length===1?R/2:fe+ke/(Q.length-1)*He,At=ke=>pe-_e-ke/Ke*Ze,Oe=Q.map((ke,se)=>`${We(se)},${At(ke.income)}`).join(" "),jt=Q.map((ke,se)=>`${We(se)},${At(ke.expense)}`).join(" "),_t=[0,1,2,3,4].map(ke=>{const se=Math.round(Ke/4*ke);return{y:At(se),val:se}}),W=Math.ceil(Q.length/6),Le=Q.filter((ke,se)=>se===0||se===Q.length-1||se%W===0).map((ke,se)=>{const $e=Q.findIndex(S=>S.date===ke.date);return{x:We($e),label:ke.date}});return e.jsxs("svg",{viewBox:`0 0 ${R} ${pe}`,className:"w-full h-full overflow-visible",children:[_t.map((ke,se)=>e.jsxs("g",{children:[e.jsx("line",{x1:fe,y1:ke.y,x2:R-fe,y2:ke.y,stroke:"#e2e8f0",strokeWidth:"1",className:"stroke-slate-200 dark:stroke-slate-700",strokeDasharray:"4"}),e.jsx("text",{x:fe-10,y:ke.y+4,textAnchor:"end",className:"text-[10px] fill-slate-400",children:ke.val.toLocaleString()})]},se)),Le.map((ke,se)=>e.jsx("text",{x:ke.x,y:pe-5,textAnchor:"middle",className:"text-[10px] fill-slate-500 dark:fill-slate-400",children:ke.label},se)),Q.length>1?e.jsxs(e.Fragment,{children:[e.jsx("polyline",{fill:"none",stroke:"#10b981",strokeWidth:"2.5",points:Oe,strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("polyline",{fill:"none",stroke:"#f43f5e",strokeWidth:"2.5",points:jt,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"5,5"})]}):e.jsxs(e.Fragment,{children:[e.jsx("circle",{cx:We(0),cy:At(Q[0].income),r:"6",fill:"#10b981"}),e.jsx("circle",{cx:We(0),cy:At(Q[0].expense),r:"6",fill:"#f43f5e"})]}),Q.map((ke,se)=>e.jsxs("g",{className:"group",children:[e.jsx("circle",{cx:We(se),cy:At(ke.income),r:"6",fill:"transparent",className:"hover:fill-emerald-500 cursor-pointer transition-all"}),e.jsx("circle",{cx:We(se),cy:At(ke.expense),r:"6",fill:"transparent",className:"hover:fill-rose-500 cursor-pointer transition-all"}),e.jsx("title",{children:`${ke.date}
: ${ke.income}
: ${ke.expense}`})]},se))]})};return z?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xt,{className:"animate-spin h-12 w-12 text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"   ..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"hidden print:block pb-4 border-b-2 border-slate-800 mb-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-extrabold text-slate-900 mb-0.5",children:(u==null?void 0:u.companyName)||" "}),e.jsx("p",{className:"text-slate-600 font-bold text-sm",children:"   "})]}),e.jsxs("div",{className:"text-left text-xs text-slate-600",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-bold",children:" :"})," ",ds(new Date)]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold",children:":"}),"  ",w,"  ",B]}),Z&&e.jsxs("p",{className:"bg-slate-100 px-2 rounded mt-0.5 text-xs",children:[": ",(ge=c.find(Q=>String(Q.id)===Z))==null?void 0:ge.name]}),ee&&e.jsxs("p",{className:"bg-slate-100 px-2 rounded mt-0.5 text-xs",children:[": ",(Se=h.find(Q=>String(Q.id)===ee))==null?void 0:Se.name]})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 print:hidden",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-4 gap-3",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[e.jsx($f,{size:18,className:"text-primary dark:text-blue-400"})," "]}),e.jsxs("div",{className:"flex flex-wrap bg-slate-100 dark:bg-slate-700 p-1 rounded-lg gap-0.5",children:[e.jsx("button",{onClick:()=>je("all"),className:`px-2.5 py-1.5 text-xs font-bold rounded-md transition-all ${D==="all"?"bg-white dark:bg-slate-600 text-primary dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),e.jsx("button",{onClick:()=>je("week"),className:`px-2.5 py-1.5 text-xs font-bold rounded-md transition-all ${D==="week"?"bg-white dark:bg-slate-600 text-primary dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),e.jsx("button",{onClick:()=>je("month"),className:`px-2.5 py-1.5 text-xs font-bold rounded-md transition-all ${D==="month"?"bg-white dark:bg-slate-600 text-primary dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),e.jsx("button",{onClick:()=>je("year"),className:`px-2.5 py-1.5 text-xs font-bold rounded-md transition-all ${D==="year"?"bg-white dark:bg-slate-600 text-primary dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1",children:" "}),e.jsx(zs,{value:w,onChange:Q=>Ee("start",Q),className:"w-full border border-slate-200 dark:border-slate-600 p-1.5 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 mb-1",children:" "}),e.jsx(zs,{value:B,onChange:Q=>Ee("end",Q),className:"w-full border border-slate-200 dark:border-slate-600 p-1.5 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]}),e.jsxs("div",{className:"relative customer-dropdown-container",children:[e.jsxs("label",{className:"flex items-center gap-1 text-xs font-bold text-slate-500 dark:text-slate-400 mb-1",children:[e.jsx(Ca,{size:12,className:"text-blue-500"}),"",e.jsx("span",{className:"text-slate-400 font-normal text-[10px]",children:"()"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:Z?(ye=c.find(Q=>String(Q.id)===Z))==null?void 0:ye.name:`  ${c.length} ...`,value:ae,onChange:Q=>{xe(Q.target.value),Ye(!0)},onFocus:()=>Ye(!0),className:`w-full border border-slate-200 dark:border-slate-600 p-2 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white outline-none focus:border-primary pr-8 text-sm ${Z?"border-blue-400 bg-blue-50 dark:bg-blue-900/30":""}`}),e.jsx(ua,{size:14,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-slate-400"}),Z&&e.jsx("button",{onClick:()=>{P(""),xe("")},className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-red-500 hover:text-red-700 font-bold",children:""})]}),st&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[e.jsxs("div",{className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-600 cursor-pointer text-sm text-slate-600 dark:text-slate-300 border-b border-slate-100 dark:border-slate-600",onClick:()=>{P(""),xe(""),Ye(!1)},children:["--   (",c.length,") --"]}),he.length>0?he.map(Q=>e.jsxs("div",{className:`p-2 hover:bg-blue-50 dark:hover:bg-slate-600 cursor-pointer text-sm ${String(Q.id)===Z?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-200"}`,onClick:()=>{P(String(Q.id)),xe(""),Ye(!1)},children:[Q.name," ",Q.phone?e.jsxs("span",{className:"text-xs text-slate-400",children:["(",Q.phone,")"]}):""]},Q.id)):e.jsx("div",{className:"p-3 text-center text-sm text-slate-400",children:"  "})]})]}),e.jsxs("div",{className:"relative product-dropdown-container",children:[e.jsxs("label",{className:"flex items-center gap-1 text-xs font-bold text-slate-500 dark:text-slate-400 mb-1",children:[e.jsx(Ya,{size:12,className:"text-emerald-500"}),"",e.jsx("span",{className:"text-slate-400 font-normal text-[10px]",children:"()"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:ee?(Ge=h.find(Q=>String(Q.id)===ee))==null?void 0:Ge.name:`  ${h.length} ...`,value:ve,onChange:Q=>{Ue(Q.target.value),F(!0)},onFocus:()=>F(!0),className:`w-full border border-slate-200 dark:border-slate-600 p-2 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white outline-none focus:border-primary pr-8 text-sm ${ee?"border-emerald-400 bg-emerald-50 dark:bg-emerald-900/30":""}`}),e.jsx(ua,{size:14,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-slate-400"}),ee&&e.jsx("button",{onClick:()=>{I(""),Ue("")},className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-red-500 hover:text-red-700 font-bold",children:""})]}),T&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[e.jsxs("div",{className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-600 cursor-pointer text-sm text-slate-600 dark:text-slate-300 border-b border-slate-100 dark:border-slate-600",onClick:()=>{I(""),Ue(""),F(!1)},children:["--   (",h.length,") --"]}),le.length>0?le.map(Q=>e.jsxs("div",{className:`p-2 hover:bg-emerald-50 dark:hover:bg-slate-600 cursor-pointer text-sm ${String(Q.id)===ee?"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300":"text-slate-700 dark:text-slate-200"}`,onClick:()=>{I(String(Q.id)),Ue(""),F(!1)},children:[Q.name," ",e.jsxs("span",{className:"text-xs text-slate-400",children:["- ",Q.price," ",i]})]},Q.id)):e.jsx("div",{className:"p-3 text-center text-sm text-slate-400",children:"  "})]})]})]}),(Z||ee)&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-blue-700 dark:text-blue-400",children:[e.jsx($f,{size:14}),"  :"]}),Z&&e.jsxs("span",{className:"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 px-2.5 py-1 rounded-full text-xs flex items-center gap-1.5",children:[e.jsx(Ca,{size:12})," ",(Re=c.find(Q=>String(Q.id)===Z))==null?void 0:Re.name,e.jsx("button",{onClick:()=>P(""),className:"hover:text-red-500 p-0.5 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-full transition-colors",children:e.jsx(gt,{size:12})})]}),ee&&e.jsxs("span",{className:"bg-emerald-100 dark:bg-emerald-800 text-emerald-800 dark:text-emerald-200 px-2.5 py-1 rounded-full text-xs flex items-center gap-1.5",children:[e.jsx(Ya,{size:12})," ",(Ae=h.find(Q=>String(Q.id)===ee))==null?void 0:Ae.name,e.jsx("button",{onClick:()=>I(""),className:"hover:text-red-500 p-0.5 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-full transition-colors",children:e.jsx(gt,{size:12})})]}),e.jsxs("button",{onClick:()=>{P(""),I("")},className:"text-xs text-red-600 dark:text-red-400 hover:underline font-bold flex items-center gap-1",children:[e.jsx(gt,{size:12}),"   "]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:flex-row gap-2 pt-4 border-t border-slate-50 dark:border-slate-700 mt-4",children:[me&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:ie,className:"col-span-1 sm:flex-1 bg-slate-600 text-white px-3 py-2 rounded-lg hover:bg-slate-700 flex items-center justify-center gap-2 font-bold transition-colors shadow-sm text-sm",children:[e.jsx(Fa,{size:16})," CSV"]}),e.jsxs("button",{onClick:Ce,className:"col-span-1 sm:flex-1 bg-emerald-600 text-white px-3 py-2 rounded-lg hover:bg-emerald-700 flex items-center justify-center gap-2 font-bold transition-colors shadow-sm text-sm",children:[e.jsx(Y1,{size:16})," Excel"]})]}),e.jsxs("button",{onClick:Qe,disabled:!L,className:`col-span-1 sm:flex-1 px-3 py-2 rounded-lg border flex items-center justify-center gap-2 font-bold transition-colors text-sm ${L?"bg-slate-800 dark:bg-slate-700 text-white hover:bg-slate-700 dark:hover:bg-slate-600 border-slate-700 dark:border-slate-600":"bg-slate-100 dark:bg-slate-800 text-slate-400 cursor-not-allowed border-slate-200 dark:border-slate-700"}`,children:[e.jsx(ll,{size:16}),"  / PDF"]})]})]}),L&&me?e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500 print:space-y-3 print:flex print:flex-col",children:[e.jsxs("div",{className:"flex flex-wrap md:flex-nowrap gap-3 md:gap-4 print:gap-1.5 print:order-1",children:[e.jsxs("div",{className:"flex-1 min-w-[120px] bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 print:border-black print:p-2 print:shadow-none print:rounded-md",children:[e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs mb-0.5 font-bold print:text-[9px]",children:" "}),e.jsxs("p",{className:"text-base md:text-xl font-bold text-emerald-600 dark:text-emerald-400 flex items-center gap-1 print:text-black print:text-sm",children:[e.jsx(sl,{size:16,className:"print:hidden shrink-0"})," ",me.totalRevenue.toLocaleString()]}),ee&&e.jsx("span",{className:"text-[9px] text-slate-400",children:" "})]}),!ee&&!Z&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 min-w-[120px] bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 print:border-black print:p-2 print:shadow-none print:rounded-md",children:[e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs mb-0.5 font-bold print:text-[9px]",children:" "}),e.jsxs("p",{className:"text-base md:text-xl font-bold text-blue-600 dark:text-blue-400 flex items-center gap-1 print:text-black print:text-sm",children:[e.jsx(o1,{size:16,className:"print:hidden shrink-0"})," ",me.totalOtherIncome.toLocaleString()]})]}),e.jsxs("div",{className:"flex-1 min-w-[120px] bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 print:border-black print:p-2 print:shadow-none print:rounded-md",children:[e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs mb-0.5 font-bold print:text-[9px]",children:""}),e.jsxs("p",{className:"text-base md:text-xl font-bold text-rose-600 dark:text-rose-400 flex items-center gap-1 print:text-black print:text-sm",children:[e.jsx(r1,{size:16,className:"print:hidden shrink-0"})," ",me.totalExpenses.toLocaleString()]})]})]}),e.jsx("div",{className:`flex-1 min-w-[140px] p-3 md:p-4 rounded-xl shadow-sm border print:p-2 print:shadow-none print:border-black print:rounded-md ${me.netProfit>=0?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-100 dark:border-emerald-900":"bg-rose-50 dark:bg-rose-900/20 border-rose-100 dark:border-rose-900"}`,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-xs mb-0.5 font-bold print:text-[9px] ${me.netProfit>=0?"text-emerald-800 dark:text-emerald-300":"text-rose-800 dark:text-rose-300"} print:text-black`,children:ee?" ":" "}),e.jsxs("p",{className:`text-base md:text-xl font-bold flex items-center gap-1 print:text-sm ${me.netProfit>=0?"text-emerald-700 dark:text-emerald-400":"text-rose-700 dark:text-rose-400"} print:text-black`,children:[e.jsx(Ko,{size:16,className:"print:hidden shrink-0"})," ",me.netProfit.toLocaleString()," ",e.jsx("span",{className:"text-[9px] opacity-70",children:i})]})]}),!ee&&!Z&&e.jsxs("div",{className:"text-center print:hidden",children:[e.jsx(Hu,{size:18,className:me.netProfit>=0?"text-emerald-500":"text-rose-500"}),e.jsxs("span",{className:"text-[10px] font-bold block",children:[me.profitMargin,"%"]})]})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 print:border-black print:break-inside-avoid print:order-3 print:mt-4 print:p-4",children:[e.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-slate-800 dark:text-white print:text-black print:text-sm print:mb-2",children:[e.jsx(Lf,{size:20,className:"text-slate-500 dark:text-slate-400 print:hidden"}),"  ( )"]}),e.jsxs("div",{className:"flex justify-center gap-6 mb-4 text-xs dark:text-slate-400 print:text-black print:gap-4 print:mb-2 print:text-[10px]",children:[e.jsxs("div",{className:"flex items-center gap-2 print:gap-1",children:[e.jsx("div",{className:"w-8 h-1 bg-emerald-500 rounded print:bg-black print:h-0.5 print:w-6"}),"  : "]}),e.jsxs("div",{className:"flex items-center gap-2 print:gap-1",children:[e.jsx("div",{className:"w-8 h-1 bg-rose-500 rounded print:bg-gray-400 print:h-0.5 print:border-t print:border-dashed print:w-6"}),"  : "]})]}),e.jsx("div",{className:"h-64 border-l border-b border-slate-200 dark:border-slate-700 pl-4 pb-4 print:border-black print:h-40 print:pl-2 print:pb-2",children:at(me.chartData)})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden print:border print:border-black print:order-2",children:[e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 border-b border-slate-100 dark:border-slate-700 print:bg-gray-100 print:text-black print:border-black print:p-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-300 print:text-black print:text-sm",children:"  ( )"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 print:hidden",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ua,{size:14,className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"...",value:ne,onChange:Q=>be(Q.target.value),className:"pl-2 pr-8 py-1.5 text-xs border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white w-36 focus:outline-none focus:border-primary"})]}),e.jsxs("select",{value:ce,onChange:Q=>C(Q.target.value),className:"px-2 py-1.5 text-xs border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:outline-none focus:border-primary",children:[e.jsx("option",{value:"all",children:" "}),e.jsx("option",{value:"invoices",children:" "}),e.jsx("option",{value:"expenses",children:" "}),e.jsx("option",{value:"income",children:" "})]}),e.jsxs("button",{onClick:()=>Wr({companyName:u==null?void 0:u.companyName,type:" "}),className:"flex items-center gap-1 px-3 py-1.5 text-xs bg-slate-100 dark:bg-slate-600 text-slate-700 dark:text-white rounded-lg hover:bg-slate-200 dark:hover:bg-slate-500 transition-colors",children:[e.jsx(ll,{size:14}),""]}),e.jsxs("button",{onClick:ie,className:"flex items-center gap-1 px-3 py-1.5 text-xs bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 rounded-lg hover:bg-emerald-200 dark:hover:bg-emerald-900/50 transition-colors",children:[e.jsx(id,{size:14}),""]})]})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400 print:mt-1 print:text-[10px]",children:[e.jsx("span",{className:"bg-white dark:bg-slate-700 px-2 py-1 rounded border dark:border-slate-600 print:border-black print:px-1 print:py-0.5",children:`${me.ledgerItems.filter(pe=>{const R=!ne||pe.desc.toLowerCase().includes(ne.toLowerCase())||pe.ref.toLowerCase().includes(ne.toLowerCase()),fe=ce==="all"||ce==="invoices"&&pe.type===" "||ce==="expenses"&&pe.type===""||ce==="income"&&pe.type===" ";return R&&fe}).length} `}),(ne||ce!=="all")&&e.jsx("button",{onClick:()=>{be(""),C("all")},className:"text-rose-500 hover:text-rose-700 print:hidden",children:" "})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right text-sm print:text-[9px]",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900 text-slate-500 dark:text-slate-400 print:bg-gray-200 print:text-black font-bold",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 border-b dark:border-slate-700 print:border-black print:p-1.5 print:text-[9px]",children:""}),e.jsx("th",{className:"p-3 border-b dark:border-slate-700 print:border-black print:p-1.5 print:text-[9px]",children:""}),e.jsx("th",{className:"p-3 border-b dark:border-slate-700 print:border-black print:p-1.5 print:text-[9px]",children:""}),e.jsx("th",{className:"p-3 border-b dark:border-slate-700 print:border-black text-left text-blue-700 print:text-black print:p-1.5 print:text-[9px]",children:""}),e.jsx("th",{className:"p-3 border-b dark:border-slate-700 print:border-black text-left text-emerald-700 print:text-black print:p-1.5 print:text-[9px]",children:""}),e.jsx("th",{className:"p-3 border-b dark:border-slate-700 print:border-black text-left text-amber-600 print:text-black print:p-1.5 print:text-[9px]",children:""}),e.jsx("th",{className:"p-3 border-b dark:border-slate-700 print:border-black text-left text-rose-700 print:text-black print:p-1.5 print:text-[9px]",children:""})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 print:divide-gray-300 text-slate-800 dark:text-slate-200",children:[me.ledgerItems.filter(Q=>{const pe=!ne||Q.desc.toLowerCase().includes(ne.toLowerCase())||Q.ref.toLowerCase().includes(ne.toLowerCase()),R=ce==="all"||ce==="invoices"&&Q.type===" "||ce==="expenses"&&Q.type===""||ce==="income"&&Q.type===" ";return pe&&R}).map((Q,pe)=>e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700 print:text-black",children:[e.jsx("td",{className:"p-3 print:border-l print:border-gray-300 print:p-1 print:text-[8px]",children:Q.date}),e.jsx("td",{className:"p-3 print:border-l print:border-gray-300 text-xs font-bold print:p-1 print:text-[8px]",children:Q.type}),e.jsx("td",{className:"p-3 print:border-l print:border-gray-300 print:p-1 print:text-[8px]",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:Q.desc}),Q.ref!=="-"&&e.jsx("span",{className:"text-[10px] text-slate-400 print:text-gray-500 print:text-[7px]",children:Q.ref})]})}),e.jsx("td",{className:"p-3 text-left font-mono print:border-l print:border-gray-300 text-blue-600 dark:text-blue-400 print:text-black print:p-1 print:text-[8px]",children:Q.totalAmount>0?Q.totalAmount.toLocaleString():"-"}),e.jsx("td",{className:"p-3 text-left font-mono print:border-l print:border-gray-300 text-emerald-600 dark:text-emerald-400 print:text-black print:p-1 print:text-[8px]",children:Q.credit>0?Q.credit.toLocaleString():"-"}),e.jsx("td",{className:"p-3 text-left font-mono print:border-l print:border-gray-300 text-amber-600 dark:text-amber-400 font-bold print:text-black print:p-1 print:text-[8px]",children:Q.remaining>0?Q.remaining.toLocaleString():"-"}),e.jsx("td",{className:"p-3 text-left font-mono print:border-l print:border-gray-300 text-rose-600 dark:text-rose-400 print:text-black print:p-1 print:text-[8px]",children:Q.debit>0?Q.debit.toLocaleString():"-"})]},pe)),(()=>{const Q=me.ledgerItems.filter(pe=>{const R=!ne||pe.desc.toLowerCase().includes(ne.toLowerCase())||pe.ref.toLowerCase().includes(ne.toLowerCase()),fe=ce==="all"||ce==="invoices"&&pe.type===" "||ce==="expenses"&&pe.type===""||ce==="income"&&pe.type===" ";return R&&fe});return e.jsxs("tr",{className:"bg-slate-100 dark:bg-slate-900 font-bold border-t-2 border-slate-300 dark:border-slate-600 print:border-black print:bg-gray-200",children:[e.jsx("td",{colSpan:3,className:"p-3 text-center print:p-1.5 print:text-[9px]",children:""}),e.jsx("td",{className:"p-3 text-left text-blue-700 dark:text-blue-400 print:text-black print:p-1.5 print:text-[9px]",children:Q.reduce((pe,R)=>pe+R.totalAmount,0).toLocaleString()}),e.jsx("td",{className:"p-3 text-left text-emerald-700 dark:text-emerald-400 print:text-black print:p-1.5 print:text-[9px]",children:Q.reduce((pe,R)=>pe+R.credit,0).toLocaleString()}),e.jsx("td",{className:"p-3 text-left text-amber-600 dark:text-amber-400 font-bold print:text-black print:p-1.5 print:text-[9px]",children:Q.reduce((pe,R)=>pe+R.remaining,0).toLocaleString()}),e.jsx("td",{className:"p-3 text-left text-rose-700 dark:text-rose-400 print:text-black print:p-1.5 print:text-[9px]",children:Q.reduce((pe,R)=>pe+R.debit,0).toLocaleString()})]})})()]})]})})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-400 opacity-60",children:[e.jsx(Hu,{size:64,className:"mb-4 text-slate-300 dark:text-slate-600"}),e.jsx("p",{children:"     "})]})]})},Is=[{id:"dashboard",name:" ",category:"pages"},{id:"products",name:" ",category:"pages"},{id:"customers",name:" ",category:"pages"},{id:"invoices",name:" ",category:"pages"},{id:"expenses",name:" ",category:"pages"},{id:"reports",name:" ",category:"pages"},{id:"settings",name:" ",category:"pages"},{id:"notifications",name:" ",category:"pages"},{id:"messages",name:" ",category:"pages"},{id:"plans",name:" ",category:"pages"},{id:"menu_dashboard",name:": ",category:"menu"},{id:"menu_products",name:": ",category:"menu"},{id:"menu_customers",name:": ",category:"menu"},{id:"menu_invoices",name:": ",category:"menu"},{id:"menu_expenses",name:": ",category:"menu"},{id:"menu_reports",name:": ",category:"menu"},{id:"menu_settings",name:": ",category:"menu"},{id:"menu_notifications",name:": ",category:"menu"},{id:"menu_messages",name:": ",category:"menu"},{id:"menu_plans",name:": ",category:"menu"},{id:"settings_general",name:":  ",category:"tabs"},{id:"settings_users",name:":  ",category:"tabs"},{id:"settings_sync",name:": ",category:"tabs"},{id:"settings_tools",name:":  ",category:"tabs"},{id:"settings_permissions",name:":  ",category:"tabs"},{id:"settings_admin",name:":  ",category:"tabs"},{id:"settings_plans",name:":  ",category:"tabs"},{id:"btn_add_product",name:":  ",category:"actions"},{id:"btn_add_customer",name:":  ",category:"actions"},{id:"btn_add_invoice",name:":  ",category:"actions"},{id:"btn_add_expense",name:":  ",category:"actions"},{id:"btn_unconfirm_invoice",name:":   ",category:"actions"},{id:"btn_delete_payment",name:":  ",category:"actions"},{id:"btn_print",name:": ",category:"actions"},{id:"btn_export",name:": ",category:"actions"},{id:"btn_backup",name:":  ",category:"actions"},{id:"btn_restore",name:": ",category:"actions"},{id:"btn_clear_data",name:":  ",category:"actions"},{id:"feature_dark_mode",name:":  ",category:"features"},{id:"feature_notifications",name:": ",category:"features"},{id:"feature_messages",name:": ",category:"features"},{id:"feature_activity_logs",name:":  ",category:"features"},{id:"feature_payments",name:": ",category:"features"},{id:"feature_offline_mode",name:":   ",category:"features"},{id:"feature_offline_create",name:":   ",category:"features"},{id:"feature_offline_edit",name:":   ",category:"features"},{id:"feature_offline_delete",name:":   ",category:"features"},{id:"feature_offline_sync",name:":  ",category:"features"}],sd=[{id:"all",name:""},{id:"pages",name:""},{id:"menu",name:""},{id:"tabs",name:""},{id:"actions",name:""},{id:"features",name:""}],O2=()=>{var mi,il,Rd,Ld,$d,hi,fi,Ol,Ul;const{notify:r}=us(),{user:i}=sa(),{isDarkMode:u,toggleDarkMode:c,currency:b,setCurrency:h,availableCurrencies:y,addCurrency:j,permissions:f,togglePermission:p,defaultViewMode:k,setDefaultViewMode:N,dateFormat:M,setDateFormat:z,timeFormat:w,setTimeFormat:O,dateDisplayStyle:B,setDateDisplayStyle:J}=zl(),[L,U]=x.useState("general"),[D,q]=x.useState(!1),[Z,P]=x.useState(""),[ee,I]=x.useState([]),[ae,xe]=x.useState(!1),[ve,Ue]=x.useState(""),[st,Ye]=x.useState(null),[T,F]=x.useState(!1),[ne,be]=x.useState(null),[ce,C]=x.useState(null),[Y,he]=x.useState([]),[le,je]=x.useState({}),[Ee,me]=x.useState({}),[ie,Ce]=x.useState({name:"",nameEn:"",email:"",phone:"",address:"",currencySymbol:".",taxNumber:"",logoUrl:"",adminUsername:"",adminPassword:"",adminFullName:""}),[Qe,at]=x.useState([]),[ge,Se]=x.useState(!1),[ye,Ge]=x.useState(""),[Re,Ae]=x.useState(null),[Q,pe]=x.useState(!1),[R,fe]=x.useState(!1),[_e,He]=x.useState(!1),[Ze,Ke]=x.useState(""),[We,At]=x.useState(null),[Oe,jt]=x.useState({username:"",password:"",fullName:"",email:"",phone:"",jobTitle:"",department:"",isSuperAdmin:!1,roleIds:[],accountId:i!=null&&i.accountId?parseInt(i.accountId.toString()):1}),[_t,W]=x.useState(""),[Le,ke]=x.useState(!1),[se,$e]=x.useState(1),[S,we]=x.useState([]),[Nt,Ot]=x.useState(!1),[Jt,Zt]=x.useState(""),[ue,Me]=x.useState(null),[Dt,wt]=x.useState(!1),[lt,xa]=x.useState({name:"",nameEn:"",color:"#3B82F6",description:""}),[Ua,ja]=x.useState([]),[br,pr]=x.useState(!1),[Wa,gr]=x.useState(""),[yr,an]=x.useState(null),[vr,ia]=x.useState(!1),[Ie,Ft]=x.useState(null),[Fe,H]=x.useState({name:"",nameEn:"",description:"",price:0,yearlyPrice:0,currency:".",color:"blue",icon:"Zap",isPopular:!1,sortOrder:0,maxUsers:1,maxInvoices:50,maxCustomers:25,maxProducts:50,hasBasicReports:!0,hasAdvancedReports:!1,hasEmailSupport:!0,hasPrioritySupport:!1,hasDedicatedManager:!1,hasBackup:!1,backupFrequency:"",hasCustomInvoices:!1,hasMultiCurrency:!1,hasApiAccess:!1,hasWhiteLabel:!1}),[Xe,dt]=x.useState(""),[ta,Yt]=x.useState([]),[ya,da]=x.useState(!1),[Gt,Ea]=x.useState(1),[Vs,Al]=x.useState(1),[la,ei]=x.useState("grid"),[Ml,xs]=x.useState("week"),[Gs,vd]=x.useState("grid"),ti=new Date,jd=new Date(ti.getTime()-10080*60*1e3),[ms,As]=x.useState({from:jd.toISOString().split("T")[0],to:ti.toISOString().split("T")[0]}),[hs,fs]=x.useState(""),[St,ma]=x.useState({}),[Pe,Tl]=x.useState(""),[Ms,jr]=x.useState("all"),[ct,Da]=x.useState("roles"),[sn,Qs]=x.useState(!1),[ai,Xs]=x.useState(!1),[kd,ln]=x.useState(!1),[_l,si]=x.useState(!1),[rn,Nd]=x.useState(10),[kr,cc]=x.useState(5),[li,Nr]=x.useState(!1),[bs,wr]=x.useState(""),[Ps,Dl]=x.useState(ic()),[ps,nl]=x.useState("checking"),[nn,dn]=x.useState(null),[Rl,gs]=x.useState(!1),Ll=(i==null?void 0:i.role)==="sys_admin"||(i==null?void 0:i.isSuperAdmin)===!0,[ka,Ut]=x.useState(null);x.useEffect(()=>{if(L==="general")Js();else if(L==="accounts")Js();else if(L==="users")Js(),_s(),$l();else if(L==="roles")$l();else if(L==="plans")Sr();else if(L==="logs")Ts(Gt);else if(L==="permissions"){$l(),_s(),Js();const o=localStorage.getItem("smartAccountant_permissionsMatrix");if(o)try{ma(JSON.parse(o))}catch{console.error("Failed to parse permissions matrix")}}else L==="server"&&ri()},[L]),x.useEffect(()=>{Object.keys(St).length>0&&(localStorage.setItem("smartAccountant_permissionsMatrix",JSON.stringify(St)),t2())},[St]),x.useEffect(()=>{L==="logs"&&Ts(Gt)},[Gt]);const ri=async()=>{nl("checking");const o=await Tu(Ps);nl(o.success?"connected":"disconnected"),dn(o.latency||null)},on=async()=>{nl("checking");const o=await Tu(Ps);nl(o.success?"connected":"disconnected"),dn(o.latency||null),o.success?r(`  ! (${o.latency}ms)`,"success"):r(` ${o.message}`,"error")},wd=async()=>{gs(!0);try{const o=await Tu(Ps);o.success?(Uj(Ps),nl("connected"),dn(o.latency||null),r("     ","success")):(r(`  : ${o.message}.   .`,"error"),nl("disconnected"))}catch{r("    ","error")}finally{gs(!1)}},Ts=async(o=1,v)=>{da(!0);try{const A=v||ms,Ne=new URLSearchParams;Ne.append("page",o.toString()),Ne.append("pageSize","20"),A.action&&Ne.append("action",A.action),A.from&&Ne.append("fromDate",A.from),A.to&&Ne.append("toDate",A.to);const rt=await fetch(`http://localhost:5000/api/activitylogs?${Ne.toString()}`,{headers:{"X-Account-Id":((i==null?void 0:i.accountId)||1).toString()}});if(rt.ok){const tt=await rt.json();Yt(tt.logs||[]),Al(tt.totalPages||1)}}catch(A){console.error("Failed to fetch activity logs:",A)}finally{da(!1)}},Js=x.useCallback(async()=>{xe(!0);try{const o=await is.getAll();if(I(o),i!=null&&i.accountId){const v=o.find(A=>A.id===parseInt(i.accountId.toString()));v&&C(v)}}catch(o){r(o.message||"   ","error")}finally{xe(!1)}},[r,i==null?void 0:i.accountId]),ni=x.useCallback(async o=>{me(v=>({...v,[o]:!0}));try{const v=await el.getAll({accountId:o,pageSize:50});je(A=>({...A,[o]:v.items}))}catch(v){console.error(`Failed to load users for account ${o}:`,v)}finally{me(v=>({...v,[o]:!1}))}},[]),Ra=x.useCallback(o=>{he(v=>v.includes(o)?v.filter(A=>A!==o):(le[o]||ni(o),[...v,o]))},[le,ni]),_s=x.useCallback(async()=>{Se(!0);try{const o=(i==null?void 0:i.role)==="sys_admin"||(i==null?void 0:i.isSuperAdmin)===!0,v=await el.getAll({accountId:o?void 0:(i==null?void 0:i.accountId)||1,pageSize:100});at(v.items)}catch(o){r(o.message||"   ","error")}finally{Se(!1)}},[i==null?void 0:i.accountId,i==null?void 0:i.role,i==null?void 0:i.isSuperAdmin,r]),$l=x.useCallback(async()=>{Ot(!0);try{const o=await td.getAll((i==null?void 0:i.accountId)||1);we(o)}catch(o){r(o.message||"   ","error")}finally{Ot(!1)}},[i==null?void 0:i.accountId,r]),Sr=x.useCallback(async()=>{pr(!0);try{const o=await Xr.getAll(!0);ja(o)}catch(o){r(o.message||"   ","error")}finally{pr(!1)}},[r]),uc=async()=>{if(!Oe.username||!Oe.password||!Oe.fullName){r("   ","warning");return}q(!0);try{const o={accountId:se||(i==null?void 0:i.accountId)||1,username:Oe.username,password:Oe.password,fullName:Oe.fullName,email:Oe.email||void 0,phone:Oe.phone||void 0,jobTitle:Oe.jobTitle||void 0,department:Oe.department||void 0,isSuperAdmin:Oe.isSuperAdmin,roleIds:Oe.roleIds,assignedByUserId:parseInt((i==null?void 0:i.id)||"1")},v=await el.create(o);at(A=>[...A,v]),r("   ","success"),pe(!1),xn()}catch(o){r(o.message||"   ","error")}finally{q(!1)}},ii=async()=>{if(We){q(!0);try{const o={fullName:Oe.fullName,email:Oe.email||void 0,phone:Oe.phone||void 0,jobTitle:Oe.jobTitle||void 0,department:Oe.department||void 0,isSuperAdmin:Oe.isSuperAdmin},v=await el.update(We.id,o);Oe.roleIds.length>0&&await el.updateRoles(We.id,Oe.roleIds,parseInt((i==null?void 0:i.id)||"1")),at(A=>A.map(Ne=>Ne.id===We.id?{...Ne,...o,roles:S.filter(rt=>Oe.roleIds.includes(rt.id))}:Ne)),r("   ","success"),pe(!1),At(null),xn()}catch(o){r(o.message||"   ","error")}finally{q(!1)}}},cn=async o=>{const v=!o.isActive;Ut({show:!0,title:v?" ":" ",message:`    ${v?"":""}  "${o.fullName}"`,type:v?"info":"warning",onConfirm:async()=>{try{await el.toggleStatus(o.id,v),at(A=>A.map(Ne=>Ne.id===o.id?{...Ne,isActive:v}:Ne)),r(v?"  ":"  ","success")}catch(A){r(A.message||"    ","error")}Ut(null)}})},Cr=async o=>{const v=!o.isLocked;Ut({show:!0,title:v?" ":" ",message:`    ${v?"":" "}  "${o.fullName}"`,type:v?"danger":"info",onConfirm:async()=>{try{await el.toggleLock(o.id,v),at(A=>A.map(Ne=>Ne.id===o.id?{...Ne,isLocked:v}:Ne)),r(v?"  ":"  ","success")}catch(A){r(A.message||"    ","error")}Ut(null)}})},un=async()=>{if(!Re||!_t){r("    ","warning");return}if(_t.length<6){r("     6   ","warning");return}q(!0);try{await el.changePassword(Re.id,_t),r("    ","success"),fe(!1),W(""),Ae(null)}catch(o){r(o.message||"    ","error")}finally{q(!1)}},di=async o=>{Ut({show:!0,title:" ",message:`      "${o.fullName}"      .`,type:"danger",onConfirm:async()=>{try{await el.delete(o.id),at(v=>v.filter(A=>A.id!==o.id)),r("   ","success")}catch(v){r(v.message||"   ","error")}Ut(null)}})},Sd=o=>{var v;At(o),jt({username:o.username,password:"",fullName:o.fullName,email:o.email||"",phone:o.phone||"",jobTitle:o.jobTitle||"",department:o.department||"",isSuperAdmin:o.isSuperAdmin,roleIds:((v=o.roles)==null?void 0:v.map(A=>A.id))||[]}),pe(!0)},xn=()=>{jt({username:"",password:"",fullName:"",email:"",phone:"",jobTitle:"",department:"",isSuperAdmin:!1,roleIds:[],accountId:i!=null&&i.accountId?parseInt(i.accountId.toString()):1}),$e(i!=null&&i.accountId?parseInt(i.accountId.toString()):1),At(null)},xc=async()=>{if(!ie.name||!ie.adminUsername||!ie.adminPassword){r("   ","warning");return}q(!0);try{const o={name:ie.name,nameEn:ie.nameEn||void 0,email:ie.email||void 0,phone:ie.phone||void 0,address:ie.address||void 0,currencySymbol:ie.currencySymbol||".",taxNumber:ie.taxNumber||void 0,adminUsername:ie.adminUsername,adminPassword:ie.adminPassword,adminFullName:ie.adminFullName||ie.name},v=await is.create(o);I(A=>[...A,v]),r("   ","success"),F(!1),mn()}catch(o){r(o.message||"   ","error")}finally{q(!1)}},oi=async()=>{if(ne){q(!0);try{const o={name:ie.name,nameEn:ie.nameEn||void 0,email:ie.email||void 0,phone:ie.phone||void 0,address:ie.address||void 0,currencySymbol:ie.currencySymbol,taxNumber:ie.taxNumber||void 0,logoUrl:ie.logoUrl||void 0},v=await is.update(ne.id,o);ie.logoUrl!==ne.logoUrl&&await is.updateLogo(ne.id,ie.logoUrl||""),I(A=>A.map(Ne=>Ne.id===ne.id?{...Ne,...o,logoUrl:ie.logoUrl}:Ne)),r("   ","success"),F(!1),be(null),mn()}catch(o){r(o.message||"   ","error")}finally{q(!1)}}},mc=async o=>{Ut({show:!0,title:" ",message:`      "${o.name}"     .`,type:"danger",onConfirm:async()=>{try{await is.delete(o.id),I(v=>v.filter(A=>A.id!==o.id)),r("   ","success")}catch(v){r(v.message||"   ","error")}Ut(null)}})},hc=async o=>{const v=!o.isActive;Ut({show:!0,title:v?" ":" ",message:`    ${v?"":""}  "${o.name}"${v?"":`
       .`}`,type:v?"info":"warning",onConfirm:async()=>{try{await is.toggleStatus(o.id,v),I(A=>A.map(Ne=>Ne.id===o.id?{...Ne,isActive:v}:Ne)),r(v?"  ":"  ","success")}catch(A){r(A.message||"    ","error")}Ut(null)}})},Cd=o=>{be(o),Ce({name:o.name,nameEn:o.nameEn||"",email:o.email||"",phone:o.phone||"",address:o.address||"",currencySymbol:o.currency||".",taxNumber:o.taxNumber||"",logoUrl:o.logoUrl||"",adminUsername:"",adminPassword:"",adminFullName:""}),F(!0)},mn=()=>{Ce({name:"",nameEn:"",email:"",phone:"",address:"",currencySymbol:".",taxNumber:"",logoUrl:"",adminUsername:"",adminPassword:"",adminFullName:""}),be(null)},fc=async()=>{if(!lt.name){r("   ","warning");return}q(!0);try{const o=await td.create({accountId:(i==null?void 0:i.accountId)||1,name:lt.name,nameEn:lt.nameEn||void 0,color:lt.color,description:lt.description||void 0});we(v=>[...v,o]),r("   ","success"),wt(!1),ci()}catch(o){r(o.message||"   ","error")}finally{q(!1)}},Ed=async()=>{if(ue){q(!0);try{const o=await td.update(ue.id,{name:lt.name,nameEn:lt.nameEn||void 0,color:lt.color,description:lt.description||void 0});we(v=>v.map(A=>A.id===ue.id?{...A,...lt}:A)),r("   ","success"),wt(!1),Me(null),ci()}catch(o){r(o.message||"   ","error")}finally{q(!1)}}},bc=async o=>{if(o.isSystemRole){r("     ","warning");return}const v=!o.isActive,A=v?"":"";Ut({show:!0,title:`${A} `,message:`    ${A}  "${o.name}"`,type:v?"info":"warning",onConfirm:async()=>{try{const Ne=await td.toggleStatus(o.id,v);we(rt=>rt.map(tt=>tt.id===o.id?{...tt,isActive:Ne.isActive}:tt)),r(Ne.message||` ${A}  `,"success")}catch(Ne){r(Ne.message||`  ${A} `,"error")}Ut(null)}})},pc=async o=>{if(o.isSystemRole){r("    ","warning");return}Ut({show:!0,title:" ",message:`      "${o.name}"`,type:"danger",onConfirm:async()=>{try{await td.delete(o.id),we(v=>v.filter(A=>A.id!==o.id)),r("   ","success")}catch(v){r(v.message||"   ","error")}Ut(null)}})},ci=()=>{xa({name:"",nameEn:"",color:"#3B82F6",description:""}),Me(null)},gc=async()=>{if(!Fe.name){r("   ","warning");return}q(!0);try{const o=await Xr.create(Fe);ja(v=>[...v,o]),r("   ","success"),ia(!1),Er()}catch(o){r(o.message||"   ","error")}finally{q(!1)}},ui=async()=>{if(Ie){q(!0);try{const o=await Xr.update(Ie.id,Fe);ja(v=>v.map(A=>A.id===Ie.id?o:A)),r("   ","success"),ia(!1),Ft(null),Er()}catch(o){r(o.message||"   ","error")}finally{q(!1)}}},yc=async o=>{const v=!o.isActive,A=v?"":"";Ut({show:!0,title:`${A} `,message:`    ${A}  "${o.name}"`,type:v?"info":"warning",onConfirm:async()=>{try{const Ne=await Xr.toggleStatus(o.id);ja(rt=>rt.map(tt=>tt.id===o.id?{...tt,isActive:Ne.isActive}:tt)),r(Ne.message||` ${A}  `,"success")}catch(Ne){r(Ne.message||`  ${A} `,"error")}Ut(null)}})},vc=async o=>{Ut({show:!0,title:" ",message:`      "${o.name}"      .`,type:"danger",onConfirm:async()=>{try{await Xr.delete(o.id),ja(v=>v.filter(A=>A.id!==o.id)),r("   ","success")}catch(v){r(v.message||"   ","error")}Ut(null)}})},Er=()=>{H({name:"",nameEn:"",description:"",price:0,yearlyPrice:0,currency:".",color:"blue",icon:"Zap",isPopular:!1,sortOrder:0,maxUsers:1,maxInvoices:50,maxCustomers:25,maxProducts:50,hasBasicReports:!0,hasAdvancedReports:!1,hasEmailSupport:!0,hasPrioritySupport:!1,hasDedicatedManager:!1,hasBackup:!1,backupFrequency:"",hasCustomInvoices:!1,hasMultiCurrency:!1,hasApiAccess:!1,hasWhiteLabel:!1}),Ft(null)},zd=o=>{Ft(o),H({name:o.name,nameEn:o.nameEn||"",description:o.description||"",price:o.price,yearlyPrice:o.yearlyPrice||0,currency:o.currency,color:o.color,icon:o.icon,isPopular:o.isPopular,sortOrder:o.sortOrder,maxUsers:o.maxUsers,maxInvoices:o.maxInvoices,maxCustomers:o.maxCustomers,maxProducts:o.maxProducts,hasBasicReports:o.hasBasicReports,hasAdvancedReports:o.hasAdvancedReports,hasEmailSupport:o.hasEmailSupport,hasPrioritySupport:o.hasPrioritySupport,hasDedicatedManager:o.hasDedicatedManager,hasBackup:o.hasBackup,backupFrequency:o.backupFrequency||"",hasCustomInvoices:o.hasCustomInvoices,hasMultiCurrency:o.hasMultiCurrency,hasApiAccess:o.hasApiAccess,hasWhiteLabel:o.hasWhiteLabel}),ia(!0)},hn=Qe.filter(o=>o.fullName.toLowerCase().includes(ye.toLowerCase())||o.username.toLowerCase().includes(ye.toLowerCase())||o.email&&o.email.toLowerCase().includes(ye.toLowerCase())),Ad=Ua.filter(o=>o.name.toLowerCase().includes(Wa.toLowerCase())||o.nameEn&&o.nameEn.toLowerCase().includes(Wa.toLowerCase())||o.description&&o.description.toLowerCase().includes(Wa.toLowerCase())),jc=o=>{o.preventDefault(),Xe.trim()&&(j(Xe.trim()),dt(""),r("  ","success"))},zr=ta.filter(o=>{var A,Ne,rt,tt,Qt,nt;if(!hs.trim())return!0;const v=hs.toLowerCase();return((A=o.action)==null?void 0:A.toLowerCase().includes(v))||((Ne=o.entityType)==null?void 0:Ne.toLowerCase().includes(v))||((rt=o.entityName)==null?void 0:rt.toLowerCase().includes(v))||((tt=o.description)==null?void 0:tt.toLowerCase().includes(v))||((Qt=o.descriptionEn)==null?void 0:Qt.toLowerCase().includes(v))||((nt=o.ipAddress)==null?void 0:nt.toLowerCase().includes(v))}),kc=()=>{try{const o={exportDate:new Date().toISOString(),version:"1.0",products:JSON.parse(localStorage.getItem("smartAccountant_products")||"[]"),customers:JSON.parse(localStorage.getItem("smartAccountant_customers")||"[]"),invoices:JSON.parse(localStorage.getItem("smartAccountant_invoices")||"[]"),expenses:JSON.parse(localStorage.getItem("smartAccountant_expenses")||"[]")},v=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),A=URL.createObjectURL(v),Ne=document.createElement("a");Ne.href=A,Ne.download=`smartAccountant_backup_${new Date().toISOString().split("T")[0]}.json`,Ne.click(),URL.revokeObjectURL(A),r("    ","success")}catch{r("    ","error")}},Nc=()=>{try{const o=JSON.parse(bs);o.products&&localStorage.setItem("smartAccountant_products",JSON.stringify(o.products)),o.customers&&localStorage.setItem("smartAccountant_customers",JSON.stringify(o.customers)),o.invoices&&localStorage.setItem("smartAccountant_invoices",JSON.stringify(o.invoices)),o.expenses&&localStorage.setItem("smartAccountant_expenses",JSON.stringify(o.expenses)),r("   .   .","success"),ln(!1),wr("")}catch{r(" JSON  ","error")}},wc=()=>{localStorage.removeItem("smartAccountant_products"),localStorage.removeItem("smartAccountant_customers"),localStorage.removeItem("smartAccountant_invoices"),localStorage.removeItem("smartAccountant_expenses"),r("   .   .","success"),si(!1)},Sc=()=>{Nr(!0),setTimeout(()=>{const o=Array.from({length:rn},(rt,tt)=>({id:`prod_${Date.now()}_${tt}`,name:`  ${tt+1}`,price:Math.floor(Math.random()*1e3)+10,quantity:Math.floor(Math.random()*100)+1,category:["","","",""][Math.floor(Math.random()*4)]})),v=Array.from({length:kr},(rt,tt)=>({id:`cust_${Date.now()}_${tt}`,name:`  ${tt+1}`,phone:`05${Math.floor(Math.random()*1e8).toString().padStart(8,"0")}`,email:`customer${tt+1}@test.com`})),A=JSON.parse(localStorage.getItem("smartAccountant_products")||"[]"),Ne=JSON.parse(localStorage.getItem("smartAccountant_customers")||"[]");localStorage.setItem("smartAccountant_products",JSON.stringify([...A,...o])),localStorage.setItem("smartAccountant_customers",JSON.stringify([...Ne,...v])),Nr(!1),Xs(!1),r(`  ${rn}   ${kr} `,"success")},1e3)},Md=[{id:"general",label:"",icon:mr},{id:"accounts",label:"",icon:Bs},{id:"users",label:"",icon:Za},{id:"roles",label:"",icon:tl},{id:"plans",label:"",icon:Es},{id:"server",label:" ",icon:Jo}],xi=Ll?[...Md,{id:"tools",label:" ",icon:Bf},{id:"permissions",label:" ",icon:Yn},{id:"logs",label:" ",icon:Ba}]:Md,Ar=[{keyword:"",keywords:["","","","","theme","dark","light","",""],tab:"general",path:" > ",icon:""},{keyword:" ",keywords:["","dark","",""],tab:"general",path:" > ",icon:""},{keyword:" ",keywords:["","light","",""],tab:"general",path:" > ",icon:""},{keyword:"",keywords:["","currency","","","","","",""],tab:"general",path:" > ",icon:""},{keyword:" ",keywords:["","","","grid","table","view","",""],tab:"general",path:" >  ",icon:""},{keyword:"",keywords:["","language","","","english","arabic"],tab:"general",path:" > ",icon:""},{keyword:"",keywords:["","logo","","","",""],tab:"general",path:" >  ",icon:""},{keyword:" ",keywords:[" "," ","upload logo"," "],tab:"general",path:" >  ",icon:""},{keyword:" ",keywords:[" "," ","show logo","hide logo"],tab:"general",path:" >  ",icon:""},{keyword:"",keywords:["","","permissions","","","",""],tab:"general",path:" >  ",icon:""},{keyword:" ",keywords:["","","invoice",""],tab:"general",path:" >  > ",icon:""},{keyword:" ",keywords:["","","product",""],tab:"general",path:" >  > ",icon:""},{keyword:" ",keywords:["","","customer",""],tab:"general",path:" >  > ",icon:""},{keyword:" ",keywords:["","","expense",""],tab:"general",path:" >  > ",icon:""},{keyword:" ",keywords:["","","","","manage accounts","accounts management"],tab:"accounts",path:"",icon:""},{keyword:"  ",keywords:[" "," ","","","companies"],tab:"accounts",path:"",icon:""},{keyword:"",keywords:["","","account","company","","","","",""],tab:"accounts",path:"",icon:""},{keyword:" ",keywords:[" "," ","new account"," ","add account"," "],tab:"accounts",path:" > ",icon:""},{keyword:" ",keywords:[" "," ","edit account","update account"],tab:"accounts",path:" > ",icon:""},{keyword:" ",keywords:[" ","delete account","remove account"],tab:"accounts",path:" > ",icon:""},{keyword:" ",keywords:["","activate","enable"," "],tab:"accounts",path:" > ",icon:""},{keyword:" ",keywords:["","deactivate","disable"," "],tab:"accounts",path:" > ",icon:""},{keyword:" ",keywords:["","","","users management","manage users"],tab:"users",path:"",icon:""},{keyword:"",keywords:["","user","users","","","",""],tab:"users",path:"",icon:""},{keyword:" ",keywords:[" ","new user","add user"," "],tab:"users",path:" > ",icon:""},{keyword:" ",keywords:[" ","password","",""," "],tab:"users",path:" >  ",icon:""},{keyword:" ",keywords:["","email","","mail"],tab:"users",path:" > ",icon:""},{keyword:" ",keywords:["","","","roles management","manage roles"],tab:"roles",path:"",icon:""},{keyword:"",keywords:["","role","roles","","",""],tab:"roles",path:"",icon:""},{keyword:" ",keywords:["admin","","","administrator"],tab:"roles",path:" > ",icon:""},{keyword:" ",keywords:["","accountant",""],tab:"roles",path:" > ",icon:""},{keyword:" ",keywords:["","seller","","sales"],tab:"roles",path:" > ",icon:""},{keyword:" ",keywords:["","plans","","pricing","",""],tab:"plans",path:"",icon:""},{keyword:"",keywords:["","plan","","subscription",""],tab:"plans",path:"",icon:""},{keyword:" ",keywords:[" ","new plan","add plan"," "],tab:"plans",path:" > ",icon:""},{keyword:" ",keywords:[" ","edit plan","update plan"," "],tab:"plans",path:" > ",icon:""},{keyword:" ",keywords:["","price","","",""],tab:"plans",path:" > ",icon:""},{keyword:"",keywords:["","server","api","","",""],tab:"server",path:" ",icon:""},{keyword:" API",keywords:["api url","endpoint","backend",""],tab:"server",path:"  > ",icon:""},{keyword:" ",keywords:["connection","","online","offline",""],tab:"server",path:"  > ",icon:""},{keyword:" ",keywords:["database","db","","","sql"],tab:"server",path:"  >  ",icon:""},{keyword:" ",keywords:["","tools","","","",""],tab:"tools",path:" ",icon:""},{keyword:" ",keywords:["mock","generate","test data"," ",""],tab:"tools",path:"  >  ",icon:""},{keyword:" ",keywords:["export","","backup","",""],tab:"tools",path:"  > ",icon:""},{keyword:" ",keywords:["import","","restore","",""],tab:"tools",path:"  > ",icon:""},{keyword:" ",keywords:["backup","","",""],tab:"tools",path:"  >  ",icon:""},{keyword:" ",keywords:["","matrix","permissions"," "],tab:"permissions",path:" ",icon:""},{keyword:" ",keywords:["","assign","grant",""],tab:"permissions",path:"  > ",icon:""},{keyword:"   ",keywords:["offline"," ",""," "," "],tab:"permissions",path:"  > Offline",icon:""},{keyword:" ",keywords:["sync","","","synchronization"],tab:"permissions",path:"  > ",icon:""},{keyword:" ",keywords:["","","log","activity","","logs",""],tab:"logs",path:" ",icon:""},{keyword:" ",keywords:[" ","login","signin",""],tab:"logs",path:"  > ",icon:""},{keyword:" ",keywords:["","","edit","update","modifications"],tab:"logs",path:"  > ",icon:""},{keyword:" ",keywords:["","","delete","remove"],tab:"logs",path:"  > ",icon:""},{keyword:"",keywords:["","invoice","","",""],tab:"general",path:" > ",icon:""},{keyword:"",keywords:["","product","","",""],tab:"general",path:" > ",icon:""},{keyword:"",keywords:["","customer","",""],tab:"general",path:" > ",icon:""},{keyword:"",keywords:["","report","","statistics",""],tab:"general",path:" > ",icon:""},{keyword:"",keywords:["","notification","",""],tab:"general",path:" > ",icon:""},{keyword:"",keywords:["","message","","","chat"],tab:"general",path:" > ",icon:""},{keyword:"",keywords:["","print","","a4","pdf"],tab:"general",path:" > ",icon:""},{keyword:"",keywords:["","receipt","",""],tab:"general",path:" > ",icon:""},{keyword:"",keywords:["","tax","vat"," "],tab:"general",path:" > ",icon:""},{keyword:"",keywords:["","discount","",""],tab:"general",path:" > ",icon:""},{keyword:"  ",keywords:["offline",""," ","",""],tab:"tools",path:" > Offline Mode",icon:""},{keyword:"Offline Mode",keywords:["offline","mode","",""],tab:"tools",path:" > Offline Mode",icon:""},{keyword:"",keywords:["","sync","synchronize","",""],tab:"tools",path:" > ",icon:""},{keyword:"  ",keywords:["","internet","","","network"],tab:"tools",path:" > Offline Mode",icon:""},{keyword:" ",keywords:["","local","storage","",""],tab:"tools",path:" > ",icon:""}],Cc=Z.trim()?ee.filter(o=>{var v,A;return o.name.toLowerCase().includes(Z.toLowerCase())||((v=o.nameEn)==null?void 0:v.toLowerCase().includes(Z.toLowerCase()))||((A=o.email)==null?void 0:A.toLowerCase().includes(Z.toLowerCase()))}).map(o=>({keyword:o.name,keywords:[o.nameEn||"",o.email||""],tab:"accounts",path:` > ${o.name}`,icon:"",accountId:o.id})):[],Td=Z.trim()?Qe.filter(o=>{var v;return o.fullName.toLowerCase().includes(Z.toLowerCase())||o.username.toLowerCase().includes(Z.toLowerCase())||((v=o.email)==null?void 0:v.toLowerCase().includes(Z.toLowerCase()))}).map(o=>({keyword:o.fullName,keywords:[o.username,o.email||""],tab:"users",path:` > ${o.fullName}`,icon:"",userId:o.id})):[],_d=Z.trim()?S.filter(o=>{var v;return o.name.toLowerCase().includes(Z.toLowerCase())||((v=o.nameEn)==null?void 0:v.toLowerCase().includes(Z.toLowerCase()))}).map(o=>({keyword:o.name,keywords:[o.nameEn||""],tab:"roles",path:` > ${o.name}`,icon:"",roleId:o.id})):[],Dd=Z.trim()?Ar.filter(o=>o.keyword.includes(Z)||o.keywords.some(v=>v.includes(Z.toLowerCase()))):[],Mr=[...Cc.slice(0,5),...Td.slice(0,5),..._d.slice(0,5),...Dd.slice(0,15)];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-6 border border-slate-100 dark:border-slate-700",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-3",children:[e.jsx(mr,{className:"text-primary"}),""]}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"    "})]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(ua,{className:"absolute right-3 top-2.5 text-slate-400",size:18}),e.jsx("input",{type:"text",value:Z,onChange:o=>P(o.target.value),placeholder:"  ...",className:"w-full pr-10 pl-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white placeholder:text-slate-400"}),Mr.length>0&&e.jsxs("div",{className:"absolute top-full mt-2 w-full bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-200 dark:border-slate-700 z-50 max-h-80 overflow-y-auto",children:[e.jsx("div",{className:"p-2 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900",children:e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[Mr.length," "]})}),Mr.map((o,v)=>e.jsxs("button",{onClick:()=>{U(o.tab),P(""),"accountId"in o&&o.tab==="accounts"?Ue(o.keyword):"userId"in o&&o.tab==="users"?Ge(o.keyword):"roleId"in o&&o.tab==="roles"&&Zt(o.keyword)},className:"w-full px-4 py-3 text-right hover:bg-primary/10 dark:hover:bg-primary/20 flex items-center justify-between gap-2 border-b border-slate-100 dark:border-slate-700 last:border-0 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:o.icon}),e.jsx("span",{className:"font-medium text-slate-800 dark:text-white",children:o.keyword})]}),e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded",children:[e.jsx(w1,{size:12}),o.path]})]},v))]}),Z.trim()&&Mr.length===0&&e.jsx("div",{className:"absolute top-full mt-2 w-full bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-200 dark:border-slate-700 z-50 p-4 text-center text-slate-500 dark:text-slate-400",children:"  "})]})]})}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:xi.map(o=>e.jsxs("button",{onClick:()=>U(o.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg font-medium whitespace-nowrap transition-all ${L===o.id?"bg-primary text-white shadow-lg shadow-primary/30":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700"}`,children:[e.jsx(o.icon,{size:18}),o.label]},o.id))}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[L==="general"&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[u?e.jsx(Iu,{className:"text-indigo-500"}):e.jsx(qu,{className:"text-amber-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-800 dark:text-white",children:""}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:u?" ":" "})]})]}),e.jsx("button",{onClick:c,className:`relative w-14 h-7 rounded-full transition-colors ${u?"bg-indigo-600":"bg-slate-300"}`,children:e.jsx("span",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${u?"right-1":"left-1"}`})})]}),e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-lg space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(od,{className:"text-emerald-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-800 dark:text-white",children:" "}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"    "})]})]}),e.jsx("select",{value:b,onChange:o=>h(o.target.value),className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",children:y.map(o=>e.jsx("option",{value:o,children:o},o))}),e.jsxs("form",{onSubmit:jc,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:Xe,onChange:o=>dt(o.target.value),placeholder:"  ...",className:"flex-1 p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white"}),e.jsx("button",{type:"submit",className:"px-4 py-2.5 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:e.jsx($a,{size:18})})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-lg space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(or,{className:"text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-800 dark:text-white",children:" "}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:" / "})]})]}),ae&&e.jsx(xt,{className:"w-5 h-5 animate-spin text-primary"})]}),ce?e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[ce.logoUrl?e.jsx("img",{src:ce.logoUrl,alt:ce.name,className:"w-14 h-14 rounded-lg object-cover border-2 border-slate-200 dark:border-slate-600"}):e.jsx("div",{className:"w-14 h-14 rounded-lg bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:e.jsx("span",{className:"text-xl font-bold text-primary",children:ce.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-slate-800 dark:text-white",children:ce.name}),ce.nameEn&&e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:ce.nameEn})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${ce.isActive?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:ce.isActive?"":""})]}),e.jsxs("div",{className:"space-y-2 p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[ce.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(al,{size:14,className:"text-slate-400"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:ce.email})]}),ce.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Jn,{size:14,className:"text-slate-400"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:ce.phone})]}),ce.address&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(yv,{size:14,className:"text-slate-400"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:ce.address})]}),ce.taxNumber&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Fa,{size:14,className:"text-slate-400"}),e.jsxs("span",{className:"text-slate-600 dark:text-slate-300",children:[" : ",ce.taxNumber]})]})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:""}),e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${ce.plan==="Enterprise"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":ce.plan==="Professional"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":ce.plan==="Basic"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"}`,children:ce.plan==="Trial"?"":ce.plan==="Basic"?"":ce.plan==="Professional"?"":ce.plan==="Enterprise"?"":ce.plan})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:""}),e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:ce.currency})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:" "}),e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:ce.usersCount})]})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:" "}),e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-200",children:new Date(ce.createdAt).toLocaleDateString("ar-EG")})]}),ce.subscriptionExpiry&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:" "}),e.jsx("span",{className:`text-sm font-medium ${new Date(ce.subscriptionExpiry)<new Date?"text-red-600 dark:text-red-400":"text-slate-700 dark:text-slate-200"}`,children:new Date(ce.subscriptionExpiry).toLocaleDateString("ar-EG")})]})]})]}):e.jsx("div",{className:"text-center py-6 text-slate-500 dark:text-slate-400",children:ae?"  ...":"   "})]})]}),L==="accounts"&&e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"   "})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ua,{className:"absolute right-3 top-2.5 text-slate-400",size:16}),e.jsx("input",{type:"text",value:ve,onChange:o=>Ue(o.target.value),placeholder:"  ...",className:"w-48 pr-9 pl-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white placeholder:text-slate-400"}),ve&&e.jsx("button",{onClick:()=>Ue(""),className:"absolute left-2 top-2.5 text-slate-400 hover:text-slate-600",children:e.jsx(gt,{size:16})})]}),e.jsx("button",{onClick:Js,disabled:ae,className:"p-2.5 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 disabled:opacity-50",children:e.jsx(Oa,{size:18,className:ae?"animate-spin":""})}),e.jsxs("button",{onClick:()=>{mn(),F(!0)},className:"flex items-center gap-2 px-4 py-2.5 bg-primary text-white rounded-lg hover:bg-primary/90",children:[e.jsx($a,{size:18})," "]})]})]}),ae?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(xt,{className:"w-8 h-8 animate-spin text-primary"})}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[ee.filter(o=>{var v,A;return!ve.trim()||o.name.toLowerCase().includes(ve.toLowerCase())||((v=o.nameEn)==null?void 0:v.toLowerCase().includes(ve.toLowerCase()))||((A=o.email)==null?void 0:A.toLowerCase().includes(ve.toLowerCase()))}).map(o=>{var v;return e.jsxs("div",{className:"p-5 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-primary dark:hover:border-primary transition-all hover:shadow-lg cursor-pointer group",onClick:()=>Cd(o),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl overflow-hidden border-2 border-slate-200 dark:border-slate-600 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 flex items-center justify-center group-hover:border-primary transition-colors",children:o.logoUrl?e.jsx("img",{src:o.logoUrl,alt:o.name,className:"w-full h-full object-cover",onError:A=>{A.target.style.display="none",A.target.parentElement.innerHTML=`<span class="text-xl font-bold text-primary dark:text-blue-400">${o.name.charAt(0)}</span>`}}):e.jsx("span",{className:"text-xl font-bold text-primary dark:text-blue-400",children:o.name.charAt(0)})}),e.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(Of,{size:20,className:"text-white"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:o.name}),o.nameEn&&e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:o.nameEn})]})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${o.isActive?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:o.isActive?"":""})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[o.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(al,{size:14}),e.jsx("span",{children:o.email})]}),o.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(Jn,{size:14}),e.jsx("span",{children:o.phone})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600 dark:text-slate-400 cursor-pointer hover:text-primary dark:hover:text-blue-400 transition-colors",onClick:A=>{A.stopPropagation(),Ra(o.id)},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Za,{size:14}),e.jsxs("span",{children:[o.usersCount," "]})]}),e.jsx(Nb,{size:16,className:`transition-transform ${Y.includes(o.id)?"rotate-180":""}`})]}),Y.includes(o.id)&&e.jsx("div",{className:"mt-2 mr-4 pr-2 border-r-2 border-primary/30",children:Ee[o.id]?e.jsxs("div",{className:"flex items-center gap-2 py-2 text-xs text-slate-400",children:[e.jsx(xt,{size:12,className:"animate-spin"}),e.jsx("span",{children:" ..."})]}):((v=le[o.id])==null?void 0:v.length)>0?e.jsx("div",{className:"space-y-1.5",children:le[o.id].map(A=>{var Ne;return e.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 rounded bg-slate-50 dark:bg-slate-700/50 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center text-primary text-[10px] font-medium",children:((Ne=A.fullName)==null?void 0:Ne.charAt(0))||A.username.charAt(0)}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:A.fullName||A.username}),e.jsxs("span",{className:"text-slate-400 mr-1",children:["(",A.username,")"]})]})]}),e.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] ${A.isActive?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:A.isActive?"":""})]},A.id)})}):e.jsx("div",{className:"py-2 text-xs text-slate-400",children:"  "})}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(Jr,{size:14}),e.jsxs("span",{children:[": ",o.plan]})]}),o.subscriptionExpiry&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(Ka,{size:14}),e.jsxs("span",{children:[": ",qs(o.subscriptionExpiry)]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-100 dark:border-slate-700",children:[e.jsxs("button",{onClick:A=>{A.stopPropagation(),hc(o)},className:`flex-1 flex items-center justify-center gap-1 py-2 text-sm rounded-lg transition-colors ${o.isActive?"text-amber-600 hover:bg-amber-50 dark:hover:bg-amber-900/30":"text-green-600 hover:bg-green-50 dark:hover:bg-green-900/30"}`,children:[o.isActive?e.jsx(zu,{size:14}):e.jsx(Eu,{size:14}),o.isActive?"":""]}),e.jsxs("button",{onClick:A=>{A.stopPropagation(),Cd(o)},className:"flex-1 flex items-center justify-center gap-1 py-2 text-sm text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:[e.jsx(Wt,{size:14}),""]}),e.jsxs("button",{onClick:A=>{A.stopPropagation(),mc(o)},className:"flex-1 flex items-center justify-center gap-1 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:[e.jsx(qt,{size:14}),""]})]})]},o.id)}),ee.length===0&&e.jsxs("div",{className:"col-span-full p-12 text-center text-slate-400",children:[e.jsx(Bs,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"  "})]})]})]}),L==="users"&&e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[e.jsxs("div",{className:"relative flex-1 w-full sm:max-w-xs",children:[e.jsx(ua,{className:"absolute right-3 top-2.5 text-slate-400",size:18}),e.jsx("input",{type:"text",value:ye,onChange:o=>Ge(o.target.value),placeholder:"  ...",className:"w-full pr-10 pl-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white"})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("div",{className:"flex items-center gap-1 p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[e.jsx("button",{onClick:()=>vd("table"),className:`p-1.5 rounded transition-all ${Gs==="table"?"bg-blue-500 text-white":"text-slate-400 hover:text-slate-600"}`,title:" ",children:e.jsx(Sl,{size:18})}),e.jsx("button",{onClick:()=>vd("grid"),className:`p-1.5 rounded transition-all ${Gs==="grid"?"bg-blue-500 text-white":"text-slate-400 hover:text-slate-600"}`,title:" ",children:e.jsx(Zr,{size:18})})]}),e.jsx("button",{onClick:_s,disabled:ge,className:"p-2.5 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 disabled:opacity-50",children:e.jsx(Oa,{size:18,className:ge?"animate-spin":""})}),e.jsxs("button",{onClick:()=>{xn(),pe(!0)},className:"flex items-center gap-2 px-4 py-2.5 bg-primary text-white rounded-lg hover:bg-primary/90",children:[e.jsx($a,{size:18})," "]})]})]}),ge?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(xt,{className:"w-8 h-8 animate-spin text-primary"})}):Gs==="table"?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900 text-slate-500 dark:text-slate-400 text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 font-medium",children:""}),e.jsx("th",{className:"p-4 font-medium",children:""}),e.jsx("th",{className:"p-4 font-medium",children:""}),e.jsx("th",{className:"p-4 font-medium",children:""}),e.jsx("th",{className:"p-4 font-medium",children:""}),e.jsx("th",{className:"p-4 font-medium",children:" "}),e.jsx("th",{className:"p-4 font-medium text-center",children:""})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[hn.map(o=>{var v;return e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:o.fullName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:o.fullName}),e.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["@",o.username]}),o.jobTitle&&e.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:o.jobTitle})]}),o.isSuperAdmin&&e.jsx("span",{className:"px-2 py-0.5 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 text-xs rounded-full",children:""})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-xs rounded-lg",children:o.accountName||` #${o.accountId}`})}),e.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-300",children:o.email||"-"}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[(v=o.roles)==null?void 0:v.map(A=>e.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full",style:{backgroundColor:`${A.color}20`,color:A.color},children:A.name},A.id)),(!o.roles||o.roles.length===0)&&e.jsx("span",{className:"text-slate-400 text-sm",children:"-"})]})}),e.jsx("td",{className:"p-4",children:e.jsx("div",{className:"flex items-center gap-2",children:o.isLocked?e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-xs rounded-full",children:[e.jsx(Nl,{size:12}),""]}):o.isActive?e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded-full",children:[e.jsx(aa,{size:12}),""]}):e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-xs rounded-full",children:[e.jsx(gt,{size:12}),""]})})}),e.jsx("td",{className:"p-4 text-slate-500 dark:text-slate-400 text-sm",children:o.lastLoginAt?ds(o.lastLoginAt):"  "}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex justify-center gap-1",children:[e.jsx("button",{onClick:()=>Sd(o),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg",title:"",children:e.jsx(Wt,{size:16})}),e.jsx("button",{onClick:()=>{Ae(o),fe(!0)},className:"p-2 text-amber-600 hover:bg-amber-50 dark:hover:bg-amber-900/30 rounded-lg",title:"  ",children:e.jsx(Yn,{size:16})}),e.jsx("button",{onClick:()=>{Ae(o);const A="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789";let Ne="";for(let rt=0;rt<10;rt++)Ne+=A.charAt(Math.floor(Math.random()*A.length));Ke(Ne),He(!0)},className:"p-2 text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded-lg",title:"/  ",children:e.jsx(_a,{size:16})}),e.jsx("button",{onClick:()=>cn(o),className:`p-2 rounded-lg ${o.isActive?"text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700":"text-green-600 hover:bg-green-50 dark:hover:bg-green-900/30"}`,title:o.isActive?"":"",children:o.isActive?e.jsx(If,{size:16}):e.jsx(Au,{size:16})}),e.jsx("button",{onClick:()=>Cr(o),className:`p-2 rounded-lg ${o.isLocked?"text-green-600 hover:text-green-800":"text-red-600 hover:text-red-800"}`,title:o.isLocked?" ":"",children:o.isLocked?e.jsx(xv,{size:16}):e.jsx(Nl,{size:16})}),e.jsx("button",{onClick:()=>di(o),className:"p-2 text-red-600 hover:text-red-800 rounded-lg",title:"",children:e.jsx(qt,{size:16})})]})})]},o.id)}),hn.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"p-8 text-center text-slate-400",children:"  "})})]})]})}):e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[hn.map(o=>{var v;return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-4 hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:o.fullName.charAt(0)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 dark:text-white",children:o.fullName}),e.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["@",o.username]}),o.jobTitle&&e.jsx("p",{className:"text-xs text-slate-400",children:o.jobTitle})]})]}),o.isSuperAdmin&&e.jsx(Es,{size:18,className:"text-amber-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400 mb-2",children:[e.jsx(or,{size:12}),e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-700 rounded",children:o.accountName||` #${o.accountId}`})]}),o.email&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400 mb-2",children:[e.jsx(al,{size:12}),o.email]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[(v=o.roles)==null?void 0:v.map(A=>e.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full",style:{backgroundColor:`${A.color}20`,color:A.color},children:A.name},A.id)),(!o.roles||o.roles.length===0)&&e.jsx("span",{className:"text-slate-400 text-xs",children:" "})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 dark:border-slate-700 pt-3",children:[e.jsx("span",{className:`text-xs font-medium ${o.isLocked?"text-red-600 dark:text-red-400":o.isActive?"text-emerald-600 dark:text-emerald-400":"text-slate-500 dark:text-slate-400"}`,children:o.isLocked?"":o.isActive?"":""}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Sd(o),className:"p-1.5 text-blue-600 hover:text-blue-800 dark:text-blue-500 dark:hover:text-blue-400",title:"",children:e.jsx(Wt,{size:14})}),e.jsx("button",{onClick:()=>{Ae(o),fe(!0)},className:"p-1.5 text-amber-600 hover:text-amber-800 dark:text-amber-500 dark:hover:text-amber-400",title:" ",children:e.jsx(Yn,{size:14})}),e.jsx("button",{onClick:()=>cn(o),className:`p-1.5 ${o.isActive?"text-slate-600 hover:text-slate-800":"text-green-600 hover:text-green-800"}`,title:o.isActive?"":"",children:o.isActive?e.jsx(If,{size:14}):e.jsx(Au,{size:14})}),e.jsx("button",{onClick:()=>di(o),className:"p-1.5 text-rose-500 hover:text-rose-700 dark:text-rose-400 dark:hover:text-rose-300",title:"",children:e.jsx(qt,{size:14})})]})]})]},o.id)}),hn.length===0&&e.jsxs("div",{className:"col-span-full p-8 text-center text-slate-400",children:[e.jsx(Za,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),"  "]})]})]}),L==="roles"&&e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ua,{className:"absolute right-3 top-2.5 text-slate-400",size:16}),e.jsx("input",{type:"text",value:Jt,onChange:o=>Zt(o.target.value),placeholder:"  ...",className:"w-40 pr-9 pl-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white placeholder:text-slate-400"}),Jt&&e.jsx("button",{onClick:()=>Zt(""),className:"absolute left-2 top-2.5 text-slate-400 hover:text-slate-600",children:e.jsx(gt,{size:16})})]}),e.jsxs("button",{onClick:()=>wt(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-primary text-white rounded-lg hover:bg-primary/90",children:[e.jsx($a,{size:18})," "]})]})]}),Nt?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(xt,{className:"w-8 h-8 animate-spin text-primary"})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:S.filter(o=>{var v;return!Jt.trim()||o.name.toLowerCase().includes(Jt.toLowerCase())||((v=o.nameEn)==null?void 0:v.toLowerCase().includes(Jt.toLowerCase()))}).map(o=>{const v=()=>{const A=o.name.toLowerCase(),Ne=(o.nameEn||"").toLowerCase();return A.includes("")||Ne.includes("admin")||Ne.includes("manager")?e.jsx(Es,{size:20,style:{color:o.color}}):A.includes("")||Ne.includes("account")?e.jsx(Jr,{size:20,style:{color:o.color}}):A.includes("")||Ne.includes("user")?e.jsx(pj,{size:20,style:{color:o.color}}):A.includes("")||Ne.includes("super")?e.jsx(Wu,{size:20,style:{color:o.color}}):e.jsx(tl,{size:20,style:{color:o.color}})};return e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 border border-slate-200 dark:border-slate-700 rounded-xl hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:`${o.color}20`},children:v()}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:o.name}),o.nameEn&&e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:o.nameEn})]})]}),o.isSystemRole&&e.jsx(Nl,{size:14,className:"text-slate-400",title:" "})]}),o.description&&e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-3 line-clamp-2",children:o.description}),e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 dark:border-slate-700 pt-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:o.isSystemRole?" ":" "}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${o.isActive?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:o.isActive?"":""})]}),e.jsxs("div",{className:"flex gap-1",children:[!o.isSystemRole&&e.jsx("button",{onClick:()=>bc(o),className:`p-1.5 ${o.isActive?"text-amber-500 hover:text-amber-700":"text-emerald-500 hover:text-emerald-700"}`,title:o.isActive?"":"",children:o.isActive?e.jsx(zu,{size:14}):e.jsx(Eu,{size:14})}),e.jsx("button",{onClick:()=>{Me(o),xa({name:o.name,nameEn:o.nameEn||"",color:o.color||"#3B82F6",description:o.description||""}),wt(!0)},className:"p-1.5 text-blue-600 hover:text-blue-800 dark:text-blue-500 dark:hover:text-blue-400",title:"",children:e.jsx(Wt,{size:14})}),!o.isSystemRole&&e.jsx("button",{onClick:()=>pc(o),className:"p-1.5 text-rose-500 hover:text-rose-700 dark:text-rose-400 dark:hover:text-rose-300",title:"",children:e.jsx(qt,{size:14})})]})]})]},o.id)})})]}),L==="plans"&&e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[e.jsx(Es,{className:"text-amber-500",size:24})," "]}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"   "})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ua,{className:"absolute right-3 top-2.5 text-slate-400",size:16}),e.jsx("input",{type:"text",value:Wa,onChange:o=>gr(o.target.value),placeholder:"  ...",className:"w-40 pr-9 pl-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white placeholder:text-slate-400"}),Wa&&e.jsx("button",{onClick:()=>gr(""),className:"absolute left-2 top-2.5 text-slate-400 hover:text-slate-600",children:e.jsx(gt,{size:16})})]}),e.jsxs("button",{onClick:()=>{Er(),ia(!0)},className:"flex items-center gap-2 px-4 py-2.5 bg-primary text-white rounded-lg hover:bg-primary/90",children:[e.jsx($a,{size:18})," "]})]})]}),br?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(xt,{className:"w-8 h-8 animate-spin text-primary"})}):Ad.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Es,{className:"w-16 h-16 mx-auto text-slate-300 dark:text-slate-600 mb-4"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"   "}),e.jsx("button",{onClick:()=>{Er(),ia(!0)},className:"mt-4 text-primary hover:underline",children:"  "})]}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:Ad.map(o=>{const v={slate:{bg:"bg-slate-50 dark:bg-slate-800",border:"border-slate-300",text:"text-slate-600"},blue:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-300",text:"text-blue-600"},violet:{bg:"bg-violet-50 dark:bg-violet-900/20",border:"border-violet-300",text:"text-violet-600"},amber:{bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-300",text:"text-amber-600"},emerald:{bg:"bg-emerald-50 dark:bg-emerald-900/20",border:"border-emerald-300",text:"text-emerald-600"},rose:{bg:"bg-rose-50 dark:bg-rose-900/20",border:"border-rose-300",text:"text-rose-600"}},A=v[o.color]||v.blue;return e.jsxs("div",{className:`relative p-5 rounded-xl border-2 ${A.border} ${A.bg} ${o.isActive?"":"opacity-60"} hover:shadow-lg transition-all`,children:[o.isPopular&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-xs font-medium rounded-full shadow",children:" "})}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:`w-12 h-12 mx-auto rounded-xl ${A.bg} border ${A.border} flex items-center justify-center ${A.text} mb-2`,children:e.jsx(Es,{size:24})}),e.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:o.name}),o.nameEn&&e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:o.nameEn})]}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[e.jsx("span",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:o.price===0?"":o.price}),o.price>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm text-slate-500",children:o.currency}),e.jsx("span",{className:"text-xs text-slate-400",children:"/"})]})]}),o.yearlyPrice&&o.yearlyPrice>0&&e.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[o.yearlyPrice," ",o.currency," / "]})]}),e.jsxs("div",{className:"space-y-1 mb-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:":"}),e.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:o.maxUsers===-1?" ":o.maxUsers})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:":"}),e.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:o.maxInvoices===-1?" ":`${o.maxInvoices}/`})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:":"}),e.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:o.maxCustomers===-1?" ":o.maxCustomers})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:":"}),e.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:o.maxProducts===-1?" ":o.maxProducts})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4 justify-center",children:[o.hasBasicReports&&e.jsx("span",{className:"px-2 py-0.5 text-xs bg-slate-200 dark:bg-slate-700 rounded",title:" ",children:""}),o.hasAdvancedReports&&e.jsx("span",{className:"px-2 py-0.5 text-xs bg-violet-200 dark:bg-violet-900 rounded",title:" ",children:""}),o.hasBackup&&e.jsx("span",{className:"px-2 py-0.5 text-xs bg-blue-200 dark:bg-blue-900 rounded",title:" ",children:""}),o.hasMultiCurrency&&e.jsx("span",{className:"px-2 py-0.5 text-xs bg-emerald-200 dark:bg-emerald-900 rounded",title:" ",children:""}),o.hasApiAccess&&e.jsx("span",{className:"px-2 py-0.5 text-xs bg-amber-200 dark:bg-amber-900 rounded",title:"API Access",children:""}),o.hasWhiteLabel&&e.jsx("span",{className:"px-2 py-0.5 text-xs bg-rose-200 dark:bg-rose-900 rounded",title:" ",children:""})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 dark:border-slate-700 pt-3",children:[e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${o.isActive?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400"}`,children:o.isActive?"":""}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>yc(o),className:`p-1.5 ${o.isActive?"text-amber-500 hover:text-amber-700":"text-emerald-500 hover:text-emerald-700"}`,title:o.isActive?"":"",children:o.isActive?e.jsx(zu,{size:16}):e.jsx(Eu,{size:16})}),e.jsx("button",{onClick:()=>zd(o),className:"p-1.5 text-blue-600 hover:text-blue-800",title:"",children:e.jsx(Wt,{size:16})}),e.jsx("button",{onClick:()=>vc(o),className:"p-1.5 text-rose-500 hover:text-rose-700",title:"",children:e.jsx(qt,{size:16})})]})]})]},o.id)})})]}),L==="server"&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-r from-violet-600 to-purple-600 rounded-xl text-white",children:[e.jsxs("h2",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[e.jsx(Jo,{size:24}),"  (Backend)"]}),e.jsx("p",{className:"opacity-90",children:"    "})]}),e.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(dv,{size:20,className:"text-primary"}),"  API"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-2",children:"  (API URL)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"url",value:Ps,onChange:o=>Dl(o.target.value),className:"flex-1 p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white font-mono text-sm",placeholder:"http://localhost:5000/api",dir:"ltr"}),e.jsxs("button",{className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 flex items-center gap-2",onClick:on,disabled:ps==="checking",children:[ps==="checking"?e.jsx(xt,{size:18,className:"animate-spin"}):e.jsx(Oa,{size:18}),""]}),e.jsxs("button",{className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 flex items-center gap-2",onClick:wd,disabled:Rl,children:[Rl?e.jsx(xt,{size:18,className:"animate-spin"}):e.jsx(xr,{size:18}),""]})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:": http://localhost:5000/api  http://192.168.1.100:5000/api"})]}),ps==="checking"&&e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xt,{className:"text-blue-500 animate-spin",size:24}),e.jsx("div",{children:e.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-400",children:"   ..."})})]})}),ps==="connected"&&e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ud,{className:"text-green-500",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-700 dark:text-green-400",children:"  "}),e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-500",children:[Ps," ",nn&&`(${nn}ms)`]})]})]})}),ps==="disconnected"&&e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Fn,{className:"text-red-500",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-700 dark:text-red-400",children:"   "}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-500",children:"     "})]})]})})]})]}),e.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(nd,{size:20,className:"text-amber-500"}),"  "]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600",children:[e.jsx("label",{className:"block text-xs text-slate-500 dark:text-slate-400 mb-1",children:"  "}),e.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:"SQL Server Express"})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600",children:[e.jsx("label",{className:"block text-xs text-slate-500 dark:text-slate-400 mb-1",children:" "}),e.jsx("p",{className:"font-mono text-sm text-slate-800 dark:text-white",children:"DESKTOP-KD7G2DG\\SQLEXPRESS"})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600",children:[e.jsx("label",{className:"block text-xs text-slate-500 dark:text-slate-400 mb-1",children:"  "}),e.jsx("p",{className:"font-mono text-sm text-slate-800 dark:text-white",children:"SmartAccountant_v1005_DB"})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600",children:[e.jsx("label",{className:"block text-xs text-slate-500 dark:text-slate-400 mb-1",children:" "}),e.jsxs("p",{className:"font-medium text-green-600 dark:text-green-400 flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),""]})]})]})]}),e.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(Jo,{size:20,className:"text-blue-500"})," "]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600",children:[e.jsx("label",{className:"block text-xs text-slate-500 dark:text-slate-400 mb-1",children:" "}),e.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:"ASP.NET Core"})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600",children:[e.jsx("label",{className:"block text-xs text-slate-500 dark:text-slate-400 mb-1",children:""}),e.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:".NET 10.0"})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600",children:[e.jsx("label",{className:"block text-xs text-slate-500 dark:text-slate-400 mb-1",children:""}),e.jsx("p",{className:"font-mono text-slate-800 dark:text-white",children:"5000"})]})]})]}),e.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-4",children:"  API "}),e.jsx("div",{className:"space-y-2 font-mono text-sm",children:[{method:"GET",path:"/api/products",desc:""},{method:"GET",path:"/api/customers",desc:""},{method:"GET",path:"/api/invoices",desc:""},{method:"GET",path:"/api/expenses",desc:""},{method:"GET",path:"/api/roles",desc:""},{method:"GET",path:"/api/admin/users",desc:""},{method:"GET",path:"/api/tags",desc:""}].map((o,v)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-slate-700 rounded-lg",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${o.method==="GET"?"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-400":o.method==="POST"?"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-400":"bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-400"}`,children:o.method}),e.jsx("span",{className:"text-slate-600 dark:text-slate-300",dir:"ltr",children:o.path}),e.jsxs("span",{className:"text-slate-400 text-xs mr-auto",children:["(",o.desc,")"]})]},v))})]}),e.jsxs("div",{className:"p-6 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(ga,{size:20,className:"text-amber-500"})," -  "]}),e.jsxs("div",{className:"space-y-3 text-slate-700 dark:text-slate-300",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-amber-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),e.jsxs("p",{children:["  ",e.jsx("strong",{children:""}),"  ",e.jsx("strong",{children:" "})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-amber-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),e.jsx("p",{children:"   API   (: http://192.168.1.100:5000/api)"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-amber-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:""}),"    "]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-amber-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"4"}),e.jsxs("p",{children:["   (  )  ",e.jsx("strong",{children:""})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-amber-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"5"}),e.jsx("p",{children:"       API "})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-amber-100 dark:bg-amber-900/40 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-300 flex items-center gap-2",children:[e.jsx(ga,{size:16}),e.jsx("strong",{children:":"}),"     (Backend)  "]})})]})]}),L==="tools"&&Ll&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-500 to-amber-600 rounded-xl text-white",children:[e.jsxs("h2",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[e.jsx(Bf,{size:24})," "]}),e.jsx("p",{className:"opacity-90",children:"     "})]}),e.jsx("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/50 rounded-full text-blue-600 dark:text-blue-400",children:e.jsx(Nl,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"  "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mt-1 mb-4",children:"        "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Zn,{className:"text-emerald-500",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800 dark:text-white text-sm",children:"  "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"   "})]})]}),e.jsx("button",{onClick:async()=>{const o=!f.showDemoLogin;try{await mt.update("showDemoLogin",o.toString(),"bool"),p("showDemoLogin"),r(` ${o?"":""}    `,"success")}catch(v){r("  !","error"),console.error("  :",v)}},className:`relative w-12 h-6 rounded-full transition-colors ${f.showDemoLogin?"bg-emerald-600":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${f.showDemoLogin?"right-1":"left-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(tl,{className:"text-rose-500",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800 dark:text-white text-sm",children:"  "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"   "})]})]}),e.jsx("button",{onClick:async()=>{const o=!f.showAdminLogin;try{await mt.update("showAdminLogin",o.toString(),"bool"),p("showAdminLogin"),r(` ${o?"":""}    `,"success")}catch(v){r("  !","error"),console.error("  :",v)}},className:`relative w-12 h-6 rounded-full transition-colors ${f.showAdminLogin?"bg-rose-600":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${f.showAdminLogin?"right-1":"left-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Au,{className:"text-blue-500",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800 dark:text-white text-sm",children:" "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"  "})]})]}),e.jsx("button",{onClick:async()=>{const o=!f.allowUserRegistration;try{await mt.update("allowUserRegistration",o.toString(),"bool"),p("allowUserRegistration"),r(` ${o?"":""}   `,"success")}catch(v){r("  !","error"),console.error("  :",v)}},className:`relative w-12 h-6 rounded-full transition-colors ${f.allowUserRegistration?"bg-blue-600":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${f.allowUserRegistration?"right-1":"left-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Yn,{className:"text-amber-500",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800 dark:text-white text-sm",children:"  "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"  "})]})]}),e.jsx("button",{onClick:async()=>{const o=!f.showForgotPassword;try{await mt.update("showForgotPassword",o.toString(),"bool"),p("showForgotPassword"),r(` ${o?"":""}     `,"success")}catch(v){r("  !","error"),console.error("  :",v)}},className:`relative w-12 h-6 rounded-full transition-colors ${f.showForgotPassword?"bg-amber-600":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${f.showForgotPassword?"right-1":"left-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ba,{className:"text-purple-500",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800 dark:text-white text-sm",children:""}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"  "})]})]}),e.jsx("button",{onClick:async()=>{const o=!f.showRememberMe;try{await mt.update("showRememberMe",o.toString(),"bool"),p("showRememberMe"),r(` ${o?"":""}   `,"success")}catch(v){r("  !","error"),console.error("  :",v)}},className:`relative w-12 h-6 rounded-full transition-colors ${f.showRememberMe?"bg-purple-600":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${f.showRememberMe?"right-1":"left-1"}`})})]})]})]})]})}),e.jsx("div",{className:"p-6 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/50 rounded-full text-red-600 dark:text-red-400",children:e.jsx(tl,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mt-1 mb-4",children:"    "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"  "}),e.jsx("input",{type:"number",min:"1",max:"10",value:f.maxLoginAttempts||5,onBlur:async o=>{const v=parseInt(o.target.value);try{await mt.update("maxLoginAttempts",v.toString(),"int"),r("     ","success")}catch{r("  !","error")}},onChange:o=>{p("maxLoginAttempts",parseInt(o.target.value))},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white"})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"  ()"}),e.jsx("input",{type:"number",min:"5",max:"1440",value:f.sessionTimeout||30,onBlur:async o=>{const v=parseInt(o.target.value);try{await mt.update("sessionTimeout",v.toString(),"int"),r("    ","success")}catch{r("  !","error")}},onChange:o=>{p("sessionTimeout",parseInt(o.target.value))},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800 dark:text-white text-sm",children:" "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"   "})]}),e.jsx("button",{onClick:async()=>{const o=!f.requireEmailVerification;try{await mt.update("requireEmailVerification",o.toString(),"bool"),p("requireEmailVerification"),r(` ${o?"":""}   `,"success")}catch{r("  !","error")}},className:`relative w-12 h-6 rounded-full transition-colors ${f.requireEmailVerification?"bg-red-600":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${f.requireEmailVerification?"right-1":"left-1"}`})})]})]})]})]})}),e.jsx("div",{className:"p-6 bg-cyan-50 dark:bg-cyan-900/20 rounded-xl border border-cyan-200 dark:border-cyan-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-cyan-100 dark:bg-cyan-900/50 rounded-full text-cyan-600 dark:text-cyan-400",children:e.jsx(Bs,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mt-1 mb-4",children:"  "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"  / "}),e.jsx("input",{type:"text",value:f.companyName||" ",onBlur:async o=>{try{await mt.update("companyName",o.target.value,"string"),r("    ","success")}catch{r("  !","error")}},onChange:o=>{p("companyName",o.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white"})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:" "}),e.jsxs("select",{value:f.defaultLanguage||"ar",onChange:async o=>{p("defaultLanguage",o.target.value);try{await mt.update("defaultLanguage",o.target.value,"string"),r("    ","success")}catch{r("  !","error")}},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",children:[e.jsx("option",{value:"ar",children:""}),e.jsx("option",{value:"en",children:"English"})]})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:" "}),e.jsxs("select",{value:f.defaultCurrency||"SAR",onChange:async o=>{p("defaultCurrency",o.target.value);try{await mt.update("defaultCurrency",o.target.value,"string"),r("    ","success")}catch{r("  !","error")}},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",children:[e.jsx("option",{value:"SAR",children:"  (SAR)"}),e.jsx("option",{value:"EGP",children:"  (EGP)"}),e.jsx("option",{value:"AED",children:"  (AED)"}),e.jsx("option",{value:"USD",children:"  (USD)"}),e.jsx("option",{value:"EUR",children:" (EUR)"})]})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"  ()"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:i!=null&&i.accountLogo||f.companyLogo?e.jsx("div",{className:"w-24 h-24 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg overflow-hidden flex items-center justify-center bg-slate-50 dark:bg-slate-700",children:e.jsx("img",{src:(i==null?void 0:i.accountLogo)||f.companyLogo,alt:" ",className:"max-w-full max-h-full object-contain",onError:o=>{o.target.style.display="none"}})}):e.jsx("div",{className:"w-24 h-24 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg flex items-center justify-center bg-slate-50 dark:bg-slate-700",children:e.jsx(Of,{size:32,className:"text-slate-400"})})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"logo-upload",accept:"image/png,image/jpeg,image/jpg,image/svg+xml,image/webp",className:"hidden",disabled:!((mi=i==null?void 0:i.permissions)!=null&&mi.canManageLogo)&&!(i!=null&&i.isSuperAdmin),onChange:async o=>{var Ne;const v=(Ne=o.target.files)==null?void 0:Ne[0];if(!v)return;if(v.size>500*1024){r("   !   500KB","error");return}const A=new FileReader;A.onload=async rt=>{var Qt;const tt=(Qt=rt.target)==null?void 0:Qt.result;try{await mt.update("companyLogo",tt,"string"),i!=null&&i.accountId&&await is.updateLogo(i.accountId,tt),p("companyLogo",tt),r("     ","success")}catch{r("  !","error")}},A.readAsDataURL(v),o.target.value=""}}),e.jsxs("label",{htmlFor:"logo-upload",className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer ${!((il=i==null?void 0:i.permissions)!=null&&il.canManageLogo)&&!(i!=null&&i.isSuperAdmin)?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[e.jsx(Qn,{size:16}),"   "]}),e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mr-2",children:"(PNG, JPG, SVG -   500KB)"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"url",placeholder:"   URL ...",value:typeof f.companyLogo=="string"&&((Rd=f.companyLogo)!=null&&Rd.startsWith("data:"))?"":f.companyLogo||"",disabled:!((Ld=i==null?void 0:i.permissions)!=null&&Ld.canManageLogo)&&!(i!=null&&i.isSuperAdmin),onChange:o=>{p("companyLogo",o.target.value)},className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white text-sm disabled:bg-slate-100 disabled:dark:bg-slate-800 disabled:cursor-not-allowed"}),e.jsxs("button",{disabled:!(($d=i==null?void 0:i.permissions)!=null&&$d.canManageLogo)&&!(i!=null&&i.isSuperAdmin),onClick:async()=>{var v;if(!((v=i==null?void 0:i.permissions)!=null&&v.canManageLogo)&&!(i!=null&&i.isSuperAdmin))return;const o=f.companyLogo;if(!o){r("   ","warning");return}try{await mt.update("companyLogo",o,"string"),i!=null&&i.accountId&&await is.updateLogo(i.accountId,o),r("    ","success")}catch{r("  !","error")}},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-sm font-medium flex items-center gap-1",children:[e.jsx(xr,{size:16}),""]})]}),((i==null?void 0:i.accountLogo)||f.companyLogo)&&(((hi=i==null?void 0:i.permissions)==null?void 0:hi.canManageLogo)||(i==null?void 0:i.isSuperAdmin))&&e.jsxs("button",{onClick:async()=>{try{await mt.update("companyLogo","","string"),i!=null&&i.accountId&&await is.updateLogo(i.accountId,""),p("companyLogo",""),r("   ","success")}catch{r("  !","error")}},className:"text-sm text-red-600 hover:text-red-700 flex items-center gap-1",children:[e.jsx(qt,{size:14})," "]}),!((fi=i==null?void 0:i.permissions)!=null&&fi.canManageLogo)&&!(i!=null&&i.isSuperAdmin)&&e.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"     .   ."})]})]})]})]})]})]})}),e.jsx("div",{className:"p-6 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-200 dark:border-indigo-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/50 rounded-full text-indigo-600 dark:text-indigo-400",children:e.jsx(Sv,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mt-1 mb-4",children:"     "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"  "}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:async()=>{N("grid");try{await mt.update("defaultViewMode","grid","string"),r("     ","success")}catch{r("  !","error")}},className:`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border-2 transition-all ${k==="grid"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:border-indigo-300"}`,children:[e.jsx(Zr,{size:20}),e.jsx("span",{className:"font-medium",children:" (Grid)"})]}),e.jsxs("button",{onClick:async()=>{N("table");try{await mt.update("defaultViewMode","table","string"),r("     ","success")}catch{r("  !","error")}},className:`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border-2 transition-all ${k==="table"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:border-indigo-300"}`,children:[e.jsx(Sl,{size:20}),e.jsx("span",{className:"font-medium",children:" (Table)"})]})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"       (  ...)"})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:" "}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:async()=>{u&&c();try{await mt.update("defaultTheme","light","string"),r("     ","success")}catch{r("  !","error")}},className:`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border-2 transition-all ${u?"border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:border-amber-300":"border-amber-500 bg-amber-50 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300"}`,children:[e.jsx(qu,{size:20}),e.jsx("span",{className:"font-medium",children:" (Light)"})]}),e.jsxs("button",{onClick:async()=>{u||c();try{await mt.update("defaultTheme","dark","string"),r("     ","success")}catch{r("  !","error")}},className:`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border-2 transition-all ${u?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:border-indigo-300"}`,children:[e.jsx(Iu,{size:20}),e.jsx("span",{className:"font-medium",children:" (Dark)"})]})]}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[" : ",e.jsx("span",{className:"font-medium",children:u?"":""})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:[e.jsx(Ka,{size:16,className:"inline ml-1"})," "]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("button",{onClick:async()=>{z("DD-MM-YYYY");try{await mt.update("dateFormat","DD-MM-YYYY","string"),r("    ","success")}catch{r("  !","error")}},className:`flex items-center justify-between p-2 rounded-lg border-2 transition-all ${M==="DD-MM-YYYY"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:border-indigo-300"}`,children:[e.jsx("span",{className:"font-medium",children:"--"}),e.jsx("span",{className:"text-sm opacity-70",children:"27-01-2026"})]}),e.jsxs("button",{onClick:async()=>{z("MM-DD-YYYY");try{await mt.update("dateFormat","MM-DD-YYYY","string"),r("    ","success")}catch{r("  !","error")}},className:`flex items-center justify-between p-2 rounded-lg border-2 transition-all ${M==="MM-DD-YYYY"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:border-indigo-300"}`,children:[e.jsx("span",{className:"font-medium",children:"--"}),e.jsx("span",{className:"text-sm opacity-70",children:"01-27-2026"})]}),e.jsxs("button",{onClick:async()=>{z("YYYY-MM-DD");try{await mt.update("dateFormat","YYYY-MM-DD","string"),r("    ","success")}catch{r("  !","error")}},className:`flex items-center justify-between p-2 rounded-lg border-2 transition-all ${M==="YYYY-MM-DD"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:border-indigo-300"}`,children:[e.jsx("span",{className:"font-medium",children:"--"}),e.jsx("span",{className:"text-sm opacity-70",children:"2026-01-27"})]})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:[e.jsx(Ba,{size:16,className:"inline ml-1"})," "]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:async()=>{O("24h");try{await mt.update("timeFormat","24h","string"),r("    ","success")}catch{r("  !","error")}},className:`flex-1 flex flex-col items-center justify-center gap-1 p-3 rounded-lg border-2 transition-all ${w==="24h"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:border-indigo-300"}`,children:[e.jsx("span",{className:"font-medium",children:"24 "}),e.jsx("span",{className:"text-sm opacity-70",children:"14:30"})]}),e.jsxs("button",{onClick:async()=>{O("12h");try{await mt.update("timeFormat","12h","string"),r("    ","success")}catch{r("  !","error")}},className:`flex-1 flex flex-col items-center justify-center gap-1 p-3 rounded-lg border-2 transition-all ${w==="12h"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:border-indigo-300"}`,children:[e.jsx("span",{className:"font-medium",children:"12 "}),e.jsx("span",{className:"text-sm opacity-70",children:"2:30 "})]})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2 text-center",children:" =  |  = "})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:[e.jsx(Ka,{size:16,className:"inline ml-1"}),"  "]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:async()=>{J("numeric");try{await mt.update("dateDisplayStyle","numeric","string"),r("     ","success")}catch{r("  !","error")}},className:`flex-1 flex flex-col items-center justify-center gap-1 p-3 rounded-lg border-2 transition-all ${B==="numeric"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:border-indigo-300"}`,children:[e.jsx("span",{className:"font-medium",children:""}),e.jsx("span",{className:"text-sm opacity-70",children:"27-01-2026"})]}),e.jsxs("button",{onClick:async()=>{J("arabic");try{await mt.update("dateDisplayStyle","arabic","string"),r("     ","success")}catch{r("  !","error")}},className:`flex-1 flex flex-col items-center justify-center gap-1 p-3 rounded-lg border-2 transition-all ${B==="arabic"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:border-indigo-300"}`,children:[e.jsx("span",{className:"font-medium",children:" "}),e.jsx("span",{className:"text-sm opacity-70",children:"  "})]})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2 text-center",children:"        "})]})]})]})]})}),e.jsx("div",{className:"p-6 bg-violet-50 dark:bg-violet-900/20 rounded-xl border border-violet-200 dark:border-violet-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-violet-100 dark:bg-violet-900/50 rounded-full text-violet-600 dark:text-violet-400",children:e.jsx(Jr,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mt-1 mb-4",children:"  "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"  "}),e.jsx("input",{type:"text",value:f.invoicePrefix||"INV-",onBlur:async o=>{try{await mt.update("invoicePrefix",o.target.value,"string"),r("    ","success")}catch{r("  !","error")}},onChange:o=>{p("invoicePrefix",o.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white"})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"   %"}),e.jsx("input",{type:"number",min:"0",max:"100",step:"0.5",value:f.defaultTaxRate||15,onBlur:async o=>{const v=parseFloat(o.target.value);try{await mt.update("defaultTaxRate",v.toString(),"decimal"),r("    ","success")}catch{r("  !","error")}},onChange:o=>{p("defaultTaxRate",parseFloat(o.target.value))},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800 dark:text-white text-sm",children:" "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:" "})]}),e.jsx("button",{onClick:async()=>{const o=f.showTaxOnInvoice===!1;try{await mt.update("showTaxOnInvoice",o.toString(),"bool"),p("showTaxOnInvoice"),r(` ${o?"":""}    `,"success")}catch{r("  !","error")}},className:`relative w-12 h-6 rounded-full transition-colors ${f.showTaxOnInvoice!==!1?"bg-violet-600":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${f.showTaxOnInvoice!==!1?"right-1":"left-1"}`})})]})]})]})]})}),e.jsx("div",{className:"p-6 bg-pink-50 dark:bg-pink-900/20 rounded-xl border border-pink-200 dark:border-pink-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-pink-100 dark:bg-pink-900/50 rounded-full text-pink-600 dark:text-pink-400",children:e.jsx(al,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mt-1 mb-4",children:"   "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(al,{className:"text-pink-500",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800 dark:text-white text-sm",children:" "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"  "})]})]}),e.jsx("button",{onClick:async()=>{const o=f.enableEmailNotifications===!1;try{await mt.update("enableEmailNotifications",o.toString(),"bool"),p("enableEmailNotifications"),r(` ${o?"":""}   `,"success")}catch{r("  !","error")}},className:`relative w-12 h-6 rounded-full transition-colors ${f.enableEmailNotifications!==!1?"bg-pink-600":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${f.enableEmailNotifications!==!1?"right-1":"left-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Jn,{className:"text-green-500",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800 dark:text-white text-sm",children:" SMS"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"  "})]})]}),e.jsx("button",{onClick:async()=>{const o=!f.enableSMSNotifications;try{await mt.update("enableSMSNotifications",o.toString(),"bool"),p("enableSMSNotifications"),r(` ${o?"":""}  SMS `,"success")}catch{r("  !","error")}},className:`relative w-12 h-6 rounded-full transition-colors ${f.enableSMSNotifications?"bg-green-600":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${f.enableSMSNotifications?"right-1":"left-1"}`})})]})]})]})]})}),e.jsx("div",{className:"p-6 bg-cyan-50 dark:bg-cyan-900/20 rounded-xl border border-cyan-200 dark:border-cyan-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-cyan-100 dark:bg-cyan-900/50 rounded-full text-cyan-600 dark:text-cyan-400",children:e.jsx(Oa,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"  "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mt-1 mb-4",children:"      .       ."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-slate-800 rounded-lg border-2 border-cyan-300 dark:border-cyan-700 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${f.allowAutoRefresh!==!1?"bg-cyan-100 dark:bg-cyan-900":"bg-slate-100 dark:bg-slate-700"}`,children:e.jsx(Oa,{className:`${f.allowAutoRefresh!==!1?"text-cyan-600 dark:text-cyan-400":"text-slate-400"}`,size:24})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 dark:text-white",children:"  "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:f.allowAutoRefresh!==!1?"   ":"   "})]})]}),e.jsx("button",{onClick:async()=>{const o=!f.allowAutoRefresh;try{await mt.update("allowAutoRefresh",o.toString(),"bool"),p("allowAutoRefresh",o),r(` ${o?"":""}   `,"success")}catch{p("allowAutoRefresh",o),r(` ${o?"":""}   ()`,"info")}},className:`relative w-14 h-7 rounded-full transition-colors ${f.allowAutoRefresh!==!1?"bg-cyan-600":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("span",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${f.allowAutoRefresh!==!1?"right-1":"left-1"}`})})]}),e.jsxs("div",{className:`p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 transition-opacity ${f.allowAutoRefresh?"":"opacity-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Ba,{className:"text-cyan-500",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800 dark:text-white text-sm",children:" "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"     "})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:f.autoRefreshInterval??30,onChange:async o=>{const v=parseInt(o.target.value);try{await mt.update("autoRefreshInterval",v.toString(),"int"),p("autoRefreshInterval",v),r(`   : ${v}  `,"success")}catch{p("autoRefreshInterval",v),r("    ()","info")}},className:"flex-1 p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white text-sm",disabled:!f.allowAutoRefresh,children:[e.jsx("option",{value:10,children:"10 "}),e.jsx("option",{value:15,children:"15 "}),e.jsx("option",{value:30,children:"30 "}),e.jsx("option",{value:60,children:" "}),e.jsx("option",{value:120,children:""}),e.jsx("option",{value:300,children:"5 "}),e.jsx("option",{value:600,children:"10 "})]}),e.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:f.allowAutoRefresh&&f.autoRefreshInterval>0?" ":" "})]})]})]})]})]})}),e.jsx("div",{className:"p-6 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-200 dark:border-indigo-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/50 rounded-full text-indigo-600 dark:text-indigo-400",children:e.jsx(nd,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"  "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mt-1 mb-4",children:"      -     "}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl border border-blue-200 dark:border-blue-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(nd,{className:"text-blue-600 dark:text-blue-400",size:18}),e.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-200",children:"  "}),e.jsx("span",{className:"text-xs bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 px-2 py-0.5 rounded-full",children:" "})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_a,{className:"text-blue-500",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800 dark:text-white text-sm",children:"   "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"    "})]})]}),e.jsx("button",{onClick:async()=>{const o=!f.showSyncPopup;try{await mt.update("showSyncPopup",o.toString(),"bool"),p("showSyncPopup",o),r(` ${o?"":""}   `,"success")}catch{p("showSyncPopup",o),r(` ${o?"":""}   ()`,"info")}},className:`relative w-12 h-6 rounded-full transition-colors ${f.showSyncPopup!==!1?"bg-blue-600":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${f.showSyncPopup!==!1?"right-1":"left-1"}`})})]}),e.jsxs("div",{className:`p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 transition-opacity ${f.showSyncPopup?"":"opacity-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Ba,{className:"text-blue-500",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800 dark:text-white text-sm",children:"   "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"      "})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:f.syncDuration??1500,onChange:async o=>{const v=parseInt(o.target.value);try{await mt.update("syncDuration",v.toString(),"int"),p("syncDuration",v),r(`   : ${v/1e3}  `,"success")}catch{p("syncDuration",v),r("    ()","info")}},className:"flex-1 p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white text-sm",disabled:!f.showSyncPopup,children:[e.jsx("option",{value:500,children:"  ()"}),e.jsx("option",{value:1e3,children:" "}),e.jsx("option",{value:1500,children:"1.5  ()"}),e.jsx("option",{value:2e3,children:""}),e.jsx("option",{value:3e3,children:"3 "}),e.jsx("option",{value:5e3,children:"5  ()"})]}),e.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400 min-w-[60px]",children:[(f.syncDuration??1500)/1e3,""]})]})]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 rounded-xl border border-emerald-200 dark:border-emerald-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Oa,{className:"text-emerald-600 dark:text-emerald-400",size:18}),e.jsx("h4",{className:"font-bold text-emerald-800 dark:text-emerald-200",children:"  "}),e.jsx("span",{className:"text-xs bg-emerald-100 dark:bg-emerald-800 text-emerald-600 dark:text-emerald-300 px-2 py-0.5 rounded-full",children:" "})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_a,{className:"text-emerald-500",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800 dark:text-white text-sm",children:"   "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"    "})]})]}),e.jsx("button",{onClick:async()=>{const v=!(f.showRefreshPopup===!0||f.showRefreshPopup==="true");try{await mt.update("showRefreshPopup",v.toString(),"bool"),p("showRefreshPopup",v),r(` ${v?"":""}   `,"success")}catch{p("showRefreshPopup",v),r(` ${v?"":""}   ()`,"info")}},className:`relative w-12 h-6 rounded-full transition-colors ${f.showRefreshPopup===!0||f.showRefreshPopup==="true"?"bg-emerald-600":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform ${f.showRefreshPopup===!0||f.showRefreshPopup==="true"?"right-1":"left-1"}`})})]}),e.jsxs("div",{className:`p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 transition-opacity ${f.showRefreshPopup===!0||f.showRefreshPopup==="true"?"":"opacity-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Ba,{className:"text-emerald-500",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800 dark:text-white text-sm",children:"   "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"      "})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:f.refreshDuration??1e3,onChange:async o=>{const v=parseInt(o.target.value);try{await mt.update("refreshDuration",v.toString(),"int"),p("refreshDuration",v),r(`   : ${v/1e3}  `,"success")}catch{p("refreshDuration",v),r("    ()","info")}},className:"flex-1 p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white text-sm",disabled:!(f.showRefreshPopup===!0||f.showRefreshPopup==="true"),children:[e.jsx("option",{value:300,children:"0.3  ()"}),e.jsx("option",{value:500,children:" "}),e.jsx("option",{value:1e3,children:"  ()"}),e.jsx("option",{value:1500,children:"1.5 "}),e.jsx("option",{value:2e3,children:""})]}),e.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400 min-w-[60px]",children:[(f.refreshDuration??1e3)/1e3,""]})]})]})]}),e.jsxs("div",{className:"p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg text-sm text-slate-600 dark:text-slate-400 flex items-start gap-2",children:[e.jsx(Wo,{size:16,className:"shrink-0 mt-0.5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:":"}),"            ."]})]})]})]})]})}),e.jsx("div",{className:"p-6 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/50 rounded-full text-amber-600 dark:text-amber-400",children:e.jsx(Fa,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"  "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mt-1 mb-4",children:"           "}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(ll,{className:"text-amber-500",size:20}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-800 dark:text-white text-sm",children:"  "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"    "})]})]}),e.jsxs("select",{value:f.fileNameFormat||"{app}-{company}-{type}-{customer}-{date}",onChange:async o=>{const v=o.target.value;try{await mt.update("fileNameFormat",v,"string"),p("fileNameFormat",v),r("     ","success")}catch{p("fileNameFormat",v),r("     ()","info")}},className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white text-sm",children:[e.jsx("option",{value:"{app}-{company}-{type}-{customer}-{date}",children:" -  -  -  - "}),e.jsx("option",{value:"{company}-{type}-{customer}-{datetime}",children:" -  -  -  "}),e.jsx("option",{value:"{type}-{customer}-{date}",children:" -  - "}),e.jsx("option",{value:"{company}-{customer}-{type}-{date}",children:" -  -  - "}),e.jsx("option",{value:"{app}-{type}-{invoice}-{date}",children:" -  -   - "}),e.jsx("option",{value:"{company}-{type}-{date}-{time}",children:" -  -  - "})]})]}),e.jsxs("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:"  :"}),e.jsxs("code",{className:"text-sm font-mono text-amber-700 dark:text-amber-300 block break-all",children:[(f.fileNameFormat||"{app}-{company}-{type}-{customer}-{date}").replace("{app}","_").replace("{company}",((Ol=i==null?void 0:i.companyName)==null?void 0:Ol.replace(/\s/g,"_"))||"").replace("{type}","").replace("{customer}","_").replace("{invoice}","INV-001").replace("{date}",new Date().toLocaleDateString("ar-EG").replace(/\//g,"-")).replace("{time}",new Date().toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit",hour12:!1}).replace(/:/g,"-")).replace("{datetime}",`${new Date().toLocaleDateString("ar-EG").replace(/\//g,"-")}_${new Date().toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit",hour12:!1}).replace(/:/g,"-")}`),".pdf"]})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-2 font-medium",children:" :"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("code",{className:"text-amber-600",children:"{app}"})," ",e.jsx("span",{className:"text-slate-500",children:" "})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("code",{className:"text-amber-600",children:"{company}"})," ",e.jsx("span",{className:"text-slate-500",children:" "})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("code",{className:"text-amber-600",children:"{type}"})," ",e.jsx("span",{className:"text-slate-500",children:" "})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("code",{className:"text-amber-600",children:"{customer}"})," ",e.jsx("span",{className:"text-slate-500",children:" "})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("code",{className:"text-amber-600",children:"{invoice}"})," ",e.jsx("span",{className:"text-slate-500",children:" "})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("code",{className:"text-amber-600",children:"{date}"})," ",e.jsx("span",{className:"text-slate-500",children:""})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("code",{className:"text-amber-600",children:"{time}"})," ",e.jsx("span",{className:"text-slate-500",children:""})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("code",{className:"text-amber-600",children:"{datetime}"})," ",e.jsx("span",{className:"text-slate-500",children:" "})]})]})]})]})]})]})}),e.jsx("div",{className:"p-6 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-200 dark:border-purple-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/50 rounded-full text-purple-600 dark:text-purple-400",children:e.jsx(od,{size:24})}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:["   (Offline Mode)",e.jsx("span",{className:"text-xs bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400 px-2 py-0.5 rounded-full",children:"PRO"})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mt-1",children:"           "})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-800 dark:text-white",children:"   "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"    "})]}),e.jsx("button",{onClick:async()=>{const o=!f.allowOfflineMode;try{await mt.update("allowOfflineMode",o.toString(),"bool"),p("allowOfflineMode")}catch{p("allowOfflineMode")}},className:`relative w-14 h-7 rounded-full transition-colors ${f.allowOfflineMode!==!1?"bg-purple-600":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-all ${f.allowOfflineMode!==!1?"right-1":"left-1"}`})})]}),f.allowOfflineMode!==!1&&e.jsxs("div",{className:"space-y-3 border-t border-purple-200 dark:border-purple-800 pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($a,{size:16,className:"text-green-500"}),e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"  offline"})]}),e.jsx("button",{onClick:()=>p("allowOfflineCreate"),className:`relative w-12 h-6 rounded-full transition-colors ${f.allowOfflineCreate!==!1?"bg-green-500":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-all ${f.allowOfflineCreate!==!1?"right-0.5":"left-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wt,{size:16,className:"text-amber-500"}),e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"  offline"})]}),e.jsx("button",{onClick:()=>p("allowOfflineEdit"),className:`relative w-12 h-6 rounded-full transition-colors ${f.allowOfflineEdit!==!1?"bg-amber-500":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-all ${f.allowOfflineEdit!==!1?"right-0.5":"left-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qt,{size:16,className:"text-red-500"}),e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"  offline"}),e.jsx("span",{className:"text-xs text-red-500",children:"( )"})]}),e.jsx("button",{onClick:()=>p("allowOfflineDelete"),className:`relative w-12 h-6 rounded-full transition-colors ${f.allowOfflineDelete?"bg-red-500":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-all ${f.allowOfflineDelete?"right-0.5":"left-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(od,{size:16,className:"text-blue-500"}),e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"   "})]}),e.jsx("button",{onClick:()=>p("showOfflineIndicator"),className:`relative w-12 h-6 rounded-full transition-colors ${f.showOfflineIndicator!==!1?"bg-blue-500":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-all ${f.showOfflineIndicator!==!1?"right-0.5":"left-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oa,{size:16,className:"text-cyan-500"}),e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"    "})]}),e.jsx("button",{onClick:()=>p("autoSyncOnReconnect"),className:`relative w-12 h-6 rounded-full transition-colors ${f.autoSyncOnReconnect!==!1?"bg-cyan-500":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-all ${f.autoSyncOnReconnect!==!1?"right-0.5":"left-0.5"}`})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400 block mb-1",children:"   "}),e.jsxs("select",{value:f.maxPendingChanges||100,onChange:o=>p("maxPendingChanges",parseInt(o.target.value)),className:"w-full p-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",children:[e.jsx("option",{value:50,children:"50 "}),e.jsx("option",{value:100,children:"100 "}),e.jsx("option",{value:200,children:"200 "}),e.jsx("option",{value:500,children:"500 "})]})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400 block mb-1",children:"   ()"}),e.jsxs("select",{value:f.offlineDataRetentionDays||30,onChange:o=>p("offlineDataRetentionDays",parseInt(o.target.value)),className:"w-full p-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",children:[e.jsx("option",{value:7,children:"7 "}),e.jsx("option",{value:14,children:"14 "}),e.jsx("option",{value:30,children:"30 "}),e.jsx("option",{value:60,children:"60 "}),e.jsx("option",{value:90,children:"90 "})]})]})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400 block mb-1",children:"  "}),e.jsxs("select",{value:f.syncIntervalSeconds||30,onChange:o=>p("syncIntervalSeconds",parseInt(o.target.value)),className:"w-full p-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",children:[e.jsx("option",{value:15,children:" 15 "}),e.jsx("option",{value:30,children:" 30 "}),e.jsx("option",{value:60,children:" "}),e.jsx("option",{value:120,children:" "}),e.jsx("option",{value:300,children:" 5 "})]})]})]})]})]})}),e.jsx("div",{className:"p-6 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-200 dark:border-indigo-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/50 rounded-full text-indigo-600 dark:text-indigo-400",children:e.jsx(Zn,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"  "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mt-1 mb-4",children:"  .       ."}),e.jsxs("button",{onClick:()=>Xs(!0),className:"px-6 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2 font-medium",children:[e.jsx(Lv,{size:18}),"  "]})]})]})}),e.jsx("div",{className:"p-6 bg-emerald-50 dark:bg-emerald-900/20 rounded-xl border border-emerald-200 dark:border-emerald-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-emerald-100 dark:bg-emerald-900/50 rounded-full text-emerald-600 dark:text-emerald-400",children:e.jsx(id,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"   (JSON)"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mt-1 mb-4",children:"      JSON ."}),e.jsxs("button",{onClick:kc,className:"px-6 py-2.5 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 flex items-center gap-2 font-medium",children:[e.jsx(id,{size:18}),"  "]})]})]})}),e.jsx("div",{className:"p-6 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/50 rounded-full text-amber-600 dark:text-amber-400",children:e.jsx(Qn,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"   "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mt-1 mb-4",children:"      ."}),e.jsxs("button",{onClick:()=>ln(!0),className:"px-6 py-2.5 bg-amber-600 text-white rounded-lg hover:bg-amber-700 flex items-center gap-2 font-medium",children:[e.jsx(Qn,{size:18}),"  "]})]})]})}),e.jsx("div",{className:"p-6 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/50 rounded-full text-red-600 dark:text-red-400",children:e.jsx(qt,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-red-700 dark:text-red-400",children:"  "}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-sm mt-1 mb-4",children:["    (localStorage).     .",e.jsx("br",{}),e.jsx("span",{className:"text-red-600 text-xs font-bold",children:":      !"})]}),e.jsxs("button",{onClick:()=>si(!0),className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2 font-medium",children:[e.jsx(ga,{size:18}),"  "]})]})]})})]}),L==="logs"&&Ll&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-r from-slate-700 to-slate-900 rounded-xl text-white flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[e.jsx(Ba,{size:24})," "]}),e.jsx("p",{className:"opacity-90",children:"     "})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ua,{className:"absolute right-3 top-2.5 text-slate-300",size:18}),e.jsx("input",{type:"text",value:hs,onChange:o=>fs(o.target.value),placeholder:"  ...",className:"w-64 pr-10 pl-4 py-2 border border-slate-500 rounded-lg bg-slate-800/50 text-white placeholder:text-slate-400 focus:border-blue-400 focus:outline-none"}),hs&&e.jsx("button",{onClick:()=>fs(""),className:"absolute left-3 top-2.5 text-slate-400 hover:text-white",children:e.jsx(gt,{size:18})})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:":"}),e.jsxs("div",{className:"flex gap-1 p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[e.jsx("button",{onClick:()=>{xs("week");const o=new Date,v=new Date(o.getTime()-10080*60*1e3),A={...ms,from:v.toISOString().split("T")[0],to:o.toISOString().split("T")[0]};As(A),Ea(1),Ts(1,A)},className:`px-3 py-1.5 text-sm rounded-md transition-all ${Ml==="week"?"bg-blue-500 text-white":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:""}),e.jsx("button",{onClick:()=>{xs("month");const o=new Date,v=new Date(o.getFullYear(),o.getMonth()-1,o.getDate()),A={...ms,from:v.toISOString().split("T")[0],to:o.toISOString().split("T")[0]};As(A),Ea(1),Ts(1,A)},className:`px-3 py-1.5 text-sm rounded-md transition-all ${Ml==="month"?"bg-blue-500 text-white":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:""}),e.jsx("button",{onClick:()=>{xs("year");const o=new Date,v=new Date(o.getFullYear()-1,o.getMonth(),o.getDate()),A={...ms,from:v.toISOString().split("T")[0],to:o.toISOString().split("T")[0]};As(A),Ea(1),Ts(1,A)},className:`px-3 py-1.5 text-sm rounded-md transition-all ${Ml==="year"?"bg-blue-500 text-white":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:""}),e.jsx("button",{onClick:()=>xs("custom"),className:`px-3 py-1.5 text-sm rounded-md transition-all ${Ml==="custom"?"bg-blue-500 text-white":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:""})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 items-end justify-between",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:" "}),e.jsxs("select",{value:ms.action||"",onChange:o=>As({...ms,action:o.target.value||void 0}),className:"p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:"",children:" ()"}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:"",children:" ()"}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:"",children:" ()"}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:" ",children:" "})]})]}),Ml==="custom"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:" "}),e.jsx(zs,{value:ms.from||"",onChange:o=>As({...ms,from:o||void 0}),className:"p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:" "}),e.jsx(zs,{value:ms.to||"",onChange:o=>As({...ms,to:o||void 0}),className:"p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white"})]}),e.jsx("button",{onClick:()=>{Ea(1),Ts(1)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:""})]})]}),e.jsxs("div",{className:"flex items-center gap-1 p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[e.jsx("button",{onClick:()=>ei("table"),className:`p-1.5 rounded transition-all ${la==="table"?"bg-blue-500 text-white":"text-slate-400 hover:text-slate-600"}`,title:" ",children:e.jsx(Sl,{size:18})}),e.jsx("button",{onClick:()=>ei("grid"),className:`p-1.5 rounded transition-all ${la==="grid"?"bg-blue-500 text-white":"text-slate-400 hover:text-slate-600"}`,title:" ",children:e.jsx(Zr,{size:18})})]})]}),ya?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(xt,{className:"w-8 h-8 animate-spin text-primary"})}):zr.length===0?e.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[e.jsx(Ba,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:hs?"   ":"  "})]}):la==="table"?e.jsxs("div",{className:"overflow-x-auto",children:[hs&&e.jsxs("div",{className:"mb-2 text-sm text-slate-500 dark:text-slate-400",children:["   ",zr.length," "]}),e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100 dark:bg-slate-700",children:[e.jsx("th",{className:"px-4 py-3 text-right font-medium text-slate-600 dark:text-slate-300",children:""}),e.jsx("th",{className:"px-4 py-3 text-right font-medium text-slate-600 dark:text-slate-300",children:""}),e.jsx("th",{className:"px-4 py-3 text-right font-medium text-slate-600 dark:text-slate-300",children:""}),e.jsx("th",{className:"px-4 py-3 text-right font-medium text-slate-600 dark:text-slate-300",children:""}),e.jsx("th",{className:"px-4 py-3 text-right font-medium text-slate-600 dark:text-slate-300",children:"IP"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:zr.map(o=>e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[e.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-400 whitespace-nowrap",children:ds(o.createdAt)}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`text-xs font-medium ${o.action==="Login"?"text-green-600 dark:text-green-400":o.action==="Create"?"text-blue-600 dark:text-blue-400":o.action==="Update"?"text-amber-600 dark:text-amber-400":o.action==="Delete"?"text-red-600 dark:text-red-400":"text-slate-600 dark:text-slate-400"}`,children:o.action})}),e.jsxs("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-400",children:[o.entityType," ",o.entityName?`(${o.entityName})`:""]}),e.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-400 max-w-xs truncate",children:o.description||o.descriptionEn||"-"}),e.jsx("td",{className:"px-4 py-3 text-slate-500 dark:text-slate-500 text-xs font-mono",children:o.ipAddress||"-"})]},o.id))})]})]}):e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[hs&&e.jsxs("div",{className:"col-span-full mb-2 text-sm text-slate-500 dark:text-slate-400",children:["   ",zr.length," "]}),zr.map(o=>e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-4 hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"p-2",children:o.action==="Login"?e.jsx(fv,{size:20,className:"text-green-600 dark:text-green-400"}):o.action==="Create"?e.jsx($a,{size:20,className:"text-blue-600 dark:text-blue-400"}):o.action==="Update"?e.jsx(Wt,{size:20,className:"text-amber-600 dark:text-amber-400"}):o.action==="Delete"?e.jsx(qt,{size:20,className:"text-red-600 dark:text-red-400"}):e.jsx(Ba,{size:20,className:"text-slate-600 dark:text-slate-400"})}),e.jsx("span",{className:`text-xs font-medium ${o.action==="Login"?"text-green-600 dark:text-green-400":o.action==="Create"?"text-blue-600 dark:text-blue-400":o.action==="Update"?"text-amber-600 dark:text-amber-400":o.action==="Delete"?"text-red-600 dark:text-red-400":"text-slate-600 dark:text-slate-400"}`,children:o.action})]}),e.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-1",children:o.entityType}),o.entityName&&e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:o.entityName}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3 line-clamp-2",children:o.description||o.descriptionEn||"-"}),e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 dark:border-slate-700 pt-3 text-xs text-slate-500 dark:text-slate-400",children:[e.jsx("span",{children:ds(o.createdAt)}),e.jsx("span",{className:"font-mono",children:o.ipAddress||"-"})]})]},o.id))]}),Vs>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[e.jsx("button",{onClick:()=>Ea(o=>Math.max(1,o-1)),disabled:Gt===1,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg disabled:opacity-50 text-slate-700 dark:text-slate-300",children:""}),e.jsxs("span",{className:"px-4 py-2 text-slate-600 dark:text-slate-400",children:[" ",Gt,"  ",Vs]}),e.jsx("button",{onClick:()=>Ea(o=>Math.min(Vs,o+1)),disabled:Gt===Vs,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg disabled:opacity-50 text-slate-700 dark:text-slate-300",children:""})]})]}),L==="permissions"&&Ll&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-r from-violet-600 to-purple-600 rounded-xl text-white",children:[e.jsxs("h2",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[e.jsx(Yn,{size:24})," "]}),e.jsx("p",{className:"opacity-90",children:"        "})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("button",{onClick:()=>{Da("roles"),Tl("")},className:`flex-1 px-4 py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${!ct||ct==="roles"?"bg-violet-50 dark:bg-violet-900/30 text-violet-700 dark:text-violet-300 border-b-2 border-violet-600":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[e.jsx(tl,{size:18})," (",S.length,")"]}),e.jsxs("button",{onClick:()=>{Da("users"),Tl("")},className:`flex-1 px-4 py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${ct==="users"?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-b-2 border-blue-600":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[e.jsx(Za,{size:18})," (",Qe.length,")"]}),e.jsxs("button",{onClick:()=>{Da("accounts"),Tl("")},className:`flex-1 px-4 py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${ct==="accounts"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 border-b-2 border-emerald-600":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[e.jsx(or,{size:18})," (",ee.length,")"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-xs text-slate-500 dark:text-slate-400 mb-1.5 font-medium",children:!ct||ct==="roles"?"  ":ct==="users"?"  ":"  "}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:Pe,onChange:o=>Tl(o.target.value),className:"flex-1 p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white text-sm focus:ring-2 focus:ring-violet-500 focus:border-transparent",children:[e.jsxs("option",{value:"",children:["--  ",!ct||ct==="roles"?"":ct==="users"?"":""," --"]}),(!ct||ct==="roles")&&e.jsxs("option",{value:"all_roles",className:"font-bold bg-violet-100",children:["  (",S.length," )"]}),ct==="users"&&e.jsxs("option",{value:"all_users",className:"font-bold bg-blue-100",children:["  (",Qe.length," )"]}),ct==="accounts"&&e.jsxs("option",{value:"all_accounts",className:"font-bold bg-emerald-100",children:["  (",ee.length," )"]}),(!ct||ct==="roles")&&S.map(o=>e.jsxs("option",{value:`role_${o.id}`,children:[o.name," ",o.nameEn?`(${o.nameEn})`:""]},o.id)),ct==="users"&&Qe.map(o=>e.jsxs("option",{value:`user_${o.id}`,children:[o.fullName||o.username," ",o.email?`- ${o.email}`:""]},o.id)),ct==="accounts"&&ee.map(o=>e.jsxs("option",{value:`account_${o.id}`,children:[o.name," ",o.code?`(${o.code})`:""]},o.id))]}),Pe&&e.jsxs("button",{onClick:()=>Qs(!0),className:"px-3 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white rounded-lg text-sm font-medium flex items-center gap-1.5 transition-all shadow-sm hover:shadow-md",title:"  ",children:[e.jsx(_a,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:""})]})]})]}),e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-xs text-slate-500 dark:text-slate-400 mb-1.5 font-medium",children:"  "}),e.jsx("select",{value:Ms,onChange:o=>jr(o.target.value),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white text-sm",children:sd.map(o=>{const v=o.id==="all"?Is.length:Is.filter(Ne=>Ne.category===o.id).length,A={all:"",pages:"",menu:"",tabs:"",actions:"",features:""};return e.jsxs("option",{value:o.id,children:[A[o.id]||""," ",o.name," (",v," )"]},o.id)})})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mb-4",children:sd.map(o=>{const v=o.id==="all"?Is.length:Is.filter(rt=>rt.category===o.id).length,A={all:"",pages:"",menu:"",tabs:"",actions:"",features:""},Ne={all:"bg-violet-50 dark:bg-violet-900/20 border-violet-200 dark:border-violet-800 text-violet-700 dark:text-violet-300",pages:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300",menu:"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800 text-emerald-700 dark:text-emerald-300",tabs:"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800 text-amber-700 dark:text-amber-300",actions:"bg-rose-50 dark:bg-rose-900/20 border-rose-200 dark:border-rose-800 text-rose-700 dark:text-rose-300",features:"bg-cyan-50 dark:bg-cyan-900/20 border-cyan-200 dark:border-cyan-800 text-cyan-700 dark:text-cyan-300"};return e.jsxs("button",{onClick:()=>jr(o.id),className:`p-2 rounded-lg border text-center transition-all ${Ms===o.id?Ne[o.id]+" ring-2 ring-offset-1 ring-violet-500":"bg-slate-50 dark:bg-slate-700/50 border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[e.jsx("div",{className:"text-lg",children:A[o.id]||""}),e.jsx("div",{className:"text-[10px] font-medium",children:o.name}),e.jsx("div",{className:"text-xs font-bold",children:v})]},o.id)})}),Pe&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg mb-4",children:[e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:[" ",Pe.startsWith("all_")&&e.jsxs("span",{className:"text-violet-600 dark:text-violet-400 mr-1",children:["(   ",Pe==="all_roles"?`${S.length} `:Pe==="all_users"?`${Qe.length} `:`${ee.length} `,")"]}),":"]}),e.jsxs("button",{onClick:()=>{const o=Is.reduce((v,A)=>({...v,[A.id]:{view:!0,create:!0,edit:!0,delete:!0,print:!0}}),{});if(Pe==="all_roles"){const v={...St};S.forEach(A=>{v[`role_${A.id}`]=o}),ma(v),localStorage.setItem("smartAccountant_permissionsMatrix",JSON.stringify(v))}else if(Pe==="all_users"){const v={...St};Qe.forEach(A=>{v[`user_${A.id}`]=o}),ma(v),localStorage.setItem("smartAccountant_permissionsMatrix",JSON.stringify(v))}else if(Pe==="all_accounts"){const v={...St};ee.forEach(A=>{v[`account_${A.id}`]=o}),ma(v),localStorage.setItem("smartAccountant_permissionsMatrix",JSON.stringify(v))}else{const v={...St,[Pe]:o};ma(v),localStorage.setItem("smartAccountant_permissionsMatrix",JSON.stringify(v))}r("     ","success")},className:"px-3 py-1.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 rounded-lg text-xs font-medium hover:bg-emerald-200 dark:hover:bg-emerald-900/50 flex items-center gap-1.5 transition-colors",children:[e.jsx(aa,{size:14}),"  "]}),e.jsxs("button",{onClick:()=>{const o=Is.reduce((v,A)=>({...v,[A.id]:{view:!0,create:!1,edit:!1,delete:!1,print:!0}}),{});if(Pe==="all_roles"){const v={...St};S.forEach(A=>{v[`role_${A.id}`]=o}),ma(v),localStorage.setItem("smartAccountant_permissionsMatrix",JSON.stringify(v))}else if(Pe==="all_users"){const v={...St};Qe.forEach(A=>{v[`user_${A.id}`]=o}),ma(v),localStorage.setItem("smartAccountant_permissionsMatrix",JSON.stringify(v))}else if(Pe==="all_accounts"){const v={...St};ee.forEach(A=>{v[`account_${A.id}`]=o}),ma(v),localStorage.setItem("smartAccountant_permissionsMatrix",JSON.stringify(v))}else{const v={...St,[Pe]:o};ma(v),localStorage.setItem("smartAccountant_permissionsMatrix",JSON.stringify(v))}r("      ","success")},className:"px-3 py-1.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg text-xs font-medium hover:bg-blue-200 dark:hover:bg-blue-900/50 flex items-center gap-1.5 transition-colors",children:[e.jsx(_a,{size:14}),"  "]}),e.jsxs("button",{onClick:()=>{const o=Is.reduce((v,A)=>({...v,[A.id]:{view:!1,create:!1,edit:!1,delete:!1,print:!1}}),{});if(Pe==="all_roles"){const v={...St};S.forEach(A=>{v[`role_${A.id}`]=o}),ma(v),localStorage.setItem("smartAccountant_permissionsMatrix",JSON.stringify(v))}else if(Pe==="all_users"){const v={...St};Qe.forEach(A=>{v[`user_${A.id}`]=o}),ma(v),localStorage.setItem("smartAccountant_permissionsMatrix",JSON.stringify(v))}else if(Pe==="all_accounts"){const v={...St};ee.forEach(A=>{v[`account_${A.id}`]=o}),ma(v),localStorage.setItem("smartAccountant_permissionsMatrix",JSON.stringify(v))}else{const v={...St,[Pe]:o};ma(v),localStorage.setItem("smartAccountant_permissionsMatrix",JSON.stringify(v))}r("     ","success")},className:"px-3 py-1.5 bg-rose-100 dark:bg-rose-900/30 text-rose-700 dark:text-rose-300 rounded-lg text-xs font-medium hover:bg-rose-200 dark:hover:bg-rose-900/50 flex items-center gap-1.5 transition-colors",children:[e.jsx(gt,{size:14}),"  "]})]})]})]}),Pe&&!Pe.startsWith("all_")?e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-6 bg-slate-100 dark:bg-slate-700 text-xs font-medium",children:[e.jsx("div",{className:"col-span-1 px-4 py-3 text-slate-600 dark:text-slate-300",children:""}),e.jsx("div",{className:"px-2 py-3 text-center text-slate-600 dark:text-slate-300",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx(_a,{size:16,className:"text-blue-500"}),e.jsx("span",{children:""})]})}),e.jsx("div",{className:"px-2 py-3 text-center text-slate-600 dark:text-slate-300",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx($a,{size:16,className:"text-emerald-500"}),e.jsx("span",{children:""})]})}),e.jsx("div",{className:"px-2 py-3 text-center text-slate-600 dark:text-slate-300",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx(Wt,{size:16,className:"text-amber-500"}),e.jsx("span",{children:""})]})}),e.jsx("div",{className:"px-2 py-3 text-center text-slate-600 dark:text-slate-300",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx(qt,{size:16,className:"text-rose-500"}),e.jsx("span",{children:""})]})}),e.jsx("div",{className:"px-2 py-3 text-center text-slate-600 dark:text-slate-300",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx(ll,{size:16,className:"text-indigo-500"}),e.jsx("span",{children:""})]})})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:sd.filter(o=>o.id!=="all").map(o=>{const v=Is.filter(A=>(Ms==="all"||A.category===Ms)&&A.category===o.id);return v.length===0?null:e.jsxs("div",{children:[e.jsx("div",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-700/50 border-y border-slate-200 dark:border-slate-600 sticky top-0 z-10",children:e.jsxs("span",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[o.name," (",v.length,")"]})}),v.map((A,Ne)=>{var Qt;const rt=((Qt=St[Pe])==null?void 0:Qt[A.id])||{view:!1,create:!1,edit:!1,delete:!1,print:!1},tt=rt.view&&rt.create&&rt.edit&&rt.delete&&rt.print;return e.jsxs("div",{className:`grid grid-cols-6 items-center border-b border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors ${Ne%2===0?"bg-white dark:bg-slate-800":"bg-slate-50/50 dark:bg-slate-800/50"}`,children:[e.jsxs("div",{className:"col-span-1 px-4 py-2.5 flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{const nt=tt?{view:!1,create:!1,edit:!1,delete:!1,print:!1}:{view:!0,create:!0,edit:!0,delete:!0,print:!0};ma(Na=>({...Na,[Pe]:{...Na[Pe],[A.id]:nt}})),r(` ${tt?"":""}   ${A.name} -   `,"info")},className:`w-5 h-5 rounded flex items-center justify-center text-white text-xs transition-colors ${tt?"bg-emerald-500":"bg-slate-300 dark:bg-slate-600"}`,title:" ",children:tt&&e.jsx(aa,{size:12})}),e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300 font-medium",children:A.name})]}),["view","create","edit","delete","print"].map(nt=>{const Na={view:"",create:"",edit:"",delete:"",print:""};return e.jsx("div",{className:"px-2 py-2.5 flex justify-center",children:e.jsx("button",{onClick:()=>{const Ct=!rt[nt];ma(wa=>({...wa,[Pe]:{...wa[Pe],[A.id]:{...rt,[nt]:Ct}}})),r(`${Ct?"":""} ${Na[nt]} ${A.name} -  `,Ct?"success":"info")},className:`w-9 h-9 rounded-lg flex items-center justify-center transition-all duration-200 ${rt[nt]?nt==="view"?"bg-blue-500 text-white shadow-sm shadow-blue-200 dark:shadow-none":nt==="create"?"bg-emerald-500 text-white shadow-sm shadow-emerald-200 dark:shadow-none":nt==="edit"?"bg-amber-500 text-white shadow-sm shadow-amber-200 dark:shadow-none":nt==="delete"?"bg-rose-500 text-white shadow-sm shadow-rose-200 dark:shadow-none":"bg-indigo-500 text-white shadow-sm shadow-indigo-200 dark:shadow-none":"bg-slate-100 dark:bg-slate-600 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-500"}`,children:rt[nt]?e.jsx(aa,{size:16}):e.jsx(gt,{size:16})})},nt)})]},A.id)})]},o.id)})}),e.jsxs("div",{className:"px-4 py-3 bg-slate-50 dark:bg-slate-700/50 border-t border-slate-200 dark:border-slate-600 flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[e.jsx("span",{className:"font-medium",children:Is.filter(o=>Ms==="all"||o.category===Ms).length})," ",""]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-3 h-3 rounded bg-blue-500"})," "]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-3 h-3 rounded bg-emerald-500"})," "]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-3 h-3 rounded bg-amber-500"})," "]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-3 h-3 rounded bg-rose-500"})," "]})]})]})]}):Pe&&Pe.startsWith("all_")?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-r from-violet-500/10 to-purple-500/10 dark:from-violet-900/30 dark:to-purple-900/30 border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-violet-700 dark:text-violet-300 font-bold",children:[e.jsx(tl,{size:20}),Pe==="all_roles"&&`   ${S.length} `,Pe==="all_users"&&`   ${Qe.length} `,Pe==="all_accounts"&&`   ${ee.length} `]}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"        "})]}),e.jsx("div",{className:"p-3 border-b border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[Pe==="all_roles"&&S.map(o=>e.jsx("span",{className:"px-2 py-1 bg-violet-100 dark:bg-violet-900/30 text-violet-700 dark:text-violet-300 rounded-full text-xs",children:o.name},o.id)),Pe==="all_users"&&Qe.map(o=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-xs",children:o.fullName||o.username},o.id)),Pe==="all_accounts"&&ee.map(o=>e.jsx("span",{className:"px-2 py-1 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 rounded-full text-xs",children:o.name},o.id))]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-5 bg-slate-100 dark:bg-slate-700 text-xs font-medium",children:[e.jsx("div",{className:"col-span-1 px-4 py-3 text-slate-600 dark:text-slate-300",children:""}),e.jsx("div",{className:"px-2 py-3 text-center text-slate-600 dark:text-slate-300",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx(_a,{size:16,className:"text-blue-500"}),e.jsx("span",{children:""})]})}),e.jsx("div",{className:"px-2 py-3 text-center text-slate-600 dark:text-slate-300",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx($a,{size:16,className:"text-emerald-500"}),e.jsx("span",{children:""})]})}),e.jsx("div",{className:"px-2 py-3 text-center text-slate-600 dark:text-slate-300",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx(Wt,{size:16,className:"text-amber-500"}),e.jsx("span",{children:""})]})}),e.jsx("div",{className:"px-2 py-3 text-center text-slate-600 dark:text-slate-300",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx(qt,{size:16,className:"text-rose-500"}),e.jsx("span",{children:""})]})})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:sd.filter(o=>o.id!=="all").map(o=>{const v=Is.filter(A=>(Ms==="all"||A.category===Ms)&&A.category===o.id);return v.length===0?null:e.jsxs("div",{children:[e.jsx("div",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-700/50 border-y border-slate-200 dark:border-slate-600 sticky top-0 z-10",children:e.jsxs("span",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[o.name," (",v.length,")"]})}),v.map((A,Ne)=>{var nt,Na,Ct,wa;const rt=Pe==="all_roles"?`role_${(nt=S[0])==null?void 0:nt.id}`:Pe==="all_users"?`user_${(Na=Qe[0])==null?void 0:Na.id}`:`account_${(Ct=ee[0])==null?void 0:Ct.id}`,tt=((wa=St[rt])==null?void 0:wa[A.id])||{view:!1,create:!1,edit:!1,delete:!1},Qt=tt.view&&tt.create&&tt.edit&&tt.delete;return e.jsxs("div",{className:`grid grid-cols-5 items-center border-b border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors ${Ne%2===0?"bg-white dark:bg-slate-800":"bg-slate-50/50 dark:bg-slate-800/50"}`,children:[e.jsxs("div",{className:"col-span-1 px-4 py-2.5 flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{const Et=Qt?{view:!1,create:!1,edit:!1,delete:!1}:{view:!0,create:!0,edit:!0,delete:!0},Ds={...St};Pe==="all_roles"?S.forEach(es=>{const zt=`role_${es.id}`;Ds[zt]={...Ds[zt]||{},[A.id]:Et}}):Pe==="all_users"?Qe.forEach(es=>{const zt=`user_${es.id}`;Ds[zt]={...Ds[zt]||{},[A.id]:Et}}):Pe==="all_accounts"&&ee.forEach(es=>{const zt=`account_${es.id}`;Ds[zt]={...Ds[zt]||{},[A.id]:Et}}),ma(Ds),r(` ${Qt?"":""}   ${A.name}  -   `,"info")},className:`w-5 h-5 rounded flex items-center justify-center text-white text-xs transition-colors ${Qt?"bg-emerald-500":"bg-slate-300 dark:bg-slate-600"}`,title:" ",children:Qt&&e.jsx(aa,{size:12})}),e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300 font-medium",children:A.name})]}),["view","create","edit","delete"].map(Et=>{const Ds={view:"",create:"",edit:"",delete:""};return e.jsx("div",{className:"px-2 py-2.5 flex justify-center",children:e.jsx("button",{onClick:()=>{const es=!tt[Et],zt={...St};Pe==="all_roles"?S.forEach(Rs=>{var Ls;const Va=`role_${Rs.id}`;zt[Va]={...zt[Va]||{},[A.id]:{...((Ls=zt[Va])==null?void 0:Ls[A.id])||{view:!1,create:!1,edit:!1,delete:!1},[Et]:es}}}):Pe==="all_users"?Qe.forEach(Rs=>{var Ls;const Va=`user_${Rs.id}`;zt[Va]={...zt[Va]||{},[A.id]:{...((Ls=zt[Va])==null?void 0:Ls[A.id])||{view:!1,create:!1,edit:!1,delete:!1},[Et]:es}}}):Pe==="all_accounts"&&ee.forEach(Rs=>{var Ls;const Va=`account_${Rs.id}`;zt[Va]={...zt[Va]||{},[A.id]:{...((Ls=zt[Va])==null?void 0:Ls[A.id])||{view:!1,create:!1,edit:!1,delete:!1},[Et]:es}}}),ma(zt),r(`${es?"":""} ${Ds[Et]} ${A.name}  -  `,es?"success":"info")},className:`w-9 h-9 rounded-lg flex items-center justify-center transition-all duration-200 ${tt[Et]?Et==="view"?"bg-blue-500 text-white shadow-sm shadow-blue-200 dark:shadow-none":Et==="create"?"bg-emerald-500 text-white shadow-sm shadow-emerald-200 dark:shadow-none":Et==="edit"?"bg-amber-500 text-white shadow-sm shadow-amber-200 dark:shadow-none":"bg-rose-500 text-white shadow-sm shadow-rose-200 dark:shadow-none":"bg-slate-100 dark:bg-slate-600 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-500"}`,children:tt[Et]?e.jsx(aa,{size:16}):e.jsx(gt,{size:16})})},Et)})]},A.id)})]},o.id)})}),e.jsx("div",{className:"px-4 py-3 bg-violet-50 dark:bg-violet-900/20 border-t border-slate-200 dark:border-slate-600 flex items-center justify-between",children:e.jsxs("div",{className:"text-xs text-violet-600 dark:text-violet-400 font-medium",children:["      ",Pe==="all_roles"?`${S.length} `:Pe==="all_users"?`${Qe.length} `:`${ee.length} `]})})]})]}):e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center",children:e.jsx(Yn,{className:"w-10 h-10 text-violet-500"})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"   "}),e.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:[" ",!ct||ct==="roles"?"":ct==="users"?"":"","         "]})]})]})]}),T&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:ne?" ":"  "}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:ne?"  ":"     "})]}),e.jsx("button",{onClick:()=>F(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:e.jsx(gt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4 pb-4 border-b border-slate-200 dark:border-slate-700",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400",children:" "}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden border-2 border-dashed border-slate-300 dark:border-slate-600 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 flex items-center justify-center",children:ie.logoUrl?e.jsx("img",{src:ie.logoUrl,alt:" ",className:"w-full h-full object-cover",onError:o=>{var v;o.target.style.display="none",(v=o.target.nextElementSibling)==null||v.classList.remove("hidden")}}):e.jsxs("div",{className:"flex flex-col items-center gap-1 text-slate-400",children:[e.jsx(Bs,{size:32}),e.jsx("span",{className:"text-xs",children:"  "})]})}),e.jsx("input",{type:"file",id:"account-logo-upload",accept:"image/png,image/jpeg,image/jpg,image/svg+xml,image/webp",className:"hidden",onChange:async o=>{var Ne;const v=(Ne=o.target.files)==null?void 0:Ne[0];if(!v)return;if(v.size>500*1024){r("   !   500KB","error");return}const A=new FileReader;A.onload=rt=>{var Qt;const tt=(Qt=rt.target)==null?void 0:Qt.result;Ce({...ie,logoUrl:tt})},A.readAsDataURL(v)}}),e.jsx("label",{htmlFor:"account-logo-upload",className:"absolute inset-0 bg-black/50 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",children:e.jsxs("div",{className:"flex flex-col items-center text-white",children:[e.jsx(Qn,{size:20}),e.jsx("span",{className:"text-xs mt-1",children:""})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"url",placeholder:"   URL ...",value:(Ul=ie.logoUrl)!=null&&Ul.startsWith("data:")?"":ie.logoUrl||"",onChange:o=>Ce({...ie,logoUrl:o.target.value}),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white text-sm w-64"}),ie.logoUrl&&e.jsx("button",{onClick:()=>Ce({...ie,logoUrl:""}),className:"px-3 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg text-sm",children:e.jsx(qt,{size:16})})]}),e.jsx("p",{className:"text-xs text-slate-400",children:"(PNG, JPG, SVG -   500KB)"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"  *"}),e.jsx("input",{type:"text",value:ie.name,onChange:o=>Ce({...ie,name:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:" "}),e.jsx("input",{type:"text",value:ie.nameEn,onChange:o=>Ce({...ie,nameEn:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:"Smart Accountant Co."})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:" "}),e.jsx("input",{type:"email",value:ie.email,onChange:o=>Ce({...ie,email:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:"info@company.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsx("input",{type:"tel",value:ie.phone,onChange:o=>Ce({...ie,phone:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:"+966xxxxxxxxx"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsx("input",{type:"text",value:ie.address,onChange:o=>Ce({...ie,address:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:"   - "})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsxs("select",{value:ie.currencySymbol,onChange:o=>Ce({...ie,currencySymbol:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",children:[e.jsx("option",{value:".",children:"  (.)"}),e.jsx("option",{value:".",children:"  (.)"}),e.jsx("option",{value:".",children:"  (.)"}),e.jsx("option",{value:"$",children:"  ($)"}),e.jsx("option",{value:"",children:" ()"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:" "}),e.jsx("input",{type:"text",value:ie.taxNumber,onChange:o=>Ce({...ie,taxNumber:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:"300xxxxxxxxx"})]})]}),!ne&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:e.jsx("h3",{className:"font-medium text-slate-800 dark:text-white mb-3",children:" "})}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"  *"}),e.jsx("input",{type:"text",value:ie.adminUsername,onChange:o=>Ce({...ie,adminUsername:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:"admin"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"  *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:Le?"text":"password",value:ie.adminPassword,onChange:o=>Ce({...ie,adminPassword:o.target.value}),className:"w-full p-2.5 pr-10 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:""}),e.jsx("button",{type:"button",onClick:()=>ke(!Le),className:"absolute left-3 top-2.5 text-slate-400",children:Le?e.jsx(dd,{size:18}):e.jsx(_a,{size:18})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"  "}),e.jsx("input",{type:"text",value:ie.adminFullName,onChange:o=>Ce({...ie,adminFullName:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:" "})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex gap-3",children:[e.jsx("button",{onClick:()=>{F(!1),mn()},className:"flex-1 py-2.5 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700",children:""}),e.jsxs("button",{onClick:ne?oi:xc,disabled:D,className:"flex-1 py-2.5 bg-primary text-white rounded-lg hover:bg-primary/90 disabled:opacity-50 flex items-center justify-center gap-2",children:[D&&e.jsx(xt,{size:18,className:"animate-spin"}),ne?"":""]})]})]})}),Dt&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:ue?" ":"  "}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:ue?"  ":"    "})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"  () *"}),e.jsx("input",{type:"text",value:lt.name,onChange:o=>xa({...lt,name:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:": "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"  ()"}),e.jsx("input",{type:"text",value:lt.nameEn,onChange:o=>xa({...lt,nameEn:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:"Accountant"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"color",value:lt.color,onChange:o=>xa({...lt,color:o.target.value}),className:"w-12 h-10 rounded-lg cursor-pointer border-0"}),e.jsx("input",{type:"text",value:lt.color,onChange:o=>xa({...lt,color:o.target.value}),className:"flex-1 p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white font-mono",placeholder:"#3B82F6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsx("textarea",{value:lt.description,onChange:o=>xa({...lt,description:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white h-20",placeholder:"   ..."})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex gap-3",children:[e.jsx("button",{onClick:()=>{wt(!1),ci()},className:"flex-1 py-2.5 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700",children:""}),e.jsxs("button",{onClick:ue?Ed:fc,disabled:D,className:"flex-1 py-2.5 bg-primary text-white rounded-lg hover:bg-primary/90 disabled:opacity-50 flex items-center justify-center gap-2",children:[D&&e.jsx(xt,{size:18,className:"animate-spin"}),ue?"":""]})]})]})}),vr&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 sticky top-0 bg-white dark:bg-slate-800",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[e.jsx(Es,{className:"text-amber-500"}),Ie?" ":"  "]}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:Ie?"   ":"   "})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-slate-700 dark:text-slate-300 border-b pb-2",children:" "}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"  () *"}),e.jsx("input",{type:"text",value:Fe.name,onChange:o=>H({...Fe,name:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:": "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"  ()"}),e.jsx("input",{type:"text",value:Fe.nameEn,onChange:o=>H({...Fe,nameEn:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:"Basic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsx("textarea",{value:Fe.description,onChange:o=>H({...Fe,description:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white h-16",placeholder:"  ..."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-slate-700 dark:text-slate-300 border-b pb-2",children:""}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:" "}),e.jsx("input",{type:"number",value:Fe.price,onChange:o=>H({...Fe,price:parseFloat(o.target.value)||0}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:" "}),e.jsx("input",{type:"number",value:Fe.yearlyPrice,onChange:o=>H({...Fe,yearlyPrice:parseFloat(o.target.value)||0}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsx("input",{type:"text",value:Fe.currency,onChange:o=>H({...Fe,currency:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:"."})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-medium text-slate-700 dark:text-slate-300 border-b pb-2",children:[" ",e.jsx("span",{className:"text-xs text-slate-400",children:"(-1 =  )"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsx("input",{type:"number",value:Fe.maxUsers,onChange:o=>H({...Fe,maxUsers:parseInt(o.target.value)||0}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"/"}),e.jsx("input",{type:"number",value:Fe.maxInvoices,onChange:o=>H({...Fe,maxInvoices:parseInt(o.target.value)||0}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsx("input",{type:"number",value:Fe.maxCustomers,onChange:o=>H({...Fe,maxCustomers:parseInt(o.target.value)||0}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsx("input",{type:"number",value:Fe.maxProducts,onChange:o=>H({...Fe,maxProducts:parseInt(o.target.value)||0}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-slate-700 dark:text-slate-300 border-b pb-2",children:""}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsxs("select",{value:Fe.color,onChange:o=>H({...Fe,color:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",children:[e.jsx("option",{value:"slate",children:""}),e.jsx("option",{value:"blue",children:""}),e.jsx("option",{value:"violet",children:""}),e.jsx("option",{value:"amber",children:""}),e.jsx("option",{value:"emerald",children:""}),e.jsx("option",{value:"rose",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsxs("select",{value:Fe.icon,onChange:o=>H({...Fe,icon:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",children:[e.jsx("option",{value:"Star",children:""}),e.jsx("option",{value:"Zap",children:""}),e.jsx("option",{value:"Rocket",children:""}),e.jsx("option",{value:"Crown",children:""}),e.jsx("option",{value:"Building",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsx("input",{type:"number",value:Fe.sortOrder,onChange:o=>H({...Fe,sortOrder:parseInt(o.target.value)||0}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",min:"0"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"isPopular",checked:Fe.isPopular,onChange:o=>H({...Fe,isPopular:o.target.checked}),className:"w-4 h-4 rounded border-slate-300"}),e.jsx("label",{htmlFor:"isPopular",className:"text-sm text-slate-700 dark:text-slate-300",children:"  (  )"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-slate-700 dark:text-slate-300 border-b pb-2",children:""}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:[{key:"hasBasicReports",label:" "},{key:"hasAdvancedReports",label:" "},{key:"hasEmailSupport",label:"  "},{key:"hasPrioritySupport",label:"  "},{key:"hasDedicatedManager",label:"  "},{key:"hasBackup",label:" "},{key:"hasCustomInvoices",label:" "},{key:"hasMultiCurrency",label:" "},{key:"hasApiAccess",label:"  API"},{key:"hasWhiteLabel",label:"  (White Label)"}].map(o=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Fe[o.key],onChange:v=>H({...Fe,[o.key]:v.target.checked}),className:"w-4 h-4 rounded border-slate-300 text-primary"}),e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:o.label})]},o.key))}),Fe.hasBackup&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"  "}),e.jsxs("select",{value:Fe.backupFrequency,onChange:o=>H({...Fe,backupFrequency:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",children:[e.jsx("option",{value:"",children:"..."}),e.jsx("option",{value:"weekly",children:""}),e.jsx("option",{value:"daily",children:""}),e.jsx("option",{value:"instant",children:""})]})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex gap-3 sticky bottom-0 bg-white dark:bg-slate-800",children:[e.jsx("button",{onClick:()=>{ia(!1),Er()},className:"flex-1 py-2.5 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700",children:""}),e.jsxs("button",{onClick:Ie?ui:gc,disabled:D,className:"flex-1 py-2.5 bg-primary text-white rounded-lg hover:bg-primary/90 disabled:opacity-50 flex items-center justify-center gap-2",children:[D&&e.jsx(xt,{size:18,className:"animate-spin"}),Ie?" ":" "]})]})]})}),Q&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:e.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:We?" ":"  "})}),e.jsxs("div",{className:"p-6 space-y-4",children:[!We&&ee.length>0&&e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsxs("label",{className:"block text-sm text-blue-700 dark:text-blue-400 mb-2 font-medium",children:[e.jsx(Bs,{size:16,className:"inline ml-1"})," /"]}),e.jsx("select",{value:se,onChange:o=>$e(parseInt(o.target.value)),className:"w-full p-2.5 border border-blue-300 dark:border-blue-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",children:ee.map(o=>e.jsxs("option",{value:o.id,children:[o.name," ",o.nameEn?`(${o.nameEn})`:""]},o.id))})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"  *"}),e.jsx("input",{type:"text",value:Oe.username,onChange:o=>jt({...Oe,username:o.target.value}),disabled:!!We,className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white disabled:opacity-50",placeholder:"username"})]}),!We&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"  *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:Le?"text":"password",value:Oe.password,onChange:o=>jt({...Oe,password:o.target.value}),className:"w-full p-2.5 pr-10 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:""}),e.jsx("button",{type:"button",onClick:()=>ke(!Le),className:"absolute left-3 top-2.5 text-slate-400",children:Le?e.jsx(dd,{size:18}):e.jsx(_a,{size:18})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"  *"}),e.jsx("input",{type:"text",value:Oe.fullName,onChange:o=>jt({...Oe,fullName:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:" "})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:" "}),e.jsx("input",{type:"email",value:Oe.email,onChange:o=>jt({...Oe,email:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:"email@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsx("input",{type:"tel",value:Oe.phone,onChange:o=>jt({...Oe,phone:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:"05xxxxxxxx"})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:" "}),e.jsx("input",{type:"text",value:Oe.jobTitle,onChange:o=>jt({...Oe,jobTitle:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsx("input",{type:"text",value:Oe.department,onChange:o=>jt({...Oe,department:o.target.value}),className:"w-full p-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-2",children:""}),e.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(o=>e.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 rounded-lg border cursor-pointer transition-colors ${Oe.roleIds.includes(o.id)?"border-primary bg-primary/10 text-primary":"border-slate-200 dark:border-slate-600 hover:border-primary/50"}`,children:[e.jsx("input",{type:"checkbox",checked:Oe.roleIds.includes(o.id),onChange:v=>{v.target.checked?jt({...Oe,roleIds:[...Oe.roleIds,o.id]}):jt({...Oe,roleIds:Oe.roleIds.filter(A=>A!==o.id)})},className:"hidden"}),e.jsx("span",{className:"text-sm",children:o.name})]},o.id))})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Oe.isSuperAdmin,onChange:o=>jt({...Oe,isSuperAdmin:o.target.checked}),className:"w-5 h-5 text-amber-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-800 dark:text-amber-400",children:" "}),e.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-500",children:"    "})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex gap-3",children:[e.jsx("button",{onClick:()=>{pe(!1),xn()},className:"flex-1 py-2.5 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700",children:""}),e.jsxs("button",{onClick:We?ii:uc,disabled:D,className:"flex-1 py-2.5 bg-primary text-white rounded-lg hover:bg-primary/90 disabled:opacity-50 flex items-center justify-center gap-2",children:[D&&e.jsx(xt,{size:18,className:"animate-spin"}),We?"":""]})]})]})}),R&&Re&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"  "}),e.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[": ",Re.fullName]})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:Le?"text":"password",value:_t,onChange:o=>W(o.target.value),className:"w-full p-3 pr-10 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white",placeholder:"  "}),e.jsx("button",{type:"button",onClick:()=>ke(!Le),className:"absolute left-3 top-3 text-slate-400",children:Le?e.jsx(dd,{size:18}):e.jsx(_a,{size:18})})]})}),e.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex gap-3",children:[e.jsx("button",{onClick:()=>{fe(!1),W(""),Ae(null)},className:"flex-1 py-2.5 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg",children:""}),e.jsxs("button",{onClick:un,disabled:D,className:"flex-1 py-2.5 bg-primary text-white rounded-lg disabled:opacity-50 flex items-center justify-center gap-2",children:[D&&e.jsx(xt,{size:18,className:"animate-spin"}),""]})]})]})}),_e&&Re&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[e.jsx(_a,{className:"text-purple-500",size:20})," /   "]}),e.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[": ",e.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:Re.fullName})]})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400 text-sm",children:" :"}),e.jsx("span",{className:"font-medium text-slate-800 dark:text-white",children:Re.username})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400 text-sm",children:":"}),e.jsx("span",{className:"font-medium text-slate-800 dark:text-white",children:Re.email||"-"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"  :"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"flex-1 relative",children:e.jsx("input",{type:"text",value:Ze,readOnly:!0,className:"w-full p-3 pr-10 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-white font-mono text-lg tracking-wider"})}),e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(Ze),r("   ! ","success")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",title:"",children:[e.jsx(id,{size:18}),""]})]})]}),e.jsxs("button",{onClick:()=>{const o="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789";let v="";for(let A=0;A<10;A++)v+=o.charAt(Math.floor(Math.random()*o.length));Ke(v)},className:"w-full py-2.5 border-2 border-dashed border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 rounded-lg hover:border-purple-500 hover:text-purple-600 flex items-center justify-center gap-2",children:[e.jsx(Oa,{size:18}),"   "]}),e.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:e.jsxs("p",{className:"text-amber-700 dark:text-amber-400 text-sm flex items-start gap-2",children:[e.jsx(ga,{size:16,className:"mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),'    .  ""       ""   .']})]})})]}),e.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex gap-3",children:[e.jsx("button",{onClick:()=>{He(!1),Ke(""),Ae(null)},className:"flex-1 py-2.5 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg",children:""}),e.jsxs("button",{onClick:async()=>{q(!0);try{await el.changePassword(Re.id,Ze),r(`      ${Re.fullName}`,"success"),navigator.clipboard.writeText(Ze),r("    ! ","info"),He(!1),Ke(""),Ae(null)}catch(o){r(o.message||"    ","error")}finally{q(!1)}},disabled:D,className:"flex-1 py-2.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[D&&e.jsx(xt,{size:18,className:"animate-spin"}),e.jsx(aa,{size:18})," "]})]})]})}),(ka==null?void 0:ka.show)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm",children:[e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center ${ka.type==="danger"?"bg-red-100 dark:bg-red-900/30":ka.type==="warning"?"bg-amber-100 dark:bg-amber-900/30":"bg-blue-100 dark:bg-blue-900/30"}`,children:e.jsx(ga,{className:`w-8 h-8 ${ka.type==="danger"?"text-red-600":ka.type==="warning"?"text-amber-600":"text-blue-600"}`})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:ka.title}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:ka.message})]}),e.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex gap-3",children:[e.jsx("button",{onClick:()=>Ut(null),className:"flex-1 py-2.5 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg",children:""}),e.jsx("button",{onClick:ka.onConfirm,className:`flex-1 py-2.5 text-white rounded-lg ${ka.type==="danger"?"bg-red-600 hover:bg-red-700":ka.type==="warning"?"bg-amber-600 hover:bg-amber-700":"bg-blue-600 hover:bg-blue-700"}`,children:""})]})]})}),ai&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[e.jsx(Zn,{className:"text-indigo-600"}),"   "]}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"    "})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-2",children:" "}),e.jsx("input",{type:"number",value:rn,onChange:o=>Nd(Math.max(1,parseInt(o.target.value)||1)),min:1,max:100,className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-2",children:" "}),e.jsx("input",{type:"number",value:kr,onChange:o=>cc(Math.max(1,parseInt(o.target.value)||1)),min:1,max:100,className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white"})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex gap-3",children:[e.jsx("button",{onClick:()=>Xs(!1),className:"flex-1 py-2.5 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg",children:""}),e.jsxs("button",{onClick:Sc,disabled:li,className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center justify-center gap-2 disabled:opacity-50",children:[li&&e.jsx(xt,{size:18,className:"animate-spin"}),li?" ...":""]})]})]})}),kd&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[e.jsx(Qn,{className:"text-amber-600"}),"   "]}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"   JSON "})]}),e.jsx("div",{className:"p-6",children:e.jsx("textarea",{value:bs,onChange:o=>wr(o.target.value),placeholder:'{"products": [...], "customers": [...]}',className:"w-full h-48 p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white font-mono text-sm"})}),e.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex gap-3",children:[e.jsx("button",{onClick:()=>{ln(!1),wr("")},className:"flex-1 py-2.5 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg",children:""}),e.jsx("button",{onClick:Nc,className:"flex-1 py-2.5 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:""})]})]})}),_l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm",children:[e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:e.jsx(ga,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"  "}),e.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["     (   ).",e.jsx("br",{}),e.jsx("span",{className:"text-red-600 font-bold",children:"  !"})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex gap-3",children:[e.jsx("button",{onClick:()=>si(!1),className:"flex-1 py-2.5 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg",children:""}),e.jsx("button",{onClick:wc,className:"flex-1 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700",children:""})]})]})}),sn&&Pe&&!Pe.startsWith("all_")&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>Qs(!1),children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden animate-in zoom-in-95 duration-200",onClick:o=>o.stopPropagation(),children:[e.jsx("div",{className:`p-4 border-b border-slate-200 dark:border-slate-700 ${ct==="roles"?"bg-gradient-to-r from-violet-500 to-purple-600":ct==="users"?"bg-gradient-to-r from-blue-500 to-cyan-600":"bg-gradient-to-r from-emerald-500 to-teal-600"} text-white`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[ct==="roles"&&e.jsx(tl,{size:24}),ct==="users"&&e.jsx(Za,{size:24}),ct==="accounts"&&e.jsx(or,{size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:" "}),e.jsx("p",{className:"text-sm opacity-90",children:(()=>{if(ct==="roles"){const o=parseInt(Pe.replace("role_","")),v=S.find(A=>A.id===o);return v?`: ${v.name}`:Pe}else if(ct==="users"){const o=parseInt(Pe.replace("user_","")),v=Qe.find(A=>A.id===o);return v?`: ${v.fullName||v.username}`:Pe}else{const o=parseInt(Pe.replace("account_","")),v=ee.find(A=>A.id===o);return v?`: ${v.name}`:Pe}})()})]})]}),e.jsx("button",{onClick:()=>Qs(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(gt,{size:20})})]})}),e.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(85vh-120px)] custom-scrollbar",children:(()=>{const o=St[Pe]||{},v=Object.keys(o).length,A=Object.values(o).filter(nt=>nt.view).length,Ne=Object.values(o).filter(nt=>nt.create).length,rt=Object.values(o).filter(nt=>nt.edit).length,tt=Object.values(o).filter(nt=>nt.delete).length,Qt=Object.values(o).filter(nt=>nt.print).length;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-xl text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:A}),e.jsx("div",{className:"text-xs text-green-700 dark:text-green-300",children:"  "})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-xl text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:Ne}),e.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:"  "})]}),e.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-xl text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400",children:rt}),e.jsx("div",{className:"text-xs text-amber-700 dark:text-amber-300",children:"  "})]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-xl text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:tt}),e.jsx("div",{className:"text-xs text-red-700 dark:text-red-300",children:"  "})]}),e.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-xl text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:Qt}),e.jsx("div",{className:"text-xs text-indigo-700 dark:text-indigo-300",children:"  "})]})]}),v===0&&e.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-4 rounded-xl text-center mb-4",children:e.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"     -     ( )"})}),sd.filter(nt=>nt.id!=="all").map(nt=>{const Na=Is.filter(wa=>wa.category===nt.id),Ct={pages:"",menu:"",tabs:"",actions:"",features:""};return e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"font-bold text-slate-700 dark:text-slate-200 mb-2 flex items-center gap-2",children:[e.jsx("span",{children:Ct[nt.id]||""}),nt.name,e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-normal",children:["(",Na.length," )"]})]}),e.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100 dark:bg-slate-600 text-slate-600 dark:text-slate-300",children:[e.jsx("th",{className:"p-2 text-right font-medium",children:""}),e.jsx("th",{className:"p-2 text-center font-medium w-16",children:""}),e.jsx("th",{className:"p-2 text-center font-medium w-16",children:""}),e.jsx("th",{className:"p-2 text-center font-medium w-16",children:""}),e.jsx("th",{className:"p-2 text-center font-medium w-16",children:""}),e.jsx("th",{className:"p-2 text-center font-medium w-16",children:""})]})}),e.jsx("tbody",{children:Na.map(wa=>{const Et=o[wa.id]||{view:!0,create:!0,edit:!0,delete:!0};return e.jsxs("tr",{className:"border-t border-slate-200 dark:border-slate-600",children:[e.jsx("td",{className:"p-2 text-slate-700 dark:text-slate-300",children:wa.name}),e.jsx("td",{className:"p-2 text-center",children:Et.view?e.jsx(aa,{size:16,className:"text-green-600 mx-auto"}):e.jsx(gt,{size:16,className:"text-red-500 mx-auto"})}),e.jsx("td",{className:"p-2 text-center",children:Et.create?e.jsx(aa,{size:16,className:"text-green-600 mx-auto"}):e.jsx(gt,{size:16,className:"text-red-500 mx-auto"})}),e.jsx("td",{className:"p-2 text-center",children:Et.edit?e.jsx(aa,{size:16,className:"text-green-600 mx-auto"}):e.jsx(gt,{size:16,className:"text-red-500 mx-auto"})}),e.jsx("td",{className:"p-2 text-center",children:Et.delete?e.jsx(aa,{size:16,className:"text-green-600 mx-auto"}):e.jsx(gt,{size:16,className:"text-red-500 mx-auto"})}),e.jsx("td",{className:"p-2 text-center",children:Et.print?e.jsx(aa,{size:16,className:"text-green-600 mx-auto"}):e.jsx(gt,{size:16,className:"text-red-500 mx-auto"})})]},wa.id)})})]})})]},nt.id)})]})})()}),e.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50 flex justify-end gap-2",children:e.jsx("button",{onClick:()=>Qs(!1),className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:""})})]})}),sn&&Pe&&Pe.startsWith("all_")&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>Qs(!1),children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden animate-in zoom-in-95 duration-200",onClick:o=>o.stopPropagation(),children:[e.jsx("div",{className:`p-4 border-b border-slate-200 dark:border-slate-700 ${ct==="roles"?"bg-gradient-to-r from-violet-500 to-purple-600":ct==="users"?"bg-gradient-to-r from-blue-500 to-cyan-600":"bg-gradient-to-r from-emerald-500 to-teal-600"} text-white`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[ct==="roles"&&e.jsx(tl,{size:24}),ct==="users"&&e.jsx(Za,{size:24}),ct==="accounts"&&e.jsx(or,{size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"  "}),e.jsx("p",{className:"text-sm opacity-90",children:ct==="roles"?`  (${S.length})`:ct==="users"?`  (${Qe.length})`:`  (${ee.length})`})]})]}),e.jsx("button",{onClick:()=>Qs(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(gt,{size:20})})]})}),e.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-140px)] custom-scrollbar",children:(()=>{const o=ct==="roles"?S.map(v=>({id:v.id,name:v.name,key:`role_${v.id}`})):ct==="users"?Qe.map(v=>({id:v.id,name:v.fullName||v.username,key:`user_${v.id}`})):ee.map(v=>({id:v.id,name:v.name,key:`account_${v.id}`}));return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100 dark:bg-slate-700",children:[e.jsx("th",{className:"p-3 text-right font-bold text-slate-700 dark:text-slate-200 border-b border-slate-200 dark:border-slate-600 sticky right-0 bg-slate-100 dark:bg-slate-700 z-10",children:ct==="roles"?" ":ct==="users"?" ":" "}),e.jsx("th",{className:"p-3 text-center font-medium text-slate-600 dark:text-slate-300 border-b border-slate-200 dark:border-slate-600 w-20",children:" "}),e.jsx("th",{className:"p-3 text-center font-medium text-slate-600 dark:text-slate-300 border-b border-slate-200 dark:border-slate-600 w-20",children:" "}),e.jsx("th",{className:"p-3 text-center font-medium text-slate-600 dark:text-slate-300 border-b border-slate-200 dark:border-slate-600 w-20",children:" "}),e.jsx("th",{className:"p-3 text-center font-medium text-slate-600 dark:text-slate-300 border-b border-slate-200 dark:border-slate-600 w-20",children:" "}),e.jsx("th",{className:"p-3 text-center font-medium text-slate-600 dark:text-slate-300 border-b border-slate-200 dark:border-slate-600 w-20",children:" "}),e.jsx("th",{className:"p-3 text-center font-medium text-slate-600 dark:text-slate-300 border-b border-slate-200 dark:border-slate-600 w-24",children:" "})]})}),e.jsx("tbody",{children:o.map((v,A)=>{const Ne=St[v.key]||{},rt=Object.values(Ne).filter(Et=>Et.view).length,tt=Object.values(Ne).filter(Et=>Et.create).length,Qt=Object.values(Ne).filter(Et=>Et.edit).length,nt=Object.values(Ne).filter(Et=>Et.delete).length,Na=Object.values(Ne).filter(Et=>Et.print).length,Ct=Object.keys(Ne).length,wa=Ct>0?Math.round((rt+tt+Qt+nt+Na)/(Ct*5)*100):100;return e.jsxs("tr",{className:`border-b border-slate-100 dark:border-slate-700 ${A%2===0?"bg-white dark:bg-slate-800":"bg-slate-50 dark:bg-slate-750"} hover:bg-blue-50 dark:hover:bg-slate-700 transition-colors`,children:[e.jsx("td",{className:"p-3 font-medium text-slate-700 dark:text-slate-200 sticky right-0 bg-inherit z-10",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:v.name}),Ct===0&&e.jsx("span",{className:"text-xs bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 px-1.5 py-0.5 rounded",children:""})]})}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("span",{className:`font-medium ${rt===Ct&&Ct>0?"text-green-600":rt===0&&Ct>0?"text-red-500":"text-slate-600 dark:text-slate-400"}`,children:Ct>0?rt:""})}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("span",{className:`font-medium ${tt===Ct&&Ct>0?"text-green-600":tt===0&&Ct>0?"text-red-500":"text-slate-600 dark:text-slate-400"}`,children:Ct>0?tt:""})}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("span",{className:`font-medium ${Qt===Ct&&Ct>0?"text-green-600":Qt===0&&Ct>0?"text-red-500":"text-slate-600 dark:text-slate-400"}`,children:Ct>0?Qt:""})}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("span",{className:`font-medium ${nt===Ct&&Ct>0?"text-green-600":nt===0&&Ct>0?"text-red-500":"text-slate-600 dark:text-slate-400"}`,children:Ct>0?nt:""})}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("span",{className:`font-medium ${Na===Ct&&Ct>0?"text-green-600":Na===0&&Ct>0?"text-red-500":"text-slate-600 dark:text-slate-400"}`,children:Ct>0?Na:""})}),e.jsx("td",{className:"p-3 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-slate-200 dark:bg-slate-600 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all ${wa>=80?"bg-green-500":wa>=50?"bg-amber-500":"bg-red-500"}`,style:{width:`${wa}%`}})}),e.jsxs("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 w-8",children:[wa,"%"]})]})})]},v.id)})})]})}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-xl text-sm text-blue-700 dark:text-blue-300 flex items-start gap-2",children:[e.jsx(Wo,{size:18,className:"shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:":"}),e.jsx("p",{children:"       .        ( )."})]})]})]})})()}),e.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50 flex justify-end gap-2",children:e.jsx("button",{onClick:()=>Qs(!1),className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:""})})]})})]})},U2=()=>{const{notify:r}=us(),[i,u]=x.useState([]),[c,b]=x.useState(!0),[h,y]=x.useState("all"),[j,f]=x.useState(null),[p,k]=x.useState(!1),[N,M]=x.useState(""),z=()=>{const T=new Date;return T.setFullYear(T.getFullYear()-1),T.toISOString().split("T")[0]},w=()=>new Date().toISOString().split("T")[0],[O,B]=x.useState(z),[J,L]=x.useState(w),U=hr("notifications"),D=x.useCallback(async()=>{b(!0);try{const T=await ed.getAll({unreadOnly:h==="unread",pageSize:50});u(T)}catch(T){console.warn("   :",T.message),u([])}finally{b(!1)}},[h]);if(x.useEffect(()=>{D()},[D]),U.checked&&!U.canView)return e.jsx(fr,{});const q=async T=>{try{await ed.markAsRead(T),u(F=>F.map(ne=>ne.id===T?{...ne,isRead:!0,readAt:new Date().toISOString()}:ne))}catch(F){r(F.message||"   ","error")}},Z=async()=>{k(!0);try{await ed.markAllAsRead(),u(T=>T.map(F=>({...F,isRead:!0,readAt:new Date().toISOString()}))),r("    ","success")}catch(T){r(T.message||"   ","error")}finally{k(!1)}},P=async T=>{k(!0);try{await ed.delete(T),u(F=>F.filter(ne=>ne.id!==T)),r("  ","success"),f(null)}catch(F){r(F.message||"   ","error")}finally{k(!1)}},ee=async()=>{k(!0);try{await ed.deleteAll(),u([]),r("   ","success")}catch(T){r(T.message||"   ","error")}finally{k(!1)}},I=T=>{switch(T){case"Success":return e.jsx(ud,{className:"text-emerald-500",size:20});case"Warning":return e.jsx(ga,{className:"text-amber-500",size:20});case"Error":return e.jsx(ur,{className:"text-rose-500",size:20});case"Reminder":return e.jsx(Ba,{className:"text-blue-500",size:20});case"Alert":return e.jsx(cr,{className:"text-purple-500",size:20});default:return e.jsx(Wo,{className:"text-slate-500",size:20})}},ae=T=>{switch(T){case"Success":return"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-700";case"Warning":return"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-700";case"Error":return"bg-rose-50 dark:bg-rose-900/20 border-rose-200 dark:border-rose-700";case"Reminder":return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700";case"Alert":return"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-700";default:return"bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700"}},xe=T=>{const F=new Date(T),be=new Date().getTime()-F.getTime(),ce=Math.floor(be/6e4),C=Math.floor(be/36e5),Y=Math.floor(be/864e5);return ce<1?"":ce<60?` ${ce} `:C<24?` ${C} `:Y<7?` ${Y} `:qs(T)},ve=i.filter(T=>!T.isRead).length,Ue=x.useMemo(()=>i.filter(T=>{const F=!N||T.title.toLowerCase().includes(N.toLowerCase())||T.message.toLowerCase().includes(N.toLowerCase()),ne=new Date(T.createdAt),be=!O||ne>=new Date(O),ce=!J||ne<=new Date(J+"T23:59:59");return F&&be&&ce}),[i,N,O,J]),st=()=>{M(""),B(z()),L(w())},Ye=!!N;return c?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xt,{className:"animate-spin h-12 w-12 text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"  ..."})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(cr,{className:"text-blue-600 dark:text-blue-400",size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800 dark:text-white",children:""}),ve>0&&e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[ve,"  "]})]})]}),e.jsx("button",{onClick:D,className:"p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"",children:e.jsx(Oa,{size:18})})]}),i.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:Z,disabled:p||ve===0,className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/50 disabled:opacity-50 transition-colors",children:[e.jsx(Fo,{size:14}),e.jsx("span",{className:"hidden sm:inline",children:"  "}),e.jsx("span",{className:"sm:hidden",children:" "})]}),e.jsxs("button",{onClick:ee,disabled:p,className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs bg-rose-50 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400 rounded-lg hover:bg-rose-100 dark:hover:bg-rose-900/50 disabled:opacity-50 transition-colors",children:[e.jsx(qt,{size:14})," "]})]})]}),e.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-lg w-full sm:w-fit",children:[e.jsxs("button",{onClick:()=>y("all"),className:`flex-1 sm:flex-none px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${h==="all"?"bg-white dark:bg-slate-700 text-slate-800 dark:text-white shadow":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:[" (",i.length,")"]}),e.jsxs("button",{onClick:()=>y("unread"),className:`flex-1 sm:flex-none px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${h==="unread"?"bg-white dark:bg-slate-700 text-slate-800 dark:text-white shadow":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:["  (",ve,")"]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-3 border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ua,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"...",value:N,onChange:T=>M(T.target.value),className:"w-full pr-9 pl-3 py-1.5 border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-blue-500 outline-none text-sm"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ka,{size:14,className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"date",value:O,onChange:T=>B(T.target.value),className:"w-full pr-8 pl-2 py-1.5 border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-blue-500 outline-none text-xs",title:" "})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ka,{size:14,className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"date",value:J,onChange:T=>L(T.target.value),className:"w-full pr-8 pl-2 py-1.5 border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-blue-500 outline-none text-xs",title:" "})]}),Ye&&e.jsx("button",{onClick:st,className:"flex items-center gap-1 px-2 py-1.5 text-xs text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx(gt,{size:14})})]})]}),Ye&&e.jsxs("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 mt-2",children:[Ue.length,"  ",i.length]})]}),Ue.length===0?e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 text-center border border-slate-200 dark:border-slate-700",children:[e.jsx(cr,{className:"mx-auto mb-2 text-slate-300 dark:text-slate-600",size:32}),e.jsx("h3",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:"  "}),e.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:Ye?"   ":h==="unread"?"   ":"   "})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2",children:Ue.map(T=>e.jsxs("div",{className:`rounded-lg border p-2.5 transition-all hover:shadow-md ${ae(T.type)} ${T.isRead?"":"border-r-4"}`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-1 mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"p-1 bg-white dark:bg-slate-800 rounded shadow-sm",children:I(T.type)}),e.jsx("span",{className:"text-[9px] text-slate-400 dark:text-slate-500",children:xe(T.createdAt)})]}),e.jsxs("div",{className:"flex items-center gap-0.5",children:[!T.isRead&&e.jsx("button",{onClick:()=>q(T.id),className:"p-1 text-emerald-500 hover:bg-emerald-100 dark:hover:bg-emerald-900/30 rounded transition-colors",title:" ",children:e.jsx(aa,{size:12})}),e.jsx("button",{onClick:()=>f(T.id),className:"p-1 text-rose-500 hover:bg-rose-100 dark:hover:bg-rose-900/30 rounded transition-colors",title:"",children:e.jsx(qt,{size:12})})]})]}),e.jsx("h4",{className:`font-bold text-xs text-slate-800 dark:text-white line-clamp-1 ${T.isRead?"opacity-70":""}`,children:T.title}),e.jsx("p",{className:`text-[11px] text-slate-600 dark:text-slate-300 mt-0.5 line-clamp-2 ${T.isRead?"opacity-70":""}`,children:T.message}),T.link&&e.jsx("a",{href:T.link,className:"inline-block text-[10px] text-blue-600 dark:text-blue-400 hover:underline mt-1",children:" "})]},T.id))}),j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-md p-6 animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-rose-100 dark:bg-rose-900/30 rounded-full",children:e.jsx(ga,{className:"text-rose-600 dark:text-rose-400",size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:" "}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"      "})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>P(j),disabled:p,className:"flex-1 bg-rose-600 text-white py-2.5 rounded-lg hover:bg-rose-700 font-bold disabled:opacity-50 flex items-center justify-center gap-2",children:[p&&e.jsx(xt,{className:"animate-spin h-4 w-4"}),""]}),e.jsx("button",{onClick:()=>f(null),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2.5 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:""})]})]})})]})},H2=()=>{var jt,_t;const{notify:r}=us(),[i,u]=x.useState([]),[c,b]=x.useState(!0),[h,y]=x.useState("inbox"),[j,f]=x.useState(null),[p,k]=x.useState(!1),[N,M]=x.useState(null),[z,w]=x.useState(!1),[O,B]=x.useState([]),[J,L]=x.useState([]),[U,D]=x.useState("single"),[q,Z]=x.useState(null),[P,ee]=x.useState(null),[I,ae]=x.useState(""),[xe,ve]=x.useState(""),[Ue,st]=x.useState("Normal"),[Ye,T]=x.useState(""),[F,ne]=x.useState(""),be=()=>{const W=new Date;return W.setFullYear(W.getFullYear()-1),W.toISOString().split("T")[0]},ce=()=>new Date().toISOString().split("T")[0],[C,Y]=x.useState(be),[he,le]=x.useState(ce),[je,Ee]=x.useState(1e3),[me,ie]=x.useState(500),Ce=hr("messages"),Qe=x.useCallback(async()=>{b(!0);try{const W=await Vn.getAll({folder:h});u(W)}catch(W){console.warn("   :",W.message),u([])}finally{b(!1)}},[h]),at=x.useCallback(async()=>{try{const W=localStorage.getItem("token"),Le={"Content-Type":"application/json","X-Account-Id":localStorage.getItem("accountId")||"1","X-User-Id":localStorage.getItem("userId")||""};W&&(Le.Authorization=`Bearer ${W}`);const ke=await fetch(`${ze()}/messages/limits`,{headers:Le});if(ke.ok){const se=await ke.json();Ee(se.maxMessageLength||1e3),ie(se.maxNotificationLength||500)}}catch{console.warn("    ")}},[]),ge=x.useCallback(async()=>{try{const W=localStorage.getItem("token"),Le={"Content-Type":"application/json","X-Account-Id":localStorage.getItem("accountId")||"1","X-User-Id":localStorage.getItem("userId")||""};W&&(Le.Authorization=`Bearer ${W}`);const ke=await fetch(`${ze()}/messages/all-users`,{headers:Le});if(ke.ok){const se=await ke.json();B(se||[])}else console.warn("   "),B([])}catch{console.warn("   "),B([])}},[]),Se=x.useCallback(async()=>{try{const W=localStorage.getItem("token"),Le={"Content-Type":"application/json","X-Account-Id":localStorage.getItem("accountId")||"1","X-User-Id":localStorage.getItem("userId")||""};W&&(Le.Authorization=`Bearer ${W}`);const ke=await fetch(`${ze()}/messages/accounts`,{headers:Le});if(ke.ok){const se=await ke.json();L(se||[])}else console.warn("   "),L([])}catch{console.warn("   "),L([])}},[]);x.useEffect(()=>{Qe(),at()},[Qe,at]),x.useEffect(()=>{p&&(ge(),Se())},[p,ge,Se]);const ye=x.useMemo(()=>je===0?-1:je-xe.length,[xe,je]),Ge=ye!==-1&&ye<0,Re=x.useMemo(()=>{const W={};return O.forEach(Le=>{const ke=Le.accountId||0;if(!W[ke]){const se=J.find($e=>$e.id===ke);W[ke]={account:se||null,users:[]}}W[ke].users.push(Le)}),W},[O,J]),Ae=x.useMemo(()=>P?O.filter(W=>W.accountId===P):[],[O,P]);if(Ce.checked&&!Ce.canView)return e.jsx(fr,{});const Q=async W=>{if(f(W),!W.isRead&&h==="inbox")try{await Vn.markAsRead(W.id),u(Le=>Le.map(ke=>ke.id===W.id?{...ke,isRead:!0}:ke))}catch{console.warn("    ")}},pe=async()=>{if(!I.trim()||!xe.trim()){r("   ","warning");return}if(Ge){r(`     (${je} )`,"error");return}if(U==="single"&&!q){r("  ","warning");return}if(U==="account"&&!P){r("  ","warning");return}w(!0);try{if(U==="single"&&q)await Vn.send({recipientUserId:q,subject:I,content:xe,priority:Ue}),r("   ","success");else if(U==="all"){let W=0;for(const Le of O)try{await Vn.send({recipientUserId:Le.id,subject:I,content:xe,priority:Ue}),W++}catch{console.warn(`   ${Le.fullName}`)}r(`    ${W} `,"success")}else if(U==="account"&&P){const W=Ae;let Le=0;for(const ke of W)try{await Vn.send({recipientUserId:ke.id,subject:I,content:xe,priority:Ue}),Le++}catch{console.warn(`   ${ke.fullName}`)}r(`    ${Le} `,"success")}k(!1),R(),h==="sent"&&Qe()}catch(W){r(W.message||"   ","error")}finally{w(!1)}},R=()=>{D("single"),Z(null),ee(null),ae(""),ve(""),st("Normal"),ne("")},fe=async W=>{w(!0);try{await Vn.delete(W),u(Le=>Le.filter(ke=>ke.id!==W)),(j==null?void 0:j.id)===W&&f(null),r("  ","success"),M(null)}catch(Le){r(Le.message||"   ","error")}finally{w(!1)}},_e=W=>{switch(W){case"Urgent":return"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400";case"High":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";case"Low":return"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400";default:return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}},He=W=>{switch(W){case"Urgent":return"";case"High":return"";case"Low":return"";default:return""}},Ze=W=>{const Le=new Date(W),ke=new Date;return Le.toDateString()===ke.toDateString()?Zj(W):qs(W)},Ke=i.filter(W=>!W.isRead&&h==="inbox").length,We=x.useMemo(()=>i.filter(W=>{var S;const Le=!Ye||W.subject.toLowerCase().includes(Ye.toLowerCase())||((S=h==="inbox"?W.senderName:W.recipientName)==null?void 0:S.toLowerCase().includes(Ye.toLowerCase())),ke=new Date(W.createdAt),se=!C||ke>=new Date(C),$e=!he||ke<=new Date(he+"T23:59:59");return Le&&se&&$e}),[i,Ye,h,C,he]),At=()=>{T(""),Y(be()),le(ce())},Oe=!!Ye;return c&&!j?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xt,{className:"animate-spin h-12 w-12 text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"  ..."})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:e.jsx(al,{className:"text-indigo-600 dark:text-indigo-400",size:18})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:""}),Ke>0&&h==="inbox"&&e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[Ke,"  "]})]})]}),e.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-1 px-3 py-1.5 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 transition-colors",children:[e.jsx($a,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:" "}),e.jsx("span",{className:"sm:hidden",children:""})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-3",children:[e.jsxs("div",{className:"flex p-0.5 bg-slate-100 dark:bg-slate-800 rounded-lg",children:[e.jsxs("button",{onClick:()=>{y("inbox"),f(null)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs font-medium rounded-md transition-colors ${h==="inbox"?"bg-white dark:bg-slate-700 text-slate-800 dark:text-white shadow":"text-slate-500 dark:text-slate-400"}`,children:[e.jsx(ev,{size:14}),"",Ke>0&&e.jsx("span",{className:"bg-indigo-600 text-white text-[10px] px-1 py-0.5 rounded-full",children:Ke})]}),e.jsxs("button",{onClick:()=>{y("sent"),f(null)},className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-xs font-medium rounded-md transition-colors ${h==="sent"?"bg-white dark:bg-slate-700 text-slate-800 dark:text-white shadow":"text-slate-500 dark:text-slate-400"}`,children:[e.jsx(Hf,{size:14}),""]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ua,{size:14,className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"...",value:Ye,onChange:W=>T(W.target.value),className:"w-full pr-8 pl-3 py-1.5 text-sm border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-800 dark:text-white focus:border-indigo-500 outline-none"})]}),e.jsxs("div",{className:"flex gap-1.5",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ka,{size:12,className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"date",value:C,onChange:W=>Y(W.target.value),className:"w-full pr-7 pl-1 py-1 border border-slate-200 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-800 dark:text-white focus:border-indigo-500 outline-none text-[10px]",title:" "})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ka,{size:12,className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"date",value:he,onChange:W=>le(W.target.value),className:"w-full pr-7 pl-1 py-1 border border-slate-200 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-800 dark:text-white focus:border-indigo-500 outline-none text-[10px]",title:" "})]})]}),Oe&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-[10px] text-slate-500",children:[We.length,"  ",i.length]}),e.jsxs("button",{onClick:At,className:"flex items-center gap-0.5 text-[10px] text-red-600 dark:text-red-400 hover:underline",children:[e.jsx(gt,{size:10}),""]})]})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:e.jsx("div",{className:"max-h-[500px] overflow-y-auto p-2",children:We.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(al,{className:"mx-auto mb-2 text-slate-300 dark:text-slate-600",size:32}),e.jsx("p",{className:"text-sm text-slate-400",children:"  "})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-2",children:We.map(W=>e.jsxs("div",{onClick:()=>Q(W),className:`p-2.5 cursor-pointer rounded-lg border transition-colors ${(j==null?void 0:j.id)===W.id?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-300 dark:border-indigo-600":"border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"} ${!W.isRead&&h==="inbox"?"bg-blue-50/50 dark:bg-blue-900/10":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("div",{className:"p-1.5 bg-slate-100 dark:bg-slate-700 rounded-full shrink-0",children:e.jsx(Ca,{size:12,className:"text-slate-500"})}),e.jsx("span",{className:`text-xs truncate ${!W.isRead&&h==="inbox"?"font-bold text-slate-800 dark:text-white":"text-slate-600 dark:text-slate-400"}`,children:h==="inbox"?W.senderName:W.recipientName})]}),e.jsx("span",{className:"text-[10px] text-slate-400 shrink-0",children:Ze(W.createdAt)})]}),e.jsx("p",{className:`text-xs truncate ${!W.isRead&&h==="inbox"?"font-bold text-slate-800 dark:text-white":"text-slate-600 dark:text-slate-300"}`,children:W.subject}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[e.jsx("span",{className:`text-[10px] px-1 py-0.5 rounded ${_e(W.priority)}`,children:He(W.priority)}),W.isRead&&h==="inbox"&&e.jsx(Fo,{size:12,className:"text-emerald-500"})]})]},W.id))})})})]}),e.jsx("div",{className:"lg:col-span-2",children:j?e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 h-full",children:[e.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>f(null),className:"lg:hidden p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:e.jsx(k1,{size:20})}),e.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-full",children:e.jsx(Ca,{size:20,className:"text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:h==="inbox"?j.senderName:j.recipientName}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[e.jsx(Ba,{size:14}),ds(j.createdAt)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded ${_e(j.priority)}`,children:He(j.priority)}),e.jsx("button",{onClick:()=>M(j.id),className:"p-2 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",children:e.jsx(qt,{size:18})})]})]}),e.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mt-4",children:j.subject})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"prose dark:prose-invert max-w-none",children:e.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap leading-relaxed",children:j.content})})})]}):e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 h-full flex items-center justify-center p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(al,{className:"mx-auto mb-4 text-slate-300 dark:text-slate-600",size:64}),e.jsx("h3",{className:"text-lg font-medium text-slate-600 dark:text-slate-400 mb-2",children:"  "}),e.jsx("p",{className:"text-sm text-slate-400",children:'   " "  '})]})})})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-2xl p-6 animate-in zoom-in-95 duration-200 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:" "}),e.jsx("button",{onClick:()=>{k(!1),R()},className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:e.jsx(gt,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-2",children:" "}),e.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[e.jsxs("button",{onClick:()=>{D("single"),ee(null)},className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors ${U==="single"?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-400 shadow":"text-slate-500 dark:text-slate-400"}`,children:[e.jsx(Ca,{size:16})," "]}),e.jsxs("button",{onClick:()=>{D("account"),Z(null)},className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors ${U==="account"?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-400 shadow":"text-slate-500 dark:text-slate-400"}`,children:[e.jsx(or,{size:16})," "]}),e.jsxs("button",{onClick:()=>{D("all"),Z(null),ee(null)},className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors ${U==="all"?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-400 shadow":"text-slate-500 dark:text-slate-400"}`,children:[e.jsx(od,{size:16}),""]})]})]}),U==="single"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:" *"}),e.jsxs("div",{className:"relative mb-2",children:[e.jsx(ua,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"     ...",value:F,onChange:W=>ne(W.target.value),className:"w-full pr-9 pl-4 py-2 border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-indigo-500 outline-none text-sm"})]}),e.jsx("div",{className:"border border-slate-200 dark:border-slate-600 rounded-lg max-h-48 overflow-y-auto",children:Object.entries(Re).map(([W,{account:Le,users:ke}])=>{const se=F?ke.filter($e=>{var S,we,Nt;return((S=$e.fullName)==null?void 0:S.toLowerCase().includes(F.toLowerCase()))||((we=$e.username)==null?void 0:we.toLowerCase().includes(F.toLowerCase()))||((Nt=$e.email)==null?void 0:Nt.toLowerCase().includes(F.toLowerCase()))}):ke;return se.length===0?null:e.jsxs("div",{children:[e.jsxs("div",{className:"px-3 py-1.5 bg-slate-50 dark:bg-slate-700/50 text-xs font-medium text-slate-500 dark:text-slate-400 flex items-center gap-2 sticky top-0",children:[e.jsx(or,{size:12}),(Le==null?void 0:Le.name)||" "]}),se.map($e=>{var S,we;return e.jsxs("div",{onClick:()=>Z($e.id),className:`px-3 py-2 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 ${q===$e.id?"bg-indigo-50 dark:bg-indigo-900/30":""}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ${q===$e.id?"bg-indigo-600":"bg-slate-400"}`,children:(we=(S=$e.fullName||$e.username)==null?void 0:S[0])==null?void 0:we.toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-white",children:$e.fullName||$e.username}),e.jsx("div",{className:"text-xs text-slate-400",children:$e.email})]}),q===$e.id&&e.jsx(Fo,{size:16,className:"text-indigo-600"})]},$e.id)})]},W)})}),q&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-indigo-600 dark:text-indigo-400",children:[e.jsx(Ca,{size:14})," : ",((jt=O.find(W=>W.id===q))==null?void 0:jt.fullName)||((_t=O.find(W=>W.id===q))==null?void 0:_t.username)]})]}),U==="account"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"  *"}),e.jsxs("select",{value:P||"",onChange:W=>ee(Number(W.target.value)),className:"w-full border border-slate-200 dark:border-slate-600 rounded-lg p-2.5 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-indigo-500 outline-none",children:[e.jsx("option",{value:"",children:" ..."}),J.map(W=>e.jsxs("option",{value:W.id,children:[W.name," ",W.nameEn?`(${W.nameEn})`:""]},W.id))]}),P&&e.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-700 dark:text-indigo-300",children:[e.jsx(Za,{size:16}),"    ",Ae.length," "]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[Ae.slice(0,5).map(W=>e.jsx("span",{className:"text-xs bg-white dark:bg-slate-700 px-2 py-1 rounded-full text-slate-600 dark:text-slate-300",children:W.fullName||W.username},W.id)),Ae.length>5&&e.jsxs("span",{className:"text-xs text-slate-500",children:["+",Ae.length-5," "]})]})]})]}),U==="all"&&e.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-700 dark:text-amber-300",children:[e.jsx(ga,{size:20}),e.jsx("span",{className:"font-medium",children:" "})]}),e.jsxs("p",{className:"mt-2 text-sm text-amber-600 dark:text-amber-400",children:["       (",O.length," )  ."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:" *"}),e.jsx("input",{type:"text",value:I,onChange:W=>ae(W.target.value),placeholder:" ",className:"w-full border border-slate-200 dark:border-slate-600 rounded-lg p-2.5 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-indigo-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:""}),e.jsx("div",{className:"flex gap-2",children:["Low","Normal","High","Urgent"].map(W=>e.jsx("button",{onClick:()=>st(W),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${Ue===W?_e(W):"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400"}`,children:He(W)},W))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"text-sm text-slate-600 dark:text-slate-400",children:" *"}),je>0&&e.jsx("span",{className:`text-xs font-medium ${Ge?"text-rose-600 dark:text-rose-400":ye<=50?"text-amber-600 dark:text-amber-400":"text-slate-400"}`,children:ye>=0?e.jsxs(e.Fragment,{children:[" ",ye," "]}):e.jsxs(e.Fragment,{children:["  ",Math.abs(ye)," "]})})]}),e.jsx("textarea",{value:xe,onChange:W=>ve(W.target.value),placeholder:"  ...",rows:5,maxLength:je>0?je+50:void 0,className:`w-full border rounded-lg p-2.5 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-indigo-500 outline-none resize-none ${Ge?"border-rose-500 dark:border-rose-500 focus:border-rose-500":"border-slate-200 dark:border-slate-600"}`}),je>0&&e.jsx("div",{className:"mt-1 h-1 bg-slate-200 dark:bg-slate-600 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${Ge?"bg-rose-500":ye<=50?"bg-amber-500":"bg-indigo-500"}`,style:{width:`${Math.min(xe.length/je*100,100)}%`}})})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{onClick:pe,disabled:z||Ge,className:"flex-1 flex items-center justify-center gap-2 bg-indigo-600 text-white py-2.5 rounded-lg hover:bg-indigo-700 font-bold disabled:opacity-50 transition-colors",children:z?e.jsxs(e.Fragment,{children:[e.jsx(xt,{className:"animate-spin h-4 w-4"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Hf,{size:18}),U==="single"?"":U==="all"?" ":" "]})}),e.jsx("button",{onClick:()=>{k(!1),R()},className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2.5 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:""})]})]})]})}),N&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-md p-6 animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-rose-100 dark:bg-rose-900/30 rounded-full",children:e.jsx(ga,{className:"text-rose-600 dark:text-rose-400",size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:" "}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"      "})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>fe(N),disabled:z,className:"flex-1 bg-rose-600 text-white py-2.5 rounded-lg hover:bg-rose-700 font-bold disabled:opacity-50 flex items-center justify-center gap-2",children:[z&&e.jsx(xt,{className:"animate-spin h-4 w-4"}),""]}),e.jsx("button",{onClick:()=>M(null),className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 py-2.5 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:""})]})]})})]})},I2={star:e.jsx(rc,{className:"w-6 h-6"}),zap:e.jsx(nc,{className:"w-6 h-6"}),rocket:e.jsx(Sb,{className:"w-6 h-6"}),crown:e.jsx(Es,{className:"w-6 h-6"}),building:e.jsx(or,{className:"w-6 h-6"})},B2=r=>{var u;const i=[];return r.maxUsers===-1?i.push({name:" ",included:!0,limit:" "}):i.push({name:" ",included:!0,limit:`${r.maxUsers} ${r.maxUsers===1?"":""}`}),r.maxInvoices===-1?i.push({name:" ",included:!0,limit:" "}):i.push({name:" ",included:!0,limit:`${r.maxInvoices} /`}),r.maxCustomers===-1?i.push({name:" ",included:!0,limit:" "}):i.push({name:" ",included:!0,limit:`${r.maxCustomers} `}),r.maxProducts===-1?i.push({name:" ",included:!0,limit:" "}):i.push({name:" ",included:!0,limit:`${r.maxProducts} `}),r.hasAdvancedReports?i.push({name:" ",included:!0}):r.hasBasicReports?i.push({name:" ",included:!0}):i.push({name:"",included:!1}),r.hasDedicatedManager?i.push({name:"  ",included:!0}):r.hasPrioritySupport?i.push({name:"  ",included:!0}):r.hasEmailSupport?i.push({name:"  ",included:!0}):i.push({name:" ",included:!1}),r.hasBackup?i.push({name:" ",included:!0,limit:r.backupFrequency||void 0}):i.push({name:" ",included:!1}),i.push({name:r.hasWhiteLabel?" ":" ",included:r.hasCustomInvoices}),i.push({name:" ",included:r.hasMultiCurrency}),i.push({name:"API Access",included:r.hasApiAccess}),{id:r.id,name:r.name,nameEn:r.nameEn||r.name,description:r.description||"",price:r.price,yearlyPrice:r.yearlyPrice||r.price*10,period:"",currency:r.currency,color:r.color||"slate",icon:I2[((u=r.icon)==null?void 0:u.toLowerCase())||"star"]||e.jsx(rc,{className:"w-6 h-6"}),popular:r.isPopular,features:i}},Go={slate:{bg:"bg-slate-50 dark:bg-slate-800/50",text:"text-slate-600 dark:text-slate-400",border:"border-slate-200 dark:border-slate-700",button:"bg-slate-600 hover:bg-slate-700",light:"bg-slate-100 dark:bg-slate-700"},blue:{bg:"bg-blue-50 dark:bg-blue-900/20",text:"text-blue-600 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",button:"bg-blue-600 hover:bg-blue-700",light:"bg-blue-100 dark:bg-blue-900/30"},violet:{bg:"bg-violet-50 dark:bg-violet-900/20",text:"text-violet-600 dark:text-violet-400",border:"border-violet-200 dark:border-violet-800",button:"bg-violet-600 hover:bg-violet-700",light:"bg-violet-100 dark:bg-violet-900/30"},amber:{bg:"bg-amber-50 dark:bg-amber-900/20",text:"text-amber-600 dark:text-amber-400",border:"border-amber-200 dark:border-amber-800",button:"bg-amber-600 hover:bg-amber-700",light:"bg-amber-100 dark:bg-amber-900/30"}},q2=()=>{const{user:r}=sa(),{notify:i}=us(),[u,c]=x.useState([]),[b,h]=x.useState(0),[y,j]=x.useState(null),[f,p]=x.useState("monthly"),[k,N]=x.useState(!0),[M,z]=x.useState(!1);x.useEffect(()=>{(async()=>{try{N(!0);const D=(await Xr.getAll()).filter(q=>q.isActive).sort((q,Z)=>q.sortOrder-Z.sortOrder).map(B2);c(D)}catch(U){console.error("Failed to load plans:",U),i("   ","error")}finally{N(!1)}})()},[]),x.useEffect(()=>{(async()=>{if(r!=null&&r.accountId&&u.length>0)try{const U=await is.get(parseInt(r.accountId.toString())),D=u.find(q=>q.name===U.plan||q.nameEn===U.plan);D&&h(D.id),j(U.subscriptionExpiry||null)}catch(U){console.error("Failed to load plan:",U)}})()},[r==null?void 0:r.accountId,u]);const w=L=>f==="yearly"?L.yearlyPrice:L.price,O=L=>L.price*12-L.yearlyPrice,B=async L=>{if(L===b){i("     ","info");return}const U=u.findIndex(q=>q.id===b);u.findIndex(q=>q.id===L)<U&&!confirm("       .")||(z(!0),setTimeout(()=>{z(!1),i("   ...","info")},1e3))},J=L=>new Date(L).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-gradient-to-br from-primary via-blue-600 to-violet-600 text-white py-16",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur rounded-full mb-6",children:[e.jsx(Zn,{size:18}),e.jsx("span",{className:"text-sm",children:"   "})]}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:" "}),e.jsx("p",{className:"text-blue-100 text-lg max-w-2xl mx-auto",children:"       .      ."}),e.jsxs("div",{className:"mt-8 inline-flex items-center gap-3 p-1.5 bg-white/10 backdrop-blur rounded-full",children:[e.jsx("button",{onClick:()=>p("monthly"),className:`px-6 py-2.5 rounded-full text-sm font-medium transition-all ${f==="monthly"?"bg-white text-primary shadow-lg":"text-white/80 hover:text-white"}`,children:""}),e.jsxs("button",{onClick:()=>p("yearly"),className:`px-6 py-2.5 rounded-full text-sm font-medium transition-all flex items-center gap-2 ${f==="yearly"?"bg-white text-primary shadow-lg":"text-white/80 hover:text-white"}`,children:["",e.jsx("span",{className:"px-2 py-0.5 bg-green-500 text-white text-xs rounded-full",children:" 17%"})]})]})]})}),k&&e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-12 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xt,{className:"w-10 h-10 animate-spin text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"  ..."})]})}),!k&&u.length>0&&(()=>{const L=u.find(D=>D.id===b);if(!L||L.price===0)return null;const U=Go[L.color]||Go.slate;return e.jsx("div",{className:"max-w-6xl mx-auto px-4 -mt-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${U.light} flex items-center justify-center ${U.text}`,children:L.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:" "}),e.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:L.name})]})]}),y&&e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:" "}),e.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:J(y)})]})]})})})(),!k&&u.length>0&&e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-12",children:e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(L=>{const U=Go[L.color]||Go.slate,D=L.id===b,q=w(L),Z=O(L);return e.jsxs("div",{className:`relative rounded-2xl border-2 transition-all duration-300 hover:shadow-xl ${L.popular?"border-violet-400 dark:border-violet-500 shadow-lg scale-105":D?`${U.border} shadow-md`:"border-slate-200 dark:border-slate-700 hover:border-primary/50"} bg-white dark:bg-slate-800`,children:[L.popular&&e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:e.jsx("span",{className:"px-4 py-1.5 bg-gradient-to-r from-violet-500 to-purple-600 text-white text-sm font-medium rounded-full shadow-lg",children:" "})}),D&&e.jsx("div",{className:"absolute -top-3 right-4",children:e.jsx("span",{className:`px-3 py-1 ${U.light} ${U.text} text-xs font-medium rounded-full`,children:" "})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:`w-14 h-14 mx-auto rounded-xl ${U.light} flex items-center justify-center ${U.text} mb-4`,children:L.icon}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:L.name}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:L.description})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[e.jsx("span",{className:"text-4xl font-bold text-slate-800 dark:text-white",children:q===0?"":q}),q>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-lg text-slate-500 dark:text-slate-400",children:L.currency}),e.jsxs("span",{className:"text-sm text-slate-400 dark:text-slate-500",children:["/",f==="yearly"?"":""]})]})]}),f==="yearly"&&Z>0&&e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:[" ",Z," ",L.currency," "]})]}),e.jsx("ul",{className:"space-y-3 mb-6",children:L.features.map((P,ee)=>e.jsxs("li",{className:"flex items-start gap-3",children:[P.included?e.jsx(aa,{size:18,className:"text-green-500 mt-0.5 flex-shrink-0"}):e.jsx(gt,{size:18,className:"text-slate-300 dark:text-slate-600 mt-0.5 flex-shrink-0"}),e.jsxs("span",{className:`text-sm ${P.included?"text-slate-700 dark:text-slate-300":"text-slate-400 dark:text-slate-500"}`,children:[P.name,P.limit&&P.included&&e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 mr-1",children:["(",P.limit,")"]})]})]},ee))}),e.jsx("button",{onClick:()=>B(L.id),disabled:M||D,className:`w-full py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2 ${D?"bg-slate-100 dark:bg-slate-700 text-slate-400 dark:text-slate-500 cursor-not-allowed":L.popular?"bg-gradient-to-r from-violet-500 to-purple-600 text-white hover:shadow-lg hover:shadow-violet-500/30":`${U.button} text-white`}`,children:D?e.jsxs(e.Fragment,{children:[e.jsx(Wu,{size:18})," "]}):(()=>{const P=u.findIndex(I=>I.id===b),ee=u.findIndex(I=>I.id===L.id);return ee>P?e.jsxs(e.Fragment,{children:[" ",e.jsx(rd,{size:18})]}):ee<P?" ":e.jsxs(e.Fragment,{children:[" ",e.jsx(rd,{size:18})]})})()})]})]},L.id)})})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 py-16",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-3",children:"  "}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"     "})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:e.jsx(Nl,{}),title:" ",desc:" SSL  "},{icon:e.jsx(od,{}),title:"   ",desc:"  "},{icon:e.jsx(nd,{}),title:" ",desc:"  "},{icon:e.jsx(F1,{}),title:" ",desc:"   "}].map((L,U)=>e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"w-12 h-12 mx-auto rounded-xl bg-primary/10 text-primary flex items-center justify-center mb-4",children:L.icon}),e.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-2",children:L.title}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:L.desc})]},U))})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white text-center mb-8",children:" "}),e.jsx("div",{className:"space-y-4",children:[{q:"    ",a:"        .    ."},{q:"    ",a:"   ( )     ."},{q:"   ",a:"       14     ."},{q:"    ",a:"      .     ."}].map((L,U)=>e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-2",children:L.q}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:L.a})]},U))})]}),e.jsx("div",{className:"bg-gradient-to-br from-primary to-violet-600 py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center text-white",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:" "}),e.jsx("p",{className:"text-blue-100 mb-8",children:"        "}),e.jsxs("button",{onClick:()=>B(2),className:"px-8 py-4 bg-white text-primary font-bold rounded-xl hover:shadow-xl transition-all inline-flex items-center gap-2",children:["  ",e.jsx(rd,{size:20})]})]})})]})},Y2={Star:rc,Zap:nc,Rocket:Sb,Crown:Es,Building:Bs},Qo={slate:{bg:"bg-slate-50 dark:bg-slate-800",text:"text-slate-600 dark:text-slate-300",border:"border-slate-200 dark:border-slate-700",gradient:"from-slate-400 to-slate-600"},blue:{bg:"bg-blue-50 dark:bg-blue-900/20",text:"text-blue-600 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",gradient:"from-blue-400 to-blue-600"},violet:{bg:"bg-violet-50 dark:bg-violet-900/20",text:"text-violet-600 dark:text-violet-400",border:"border-violet-200 dark:border-violet-800",gradient:"from-violet-400 to-violet-600"},amber:{bg:"bg-amber-50 dark:bg-amber-900/20",text:"text-amber-600 dark:text-amber-400",border:"border-amber-200 dark:border-amber-800",gradient:"from-amber-400 to-amber-600"},emerald:{bg:"bg-emerald-50 dark:bg-emerald-900/20",text:"text-emerald-600 dark:text-emerald-400",border:"border-emerald-200 dark:border-emerald-800",gradient:"from-emerald-400 to-emerald-600"},rose:{bg:"bg-rose-50 dark:bg-rose-900/20",text:"text-rose-600 dark:text-rose-400",border:"border-rose-200 dark:border-rose-800",gradient:"from-rose-400 to-rose-600"}},V2=()=>{const{notify:r}=us(),{user:i}=sa(),[u,c]=x.useState([]),[b,h]=x.useState(!0),[y,j]=x.useState("monthly"),[f,p]=x.useState(null),[k,N]=x.useState(!1);x.useEffect(()=>{M()},[]);const M=async()=>{try{h(!0);const D=await Xr.getAll(!1);c(D.sort((q,Z)=>q.sortOrder-Z.sortOrder))}catch(D){console.error("Error loading plans:",D),r("   ","error")}finally{h(!1)}},z=D=>{p(D),N(!0)},w=async()=>{f&&(r(`   ${f.name} !    .`,"success"),N(!1),p(null))},O=D=>y==="yearly"&&D.yearlyPrice?D.yearlyPrice:D.price,B=D=>{if(D.yearlyPrice&&D.price>0){const q=D.yearlyPrice/12,Z=(D.price-q)/D.price*100;return Z>0?Z.toFixed(0):null}return null},J=D=>D===-1?" ":D.toLocaleString(),L=({icon:D,color:q})=>{const Z=Y2[D]||rc,P=Qo[q]||Qo.blue;return e.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${P.gradient} flex items-center justify-center shadow-lg`,children:e.jsx(Z,{className:"text-white",size:28})})},U=({available:D,text:q})=>e.jsxs("div",{className:`flex items-center gap-3 py-2 ${D?"text-slate-700 dark:text-slate-200":"text-slate-400 dark:text-slate-500"}`,children:[D?e.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:e.jsx(aa,{size:12,className:"text-emerald-600 dark:text-emerald-400"})}):e.jsx("div",{className:"w-5 h-5 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:e.jsx(gt,{size:12,className:"text-slate-400"})}),e.jsx("span",{className:"text-sm",children:q})]});return b?e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xt,{className:"animate-spin h-12 w-12 text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"  ..."})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-primary/10 text-primary px-4 py-2 rounded-full text-sm font-medium mb-4",children:[e.jsx(Zn,{size:16}),"   "]}),e.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-white mb-4",children:" "}),e.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto",children:"     .       ."}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-8",children:[e.jsx("span",{className:`text-sm font-medium ${y==="monthly"?"text-primary":"text-slate-500"}`,children:""}),e.jsx("button",{onClick:()=>j(y==="monthly"?"yearly":"monthly"),className:`relative w-14 h-7 rounded-full transition-colors ${y==="yearly"?"bg-primary":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${y==="yearly"?"translate-x-8":"translate-x-1"}`})}),e.jsxs("span",{className:`text-sm font-medium ${y==="yearly"?"text-primary":"text-slate-500"}`,children:["",e.jsx("span",{className:"mr-1 text-xs text-emerald-600 dark:text-emerald-400 bg-emerald-100 dark:bg-emerald-900/30 px-2 py-0.5 rounded-full",children:"  20%"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(D=>{const q=Qo[D.color]||Qo.blue,Z=B(D);return e.jsxs("div",{className:`relative bg-white dark:bg-slate-800 rounded-2xl border-2 transition-all duration-300 hover:shadow-xl hover:-translate-y-1 ${D.isPopular?`${q.border} shadow-lg ring-2 ring-${D.color}-500/20`:"border-slate-200 dark:border-slate-700"}`,children:[D.isPopular&&e.jsx("div",{className:`absolute -top-3 left-1/2 -translate-x-1/2 bg-gradient-to-r ${q.gradient} text-white text-xs font-bold px-4 py-1 rounded-full shadow-lg`,children:" "}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-6",children:e.jsxs("div",{children:[e.jsx(L,{icon:D.icon,color:D.color}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mt-4",children:D.name}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:D.description||D.nameEn})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-4xl font-bold text-slate-800 dark:text-white",children:O(D).toLocaleString()}),e.jsx("span",{className:"text-slate-500 dark:text-slate-400 text-sm",children:D.currency}),e.jsxs("span",{className:"text-slate-400 dark:text-slate-500 text-sm",children:["/ ",y==="yearly"?"":""]})]}),y==="yearly"&&Z&&e.jsxs("p",{className:"text-sm text-emerald-600 dark:text-emerald-400 mt-1",children:[" ",Z,"%   "]})]}),e.jsxs("div",{className:"space-y-3 pb-6 border-b border-slate-100 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(Za,{size:16,className:q.text}),e.jsxs("span",{className:"text-slate-600 dark:text-slate-300",children:[e.jsx("strong",{children:J(D.maxUsers)})," "]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(Fa,{size:16,className:q.text}),e.jsxs("span",{className:"text-slate-600 dark:text-slate-300",children:[e.jsx("strong",{children:J(D.maxInvoices)})," /"]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(z1,{size:16,className:q.text}),e.jsxs("span",{className:"text-slate-600 dark:text-slate-300",children:[e.jsx("strong",{children:J(D.maxCustomers)})," "]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(Ya,{size:16,className:q.text}),e.jsxs("span",{className:"text-slate-600 dark:text-slate-300",children:[e.jsx("strong",{children:J(D.maxProducts)})," "]})]})]}),e.jsxs("div",{className:"py-6 space-y-1",children:[e.jsx(U,{available:D.hasBasicReports,text:" "}),e.jsx(U,{available:D.hasAdvancedReports,text:" "}),e.jsx(U,{available:D.hasEmailSupport,text:"  "}),e.jsx(U,{available:D.hasPrioritySupport,text:"  "}),e.jsx(U,{available:D.hasDedicatedManager,text:"  "}),e.jsx(U,{available:D.hasBackup,text:`  ${D.backupFrequency==="instant"?"":D.backupFrequency==="daily"?"":""}`}),e.jsx(U,{available:D.hasCustomInvoices,text:" "}),e.jsx(U,{available:D.hasMultiCurrency,text:" "}),e.jsx(U,{available:D.hasApiAccess,text:"  API"}),e.jsx(U,{available:D.hasWhiteLabel,text:"  "})]}),e.jsxs("button",{onClick:()=>z(D),className:`w-full py-3 px-6 rounded-xl font-medium transition-all flex items-center justify-center gap-2 ${D.isPopular?`bg-gradient-to-r ${q.gradient} text-white hover:shadow-lg hover:shadow-${D.color}-500/25`:"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:[D.price===0?" ":" ",e.jsx(rd,{size:16})]})]})]},D.id)})}),e.jsxs("div",{className:"mt-16 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"  SmartAccountant"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-8",children:[e.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(tl,{className:"text-blue-600 dark:text-blue-400",size:24})}),e.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-2",children:" "}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"     "})]}),e.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Ba,{className:"text-emerald-600 dark:text-emerald-400",size:24})}),e.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-2",children:" 24/7"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"      "})]}),e.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"w-12 h-12 bg-violet-100 dark:bg-violet-900/30 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(nc,{className:"text-violet-600 dark:text-violet-400",size:24})}),e.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-2",children:" "}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"    "})]})]})]}),k&&f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(L,{icon:f.icon,color:f.color}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mt-4",children:"  "}),e.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:["      ",e.jsx("strong",{children:f.name})]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-xl p-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:""}),e.jsxs("span",{className:"text-xl font-bold text-slate-800 dark:text-white",children:[O(f).toLocaleString()," ",f.currency]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2 text-sm",children:[e.jsx("span",{className:"text-slate-500",children:""}),e.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:y==="yearly"?"":""})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>N(!1),className:"flex-1 py-3 px-4 border border-slate-300 dark:border-slate-600 rounded-xl text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:""}),e.jsx("button",{onClick:w,className:"flex-1 py-3 px-4 bg-primary text-white rounded-xl hover:bg-primary/90 transition-colors",children:" "})]})]})})]})},G2=()=>{const{login:r,isLoading:i,error:u,clearError:c}=sa(),{notify:b}=us(),h=tn(),[y,j]=x.useState(""),[f,p]=x.useState(""),[k,N]=x.useState(!1),[M,z]=x.useState({showDemoLogin:!1,showAdminLogin:!1}),[w,O]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const D=await mt.getPublicSettings();z({showDemoLogin:D.showDemoLogin===!0||D.showDemoLogin==="true",showAdminLogin:D.showAdminLogin===!0||D.showAdminLogin==="true"})}catch(D){console.error("   :",D)}finally{O(!0)}})()},[]),x.useEffect(()=>{u&&(b(u,"error"),c())},[u,b,c]);const B=async U=>{if(U.preventDefault(),!y.trim()||!f.trim()){b("     ","warning");return}await r(y,f)&&(b(" !    ","success"),h("/"))},J=()=>{j("admin"),p("admin123"),b("    (admin / admin123)","info")},L=()=>{j("admin"),p("admin123"),b("     (admin / admin123)","warning")};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-xl overflow-hidden",children:[e.jsxs("div",{className:"bg-primary p-8 text-center text-white",children:[e.jsx("div",{className:"mx-auto bg-white/20 w-16 h-16 rounded-2xl flex items-center justify-center mb-4 backdrop-blur-sm",children:e.jsx(xd,{size:32,className:"text-white"})}),e.jsx("h1",{className:"text-2xl font-bold",children:" "}),e.jsx("p",{className:"text-blue-100 mt-2 text-sm",children:"   "})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("form",{onSubmit:B,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"  /  "}),e.jsxs("div",{className:"relative",children:[e.jsx(Ca,{className:"absolute right-3 top-3 text-slate-400",size:20}),e.jsx("input",{type:"text",className:"w-full pr-10 pl-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all bg-white text-slate-900 placeholder:text-slate-400",placeholder:"admin",value:y,onChange:U=>j(U.target.value),disabled:i})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx(Nl,{className:"absolute right-3 top-3 text-slate-400",size:20}),e.jsx("input",{type:k?"text":"password",className:"w-full pr-10 pl-12 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all bg-white text-slate-900 placeholder:text-slate-400",placeholder:"",value:f,onChange:U=>p(U.target.value),disabled:i}),e.jsx("button",{type:"button",onClick:()=>N(!k),className:"absolute left-3 top-3 text-slate-400 hover:text-slate-600 focus:outline-none",title:k?"  ":"  ",children:k?e.jsx(dd,{size:20}):e.jsx(_a,{size:20})})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-slate-800 text-white py-3 rounded-lg font-bold hover:bg-slate-700 transition-colors shadow-lg shadow-slate-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx(xt,{size:20,className:"animate-spin"}),"  ..."]}):" "})]}),w&&(M.showDemoLogin||M.showAdminLogin)&&e.jsxs("div",{className:`grid ${M.showDemoLogin&&M.showAdminLogin?"grid-cols-2":"grid-cols-1"} gap-3 mt-4`,children:[M.showDemoLogin&&e.jsxs("button",{type:"button",onClick:J,disabled:i,className:"flex flex-col items-center justify-center gap-1 text-xs text-emerald-600 font-bold bg-emerald-50 py-2 rounded-lg hover:bg-emerald-100 transition-colors border border-emerald-200 disabled:opacity-50",children:[e.jsx(Zn,{size:16}),e.jsx("span",{children:" "})]}),M.showAdminLogin&&e.jsxs("button",{type:"button",onClick:L,disabled:i,className:"flex flex-col items-center justify-center gap-1 text-xs text-rose-600 font-bold bg-rose-50 py-2 rounded-lg hover:bg-rose-100 transition-colors border border-rose-200 disabled:opacity-50",children:[e.jsx(Wu,{size:16}),e.jsx("span",{children:" "})]})]}),e.jsxs("div",{className:"mt-6 text-center pt-6 border-t border-slate-100",children:[e.jsx("p",{className:"text-slate-500 text-sm mb-3",children:"  "}),e.jsx(sc,{to:"/register",className:"text-primary font-bold hover:underline",children:"  "})]})]})]})})},Q2=()=>{const{register:r,isLoading:i,error:u,clearError:c}=sa(),{notify:b}=us(),h=tn(),[y,j]=x.useState({name:"",companyName:"",email:"",password:""});x.useEffect(()=>{u&&(b(u,"error"),c())},[u,b,c]);const f=async p=>{if(p.preventDefault(),!y.name||!y.companyName||!y.email||!y.password){b("    ","warning");return}if(y.password.length<6){b("     6   ","warning");return}if(!confirm("       "))return;await r(y)&&(b("   !  ","success"),h("/"))};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-xl overflow-hidden",children:[e.jsxs("div",{className:"bg-slate-800 p-8 text-center text-white",children:[e.jsx("div",{className:"mx-auto bg-white/10 w-16 h-16 rounded-2xl flex items-center justify-center mb-4 backdrop-blur-sm",children:e.jsx(xd,{size:32,className:"text-white"})}),e.jsx("h1",{className:"text-2xl font-bold",children:"  "}),e.jsx("p",{className:"text-slate-300 mt-2 text-sm",children:"   "})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx(Ca,{className:"absolute right-3 top-3 text-slate-400",size:18}),e.jsx("input",{type:"text",className:"w-full pr-10 pl-4 py-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary outline-none bg-white text-slate-900 placeholder:text-slate-400",value:y.name,onChange:p=>j({...y,name:p.target.value}),disabled:i})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"  / "}),e.jsxs("div",{className:"relative",children:[e.jsx(Bs,{className:"absolute right-3 top-3 text-slate-400",size:18}),e.jsx("input",{type:"text",className:"w-full pr-10 pl-4 py-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary outline-none bg-white text-slate-900 placeholder:text-slate-400",value:y.companyName,onChange:p=>j({...y,companyName:p.target.value}),disabled:i})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx(al,{className:"absolute right-3 top-3 text-slate-400",size:18}),e.jsx("input",{type:"email",className:"w-full pr-10 pl-4 py-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary outline-none bg-white text-slate-900 placeholder:text-slate-400",value:y.email,onChange:p=>j({...y,email:p.target.value}),disabled:i})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx(Nl,{className:"absolute right-3 top-3 text-slate-400",size:18}),e.jsx("input",{type:"password",className:"w-full pr-10 pl-4 py-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary outline-none bg-white text-slate-900 placeholder:text-slate-400",value:y.password,onChange:p=>j({...y,password:p.target.value}),disabled:i})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-primary text-white py-3 rounded-lg font-bold hover:bg-blue-700 transition-colors mt-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx(xt,{size:20,className:"animate-spin"}),"  ..."]}):" "})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(sc,{to:"/login",className:"text-slate-500 text-sm hover:text-slate-800",children:"    "})})]})]})})};class Pn{constructor(){this.syncQueue=[],this.listeners=new Set,this.dataChangeListeners=new Set,this.state={isOnline:navigator.onLine,isSyncing:!1,lastSyncTime:null,pendingChanges:0,syncErrors:[]},this.syncInterval=null,this.STORAGE_KEY="smartAccountant_syncQueue",this.SYNC_INTERVAL=3e4,this.init()}static getInstance(){return Pn.instance||(Pn.instance=new Pn),Pn.instance}init(){this.loadQueue(),window.addEventListener("online",()=>this.handleOnlineStatusChange(!0)),window.addEventListener("offline",()=>this.handleOnlineStatusChange(!1)),this.startPeriodicSync(),this.state.isOnline&&this.syncQueue.length>0&&this.processSyncQueue()}loadQueue(){try{const i=localStorage.getItem(this.STORAGE_KEY);i&&(this.syncQueue=JSON.parse(i),this.updateState({pendingChanges:this.syncQueue.filter(u=>u.status==="pending").length}))}catch(i){console.error("Failed to load sync queue:",i)}}saveQueue(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.syncQueue))}catch(i){console.error("Failed to save sync queue:",i)}}handleOnlineStatusChange(i){this.updateState({isOnline:i}),i&&this.syncQueue.length>0&&this.processSyncQueue()}startPeriodicSync(){this.syncInterval&&clearInterval(this.syncInterval),this.syncInterval=setInterval(()=>{this.state.isOnline&&this.syncQueue.length>0&&!this.state.isSyncing&&this.processSyncQueue()},this.SYNC_INTERVAL)}updateState(i){this.state={...this.state,...i},this.notifyListeners()}notifyListeners(){this.listeners.forEach(i=>i(this.state))}notifyDataChange(i,u,c){this.dataChangeListeners.forEach(b=>b(i,u,c))}subscribe(i){return this.listeners.add(i),i(this.state),()=>this.listeners.delete(i)}onDataChange(i){return this.dataChangeListeners.add(i),()=>this.dataChangeListeners.delete(i)}getState(){return{...this.state}}queueChange(i,u,c){const b=`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,h={id:b,type:u,entity:i,data:c,timestamp:Date.now(),retryCount:0,status:"pending"};return this.syncQueue.push(h),this.saveQueue(),this.updateState({pendingChanges:this.syncQueue.filter(y=>y.status==="pending").length}),this.notifyDataChange(i,u,c),this.state.isOnline&&!this.state.isSyncing&&this.processSyncQueue(),b}markSynced(i,u,c){this.notifyDataChange(i,u,c),this.updateState({lastSyncTime:Date.now()})}async processSyncQueue(){if(this.state.isSyncing||!this.state.isOnline)return;const i=this.syncQueue.filter(c=>c.status==="pending"||c.status==="failed");if(i.length===0)return;this.updateState({isSyncing:!0,syncErrors:[]});const u=[];for(const c of i)try{c.status="syncing",this.saveQueue(),c.status="synced"}catch(b){c.status="failed",c.retryCount++,u.push(`Failed to sync ${c.entity}: ${b.message}`)}this.syncQueue=this.syncQueue.filter(c=>c.status!=="synced"),this.saveQueue(),this.updateState({isSyncing:!1,pendingChanges:this.syncQueue.filter(c=>c.status==="pending").length,syncErrors:u,lastSyncTime:Date.now()})}clearQueue(){this.syncQueue=[],this.saveQueue(),this.updateState({pendingChanges:0,syncErrors:[]})}async forceSync(){if(!this.state.isOnline)throw new Error("Cannot sync while offline");await this.processSyncQueue()}getPendingCount(){return this.syncQueue.filter(i=>i.status==="pending").length}hasPendingChanges(i){return this.syncQueue.some(u=>u.entity===i&&u.status==="pending")}destroy(){this.syncInterval&&clearInterval(this.syncInterval),window.removeEventListener("online",()=>this.handleOnlineStatusChange(!0)),window.removeEventListener("offline",()=>this.handleOnlineStatusChange(!1))}}const ld=Pn.getInstance(),X2=x.createContext(null),P2=({children:r})=>{const[i,u]=x.useState(ld.getState()),[c,b]=x.useState(navigator.onLine),[h,y]=x.useState(md()),j=x.useRef(new Map),f=x.useRef(new Map),p={enabled:h.allowOfflineMode!==!1,canCreate:h.allowOfflineCreate!==!1,canEdit:h.allowOfflineEdit!==!1,canDelete:h.allowOfflineDelete===!0,showIndicator:h.showOfflineIndicator!==!1,autoSync:h.autoSyncOnReconnect!==!1,maxPendingChanges:h.maxPendingChanges||100},k=x.useCallback(q=>{if(c)return!0;if(!p.enabled)return!1;switch(q){case"create":return p.canCreate;case"edit":return p.canEdit;case"delete":return p.canDelete;default:return!1}},[c,p]);x.useEffect(()=>{const q=ld.subscribe(u),Z=()=>{b(!0),p.autoSync&&ld.forceSync()},P=()=>b(!1);window.addEventListener("online",Z),window.addEventListener("offline",P);const ee=setInterval(()=>{y(md())},5e3);return()=>{q(),window.removeEventListener("online",Z),window.removeEventListener("offline",P),clearInterval(ee)}},[p.autoSync]);const N=x.useCallback(q=>{const Z=j.current.get(q);return(Z==null?void 0:Z.data)||[]},[]),M=x.useCallback((q,Z)=>{j.current.set(q,{data:Z,timestamp:Date.now(),isLoading:!1,error:null});const P=f.current.get(q);P&&P.forEach(ee=>ee())},[]),z=x.useCallback((q,Z)=>{const P=j.current.get(q);if(P){const ee=P.data.map(I=>I.id===Z.id?Z:I);M(q,ee)}},[M]),w=x.useCallback((q,Z)=>{const P=j.current.get(q),ee=(P==null?void 0:P.data)||[];M(q,[...ee,Z])},[M]),O=x.useCallback((q,Z)=>{const P=j.current.get(q);if(P){const ee=P.data.filter(I=>I.id!==Z);M(q,ee)}},[M]),B=x.useCallback(async(q,Z,P,ee)=>{const I=j.current.get(q),ae=I!=null&&I.data?[...I.data]:[];switch(Z){case"add":w(q,P);break;case"update":z(q,P);break;case"delete":O(q,P.id);break}try{const xe=await ee();return(Z==="add"||Z==="update")&&z(q,xe),ld.markSynced(q,Z==="add"?"create":Z,xe),xe}catch(xe){throw M(q,ae),xe}},[w,z,O,M]),J=x.useCallback(async q=>{console.log(`Refreshing ${q}...`)},[]),L=x.useCallback(async()=>{const q=Array.from(j.current.keys());await Promise.all(q.map(Z=>J(Z)))},[J]),U=x.useCallback(async()=>{await ld.forceSync()},[]),D={syncState:i,isOnline:c,refreshData:J,refreshAll:L,optimisticUpdate:B,getCache:N,setCache:M,updateCacheItem:z,addCacheItem:w,removeCacheItem:O,forceSync:U,pendingChangesCount:i.pendingChanges,offlinePermissions:p,canPerformOffline:k};return e.jsxs(X2.Provider,{value:D,children:[r,!c&&p.showIndicator&&e.jsxs("div",{className:"fixed bottom-4 left-4 bg-amber-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 z-50 animate-pulse",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:"   "}),p.enabled?e.jsxs("span",{className:"text-xs opacity-80",children:["   ",p.canCreate&&"  ",p.canEdit&&"  ",p.canDelete&&"  "]}):e.jsx("span",{className:"text-xs text-red-200",children:"   "})]})]}),i.isSyncing&&p.showIndicator&&e.jsxs("div",{className:"fixed bottom-4 right-4 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 z-50",children:[e.jsx("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{children:" ..."})]}),i.pendingChanges>0&&!i.isSyncing&&c&&p.showIndicator&&e.jsxs("div",{className:"fixed bottom-4 right-4 bg-orange-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 z-50",children:[e.jsxs("span",{children:[i.pendingChanges,"  "]}),e.jsx("button",{onClick:U,className:"bg-white/20 hover:bg-white/30 px-2 py-1 rounded text-sm",children:" "})]}),!c&&!p.enabled&&p.showIndicator&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md text-center",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto text-red-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"   "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"       .    ."})]})})]})},Ub=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary to-blue-700 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(xt,{className:"w-12 h-12 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-lg",children:" ..."})]})}),J2=({children:r})=>{const{isAuthenticated:i,isLoading:u}=sa();return u?e.jsx(Ub,{}):i?r:e.jsx(bb,{to:"/login",replace:!0})},Wf=({children:r})=>{const{isAuthenticated:i,isLoading:u}=sa();return u?e.jsx(Ub,{}):i?e.jsx(bb,{to:"/",replace:!0}):r},Z2=()=>e.jsx(Gj,{children:e.jsx(Xj,{children:e.jsx(Lj,{children:e.jsx(P2,{children:e.jsx(By,{children:e.jsxs(py,{children:[e.jsx(Ia,{path:"/login",element:e.jsx(Wf,{children:e.jsx(G2,{})})}),e.jsx(Ia,{path:"/register",element:e.jsx(Wf,{children:e.jsx(Q2,{})})}),e.jsxs(Ia,{path:"/",element:e.jsx(J2,{children:e.jsx(h2,{})}),children:[e.jsx(Ia,{index:!0,element:e.jsx(S2,{})}),e.jsx(Ia,{path:"products",element:e.jsx(C2,{})}),e.jsx(Ia,{path:"customers",element:e.jsx(D2,{})}),e.jsx(Ia,{path:"invoices",element:e.jsx(_2,{})}),e.jsx(Ia,{path:"expenses",element:e.jsx(L2,{})}),e.jsx(Ia,{path:"reports",element:e.jsx($2,{})}),e.jsx(Ia,{path:"notifications",element:e.jsx(U2,{})}),e.jsx(Ia,{path:"messages",element:e.jsx(H2,{})}),e.jsx(Ia,{path:"plans",element:e.jsx(q2,{})}),e.jsx(Ia,{path:"pricing",element:e.jsx(V2,{})}),e.jsx(Ia,{path:"settings",element:e.jsx(O2,{})})]})]})})})})})}),Hb=document.getElementById("root");if(!Hb)throw new Error("Could not find root element to mount to");const F2=pg.createRoot(Hb);F2.render(e.jsx(tb.StrictMode,{children:e.jsx(Z2,{})}));
